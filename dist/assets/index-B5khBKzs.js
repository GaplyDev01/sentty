var Pv=Object.defineProperty;var Tv=(e,t,r)=>t in e?Pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ph=(e,t,r)=>Tv(e,typeof t!="symbol"?t+"":t,r);function Av(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ip={exports:{}},_o={},Fp={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=Symbol.for("react.element"),Mv=Symbol.for("react.portal"),Lv=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),$v=Symbol.for("react.context"),Vv=Symbol.for("react.forward_ref"),Uv=Symbol.for("react.suspense"),Bv=Symbol.for("react.memo"),zv=Symbol.for("react.lazy"),Th=Symbol.iterator;function Wv(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var $p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vp=Object.assign,Up={};function us(e,t,r){this.props=e,this.context=t,this.refs=Up,this.updater=r||$p}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bp(){}Bp.prototype=us.prototype;function Lu(e,t,r){this.props=e,this.context=t,this.refs=Up,this.updater=r||$p}var Ou=Lu.prototype=new Bp;Ou.constructor=Lu;Vp(Ou,us.prototype);Ou.isPureReactComponent=!0;var Ah=Array.isArray,zp=Object.prototype.hasOwnProperty,Iu={current:null},Wp={key:!0,ref:!0,__self:!0,__source:!0};function Hp(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)zp.call(t,n)&&!Wp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Li,type:e,key:i,ref:o,props:s,_owner:Iu.current}}function Hv(e,t){return{$$typeof:Li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Li}function qv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Rh=/\/+/g;function pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qv(""+e.key):t.toString(36)}function ja(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Li:case Mv:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+pl(o,0):n,Ah(s)?(r="",e!=null&&(r=e.replace(Rh,"$&/")+"/"),ja(s,t,r,"",function(u){return u})):s!=null&&(Fu(s)&&(s=Hv(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ah(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+pl(i,l);o+=ja(i,t,r,c,s)}else if(c=Wv(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+pl(i,l++),o+=ja(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gi(e,t,r){if(e==null)return e;var n=[],s=0;return ja(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Kv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ka={transition:null},Gv={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Iu};function qp(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Gi,forEach:function(e,t,r){Gi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!Fu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=us;W.Fragment=Lv;W.Profiler=Iv;W.PureComponent=Lu;W.StrictMode=Ov;W.Suspense=Uv;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gv;W.act=qp;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Iu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zp.call(t,c)&&!Wp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Li,type:e.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:$v,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fv,_context:e},e.Consumer=e};W.createElement=Hp;W.createFactory=function(e){var t=Hp.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Vv,render:e}};W.isValidElement=Fu;W.lazy=function(e){return{$$typeof:zv,_payload:{_status:-1,_result:e},_init:Kv}};W.memo=function(e,t){return{$$typeof:Bv,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};W.unstable_act=qp;W.useCallback=function(e,t){return Be.current.useCallback(e,t)};W.useContext=function(e){return Be.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};W.useEffect=function(e,t){return Be.current.useEffect(e,t)};W.useId=function(){return Be.current.useId()};W.useImperativeHandle=function(e,t,r){return Be.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Be.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Be.current.useReducer(e,t,r)};W.useRef=function(e){return Be.current.useRef(e)};W.useState=function(e){return Be.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Be.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Be.current.useTransition()};W.version="18.3.1";Fp.exports=W;var x=Fp.exports;const Kp=Rv(x),Yv=Av({__proto__:null,default:Kp},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv=x,Xv=Symbol.for("react.element"),Jv=Symbol.for("react.fragment"),Zv=Object.prototype.hasOwnProperty,ew=Qv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tw={key:!0,ref:!0,__self:!0,__source:!0};function Gp(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Zv.call(t,n)&&!tw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Xv,type:e,key:i,ref:o,props:s,_owner:ew.current}}_o.Fragment=Jv;_o.jsx=Gp;_o.jsxs=Gp;Ip.exports=_o;var a=Ip.exports,Yp={exports:{}},ot={},Qp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var V=R.length;R.push(F);e:for(;0<V;){var K=V-1>>>1,ce=R[K];if(0<s(ce,F))R[K]=F,R[V]=ce,V=K;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var F=R[0],V=R.pop();if(V!==F){R[0]=V;e:for(var K=0,ce=R.length,H=ce>>>1;K<H;){var z=2*(K+1)-1,vs=R[z],Je=z+1,or=R[Je];if(0>s(vs,V))Je<ce&&0>s(or,vs)?(R[K]=or,R[Je]=V,K=Je):(R[K]=vs,R[z]=V,K=z);else if(Je<ce&&0>s(or,V))R[K]=or,R[Je]=V,K=Je;else break e}}return F}function s(R,F){var V=R.sortIndex-F.sortIndex;return V!==0?V:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=R)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function b(R){if(w=!1,g(R),!v)if(r(c)!==null)v=!0,le(S);else{var F=r(u);F!==null&&ee(b,F.startTime-R)}}function S(R,F){v=!1,w&&(w=!1,m(C),C=-1),p=!0;var V=f;try{for(g(F),h=r(c);h!==null&&(!(h.expirationTime>F)||R&&!P());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var ce=K(h.expirationTime<=F);F=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===r(c)&&n(c),g(F)}else n(c);h=r(c)}if(h!==null)var H=!0;else{var z=r(u);z!==null&&ee(b,z.startTime-F),H=!1}return H}finally{h=null,f=V,p=!1}}var _=!1,k=null,C=-1,N=5,E=-1;function P(){return!(e.unstable_now()-E<N)}function A(){if(k!==null){var R=e.unstable_now();E=R;var F=!0;try{F=k(!0,R)}finally{F?L():(_=!1,k=null)}}else _=!1}var L;if(typeof y=="function")L=function(){y(A)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=A,L=function(){X.postMessage(null)}}else L=function(){j(A,0)};function le(R){k=R,_||(_=!0,L())}function ee(R,F){C=j(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,le(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var V=f;f=F;try{return R()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=f;f=R;try{return F()}finally{f=V}},e.unstable_scheduleCallback=function(R,F,V){var K=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,R){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=V+ce,R={id:d++,callback:F,priorityLevel:R,startTime:V,expirationTime:ce,sortIndex:-1},V>K?(R.sortIndex=V,t(u,R),r(c)===null&&R===r(u)&&(w?(m(C),C=-1):w=!0,ee(b,V-K))):(R.sortIndex=ce,t(c,R),v||p||(v=!0,le(S))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var F=f;return function(){var V=f;f=F;try{return R.apply(this,arguments)}finally{f=V}}}})(Xp);Qp.exports=Xp;var rw=Qp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=x,it=rw;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jp=new Set,si={};function fn(e,t){Gn(e,t),Gn(e+"Capture",t)}function Gn(e,t){for(si[e]=t,e=0;e<t.length;e++)Jp.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=Object.prototype.hasOwnProperty,sw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dh={},Mh={};function iw(e){return cc.call(Mh,e)?!0:cc.call(Dh,e)?!1:sw.test(e)?Mh[e]=!0:(Dh[e]=!0,!1)}function aw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ow(e,t,r,n){if(t===null||typeof t>"u"||aw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var $u=/[\-:]([a-z])/g;function Vu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($u,Vu);Ae[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($u,Vu);Ae[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($u,Vu);Ae[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uu(e,t,r,n){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ow(t,r,s,n)&&(r=null),n||s===null?iw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sr=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),Bu=Symbol.for("react.strict_mode"),uc=Symbol.for("react.profiler"),Zp=Symbol.for("react.provider"),eg=Symbol.for("react.context"),zu=Symbol.for("react.forward_ref"),dc=Symbol.for("react.suspense"),hc=Symbol.for("react.suspense_list"),Wu=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),tg=Symbol.for("react.offscreen"),Lh=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=Lh&&e[Lh]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,gl;function Ms(e){if(gl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gl=t&&t[1]||""}return`
`+gl+e}var yl=!1;function xl(e,t){if(!e||yl)return"";yl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ms(e):""}function lw(e){switch(e.tag){case 5:return Ms(e.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 2:case 15:return e=xl(e.type,!1),e;case 11:return e=xl(e.type.render,!1),e;case 1:return e=xl(e.type,!0),e;default:return""}}function fc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case kn:return"Portal";case uc:return"Profiler";case Bu:return"StrictMode";case dc:return"Suspense";case hc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eg:return(e.displayName||"Context")+".Consumer";case Zp:return(e._context.displayName||"Context")+".Provider";case zu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wu:return t=e.displayName||null,t!==null?t:fc(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return fc(e(t))}catch{}}return null}function cw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fc(t);case 8:return t===Bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uw(e){var t=rg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qi(e){e._valueTracker||(e._valueTracker=uw(e))}function ng(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mc(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Oh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sg(e,t){t=t.checked,t!=null&&Uu(e,"checked",t,!1)}function pc(e,t){sg(e,t);var r=Rr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gc(e,t.type,r):t.hasOwnProperty("defaultValue")&&gc(e,t.type,Rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ih(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gc(e,t,r){(t!=="number"||$a(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ls=Array.isArray;function Vn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Ls(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rr(r)}}function ig(e,t){var r=Rr(t.value),n=Rr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $h(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ag(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ag(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xi,og=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dw=["Webkit","ms","Moz","O"];Object.keys(Bs).forEach(function(e){dw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bs[t]=Bs[e]})});function lg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bs.hasOwnProperty(e)&&Bs[e]?(""+t).trim():t+"px"}function cg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=lg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var hw=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(e,t){if(t){if(hw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function wc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=null;function Hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jc=null,Un=null,Bn=null;function Vh(e){if(e=Fi(e)){if(typeof jc!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Ao(t),jc(e.stateNode,e.type,t))}}function ug(e){Un?Bn?Bn.push(e):Bn=[e]:Un=e}function dg(){if(Un){var e=Un,t=Bn;if(Bn=Un=null,Vh(e),t)for(e=0;e<t.length;e++)Vh(t[e])}}function hg(e,t){return e(t)}function fg(){}var vl=!1;function mg(e,t,r){if(vl)return e(t,r);vl=!0;try{return hg(e,t,r)}finally{vl=!1,(Un!==null||Bn!==null)&&(fg(),dg())}}function ai(e,t){var r=e.stateNode;if(r===null)return null;var n=Ao(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var kc=!1;if(Jt)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){kc=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{kc=!1}function fw(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var zs=!1,Va=null,Ua=!1,Sc=null,mw={onError:function(e){zs=!0,Va=e}};function pw(e,t,r,n,s,i,o,l,c){zs=!1,Va=null,fw.apply(mw,arguments)}function gw(e,t,r,n,s,i,o,l,c){if(pw.apply(this,arguments),zs){if(zs){var u=Va;zs=!1,Va=null}else throw Error(T(198));Ua||(Ua=!0,Sc=u)}}function mn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function pg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uh(e){if(mn(e)!==e)throw Error(T(188))}function yw(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Uh(s),e;if(i===n)return Uh(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function gg(e){return e=yw(e),e!==null?yg(e):null}function yg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yg(e);if(t!==null)return t;e=e.sibling}return null}var xg=it.unstable_scheduleCallback,Bh=it.unstable_cancelCallback,xw=it.unstable_shouldYield,vw=it.unstable_requestPaint,xe=it.unstable_now,ww=it.unstable_getCurrentPriorityLevel,qu=it.unstable_ImmediatePriority,vg=it.unstable_UserBlockingPriority,Ba=it.unstable_NormalPriority,bw=it.unstable_LowPriority,wg=it.unstable_IdlePriority,Co=null,Lt=null;function jw(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Co,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Nw,kw=Math.log,Sw=Math.LN2;function Nw(e){return e>>>=0,e===0?32:31-(kw(e)/Sw|0)|0}var Ji=64,Zi=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Os(l):(i&=o,i!==0&&(n=Os(i)))}else o=r&~s,o!==0?n=Os(o):i!==0&&(n=Os(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ct(t),s=1<<r,n|=e[r],t&=~s;return n}function _w(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ct(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=_w(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Nc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bg(){var e=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),e}function wl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=r}function Ew(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ct(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ku(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ct(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Q=0;function jg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kg,Gu,Sg,Ng,_g,_c=!1,ea=[],kr=null,Sr=null,Nr=null,oi=new Map,li=new Map,yr=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(e,t){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function js(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fi(t),t!==null&&Gu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Tw(e,t,r,n,s){switch(t){case"focusin":return kr=js(kr,e,t,r,n,s),!0;case"dragenter":return Sr=js(Sr,e,t,r,n,s),!0;case"mouseover":return Nr=js(Nr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return oi.set(i,js(oi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,li.set(i,js(li.get(i)||null,e,t,r,n,s)),!0}return!1}function Cg(e){var t=Jr(e.target);if(t!==null){var r=mn(t);if(r!==null){if(t=r.tag,t===13){if(t=pg(r),t!==null){e.blockedOn=t,_g(e.priority,function(){Sg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bc=n,r.target.dispatchEvent(n),bc=null}else return t=Fi(r),t!==null&&Gu(t),e.blockedOn=r,!1;t.shift()}return!0}function Wh(e,t,r){Sa(e)&&r.delete(t)}function Aw(){_c=!1,kr!==null&&Sa(kr)&&(kr=null),Sr!==null&&Sa(Sr)&&(Sr=null),Nr!==null&&Sa(Nr)&&(Nr=null),oi.forEach(Wh),li.forEach(Wh)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,_c||(_c=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Aw)))}function ci(e){function t(s){return ks(s,e)}if(0<ea.length){ks(ea[0],e);for(var r=1;r<ea.length;r++){var n=ea[r];n.blockedOn===e&&(n.blockedOn=null)}}for(kr!==null&&ks(kr,e),Sr!==null&&ks(Sr,e),Nr!==null&&ks(Nr,e),oi.forEach(t),li.forEach(t),r=0;r<yr.length;r++)n=yr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)Cg(r),r.blockedOn===null&&yr.shift()}var zn=sr.ReactCurrentBatchConfig,Wa=!0;function Rw(e,t,r,n){var s=Q,i=zn.transition;zn.transition=null;try{Q=1,Yu(e,t,r,n)}finally{Q=s,zn.transition=i}}function Dw(e,t,r,n){var s=Q,i=zn.transition;zn.transition=null;try{Q=4,Yu(e,t,r,n)}finally{Q=s,zn.transition=i}}function Yu(e,t,r,n){if(Wa){var s=Cc(e,t,r,n);if(s===null)Tl(e,t,n,Ha,r),zh(e,n);else if(Tw(s,e,t,r,n))n.stopPropagation();else if(zh(e,n),t&4&&-1<Pw.indexOf(e)){for(;s!==null;){var i=Fi(s);if(i!==null&&kg(i),i=Cc(e,t,r,n),i===null&&Tl(e,t,n,Ha,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Tl(e,t,n,null,r)}}var Ha=null;function Cc(e,t,r,n){if(Ha=null,e=Hu(n),e=Jr(e),e!==null)if(t=mn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=pg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ha=e,null}function Eg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ww()){case qu:return 1;case vg:return 4;case Ba:case bw:return 16;case wg:return 536870912;default:return 16}default:return 16}}var wr=null,Qu=null,Na=null;function Pg(){if(Na)return Na;var e,t=Qu,r=t.length,n,s="value"in wr?wr.value:wr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Na=s.slice(e,1<n?1-n:void 0)}function _a(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ta(){return!0}function Hh(){return!1}function lt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ta:Hh,this.isPropagationStopped=Hh,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=lt(ds),Ii=me({},ds,{view:0,detail:0}),Mw=lt(Ii),bl,jl,Ss,Eo=me({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(bl=e.screenX-Ss.screenX,jl=e.screenY-Ss.screenY):jl=bl=0,Ss=e),bl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),qh=lt(Eo),Lw=me({},Eo,{dataTransfer:0}),Ow=lt(Lw),Iw=me({},Ii,{relatedTarget:0}),kl=lt(Iw),Fw=me({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),$w=lt(Fw),Vw=me({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uw=lt(Vw),Bw=me({},ds,{data:0}),Kh=lt(Bw),zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hw[e])?!!t[e]:!1}function Ju(){return qw}var Kw=me({},Ii,{key:function(e){if(e.key){var t=zw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ww[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(e){return e.type==="keypress"?_a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gw=lt(Kw),Yw=me({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=lt(Yw),Qw=me({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),Xw=lt(Qw),Jw=me({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zw=lt(Jw),eb=me({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tb=lt(eb),rb=[9,13,27,32],Zu=Jt&&"CompositionEvent"in window,Ws=null;Jt&&"documentMode"in document&&(Ws=document.documentMode);var nb=Jt&&"TextEvent"in window&&!Ws,Tg=Jt&&(!Zu||Ws&&8<Ws&&11>=Ws),Yh=" ",Qh=!1;function Ag(e,t){switch(e){case"keyup":return rb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function sb(e,t){switch(e){case"compositionend":return Rg(t);case"keypress":return t.which!==32?null:(Qh=!0,Yh);case"textInput":return e=t.data,e===Yh&&Qh?null:e;default:return null}}function ib(e,t){if(Nn)return e==="compositionend"||!Zu&&Ag(e,t)?(e=Pg(),Na=Qu=wr=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tg&&t.locale!=="ko"?null:t.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ab[e.type]:t==="textarea"}function Dg(e,t,r,n){ug(n),t=qa(t,"onChange"),0<t.length&&(r=new Xu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hs=null,ui=null;function ob(e){Wg(e,0)}function Po(e){var t=En(e);if(ng(t))return e}function lb(e,t){if(e==="change")return t}var Mg=!1;if(Jt){var Sl;if(Jt){var Nl="oninput"in document;if(!Nl){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),Nl=typeof Jh.oninput=="function"}Sl=Nl}else Sl=!1;Mg=Sl&&(!document.documentMode||9<document.documentMode)}function Zh(){Hs&&(Hs.detachEvent("onpropertychange",Lg),ui=Hs=null)}function Lg(e){if(e.propertyName==="value"&&Po(ui)){var t=[];Dg(t,ui,e,Hu(e)),mg(ob,t)}}function cb(e,t,r){e==="focusin"?(Zh(),Hs=t,ui=r,Hs.attachEvent("onpropertychange",Lg)):e==="focusout"&&Zh()}function ub(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(ui)}function db(e,t){if(e==="click")return Po(t)}function hb(e,t){if(e==="input"||e==="change")return Po(t)}function fb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:fb;function di(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!cc.call(t,s)||!Pt(e[s],t[s]))return!1}return!0}function ef(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tf(e,t){var r=ef(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ef(r)}}function Og(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Og(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ig(){for(var e=window,t=$a();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$a(e.document)}return t}function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mb(e){var t=Ig(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Og(r.ownerDocument.documentElement,r)){if(n!==null&&ed(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=tf(r,i);var o=tf(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pb=Jt&&"documentMode"in document&&11>=document.documentMode,_n=null,Ec=null,qs=null,Pc=!1;function rf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pc||_n==null||_n!==$a(n)||(n=_n,"selectionStart"in n&&ed(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qs&&di(qs,n)||(qs=n,n=qa(Ec,"onSelect"),0<n.length&&(t=new Xu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_n)))}function ra(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cn={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},_l={},Fg={};Jt&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function To(e){if(_l[e])return _l[e];if(!Cn[e])return e;var t=Cn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fg)return _l[e]=t[r];return e}var $g=To("animationend"),Vg=To("animationiteration"),Ug=To("animationstart"),Bg=To("transitionend"),zg=new Map,nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){zg.set(e,t),fn(t,[e])}for(var Cl=0;Cl<nf.length;Cl++){var El=nf[Cl],gb=El.toLowerCase(),yb=El[0].toUpperCase()+El.slice(1);Ir(gb,"on"+yb)}Ir($g,"onAnimationEnd");Ir(Vg,"onAnimationIteration");Ir(Ug,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(Bg,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function sf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gw(n,t,void 0,e),e.currentTarget=null}function Wg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;sf(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;sf(s,l,u),i=c}}}if(Ua)throw e=Sc,Ua=!1,Sc=null,e}function se(e,t){var r=t[Mc];r===void 0&&(r=t[Mc]=new Set);var n=e+"__bubble";r.has(n)||(Hg(t,e,2,!1),r.add(n))}function Pl(e,t,r){var n=0;t&&(n|=4),Hg(r,e,n,t)}var na="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[na]){e[na]=!0,Jp.forEach(function(r){r!=="selectionchange"&&(xb.has(r)||Pl(r,!1,e),Pl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[na]||(t[na]=!0,Pl("selectionchange",!1,t))}}function Hg(e,t,r,n){switch(Eg(t)){case 1:var s=Rw;break;case 4:s=Dw;break;default:s=Yu}r=s.bind(null,t,r,e),s=void 0,!kc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Tl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Jr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}mg(function(){var u=i,d=Hu(r),h=[];e:{var f=zg.get(e);if(f!==void 0){var p=Xu,v=e;switch(e){case"keypress":if(_a(r)===0)break e;case"keydown":case"keyup":p=Gw;break;case"focusin":v="focus",p=kl;break;case"focusout":v="blur",p=kl;break;case"beforeblur":case"afterblur":p=kl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xw;break;case $g:case Vg:case Ug:p=$w;break;case Bg:p=Zw;break;case"scroll":p=Mw;break;case"wheel":p=tb;break;case"copy":case"cut":case"paste":p=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gh}var w=(t&4)!==0,j=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,g;y!==null;){g=y;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,m!==null&&(b=ai(y,m),b!=null&&w.push(fi(y,b,g)))),j)break;y=y.return}0<w.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==bc&&(v=r.relatedTarget||r.fromElement)&&(Jr(v)||v[Zt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Jr(v):null,v!==null&&(j=mn(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=qh,b="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Gh,b="onPointerLeave",m="onPointerEnter",y="pointer"),j=p==null?f:En(p),g=v==null?f:En(v),f=new w(b,y+"leave",p,r,d),f.target=j,f.relatedTarget=g,b=null,Jr(d)===u&&(w=new w(m,y+"enter",v,r,d),w.target=g,w.relatedTarget=j,b=w),j=b,p&&v)t:{for(w=p,m=v,y=0,g=w;g;g=yn(g))y++;for(g=0,b=m;b;b=yn(b))g++;for(;0<y-g;)w=yn(w),y--;for(;0<g-y;)m=yn(m),g--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=yn(w),m=yn(m)}w=null}else w=null;p!==null&&af(h,f,p,w,!1),v!==null&&j!==null&&af(h,j,v,w,!0)}}e:{if(f=u?En(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=lb;else if(Xh(f))if(Mg)S=hb;else{S=ub;var _=cb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=db);if(S&&(S=S(e,u))){Dg(h,S,r,d);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&gc(f,"number",f.value)}switch(_=u?En(u):window,e){case"focusin":(Xh(_)||_.contentEditable==="true")&&(_n=_,Ec=u,qs=null);break;case"focusout":qs=Ec=_n=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,rf(h,r,d);break;case"selectionchange":if(pb)break;case"keydown":case"keyup":rf(h,r,d)}var k;if(Zu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Nn?Ag(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Tg&&r.locale!=="ko"&&(Nn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Nn&&(k=Pg()):(wr=d,Qu="value"in wr?wr.value:wr.textContent,Nn=!0)),_=qa(u,C),0<_.length&&(C=new Kh(C,e,null,r,d),h.push({event:C,listeners:_}),k?C.data=k:(k=Rg(r),k!==null&&(C.data=k)))),(k=nb?sb(e,r):ib(e,r))&&(u=qa(u,"onBeforeInput"),0<u.length&&(d=new Kh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}Wg(h,t)})}function fi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ai(e,r),i!=null&&n.unshift(fi(e,i,s)),i=ai(e,t),i!=null&&n.push(fi(e,i,s))),e=e.return}return n}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function af(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ai(r,i),c!=null&&o.unshift(fi(r,c,l))):s||(c=ai(r,i),c!=null&&o.push(fi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var vb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function of(e){return(typeof e=="string"?e:""+e).replace(vb,`
`).replace(wb,"")}function sa(e,t,r){if(t=of(t),of(e)!==t&&r)throw Error(T(425))}function Ka(){}var Tc=null,Ac=null;function Rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(e){return lf.resolve(null).then(e).catch(kb)}:Dc;function kb(e){setTimeout(function(){throw e})}function Al(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ci(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ci(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+hs,mi="__reactProps$"+hs,Zt="__reactContainer$"+hs,Mc="__reactEvents$"+hs,Sb="__reactListeners$"+hs,Nb="__reactHandles$"+hs;function Jr(e){var t=e[Mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zt]||r[Mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cf(e);e!==null;){if(r=e[Mt])return r;e=cf(e)}return t}e=r,r=e.parentNode}return null}function Fi(e){return e=e[Mt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Ao(e){return e[mi]||null}var Lc=[],Pn=-1;function Fr(e){return{current:e}}function ie(e){0>Pn||(e.current=Lc[Pn],Lc[Pn]=null,Pn--)}function ne(e,t){Pn++,Lc[Pn]=e.current,e.current=t}var Dr={},Fe=Fr(Dr),Ye=Fr(!1),ln=Dr;function Yn(e,t){var r=e.type.contextTypes;if(!r)return Dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function Ga(){ie(Ye),ie(Fe)}function uf(e,t,r){if(Fe.current!==Dr)throw Error(T(168));ne(Fe,t),ne(Ye,r)}function qg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,cw(e)||"Unknown",s));return me({},r,n)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dr,ln=Fe.current,ne(Fe,e),ne(Ye,Ye.current),!0}function df(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=qg(e,t,ln),n.__reactInternalMemoizedMergedChildContext=e,ie(Ye),ie(Fe),ne(Fe,e)):ie(Ye),ne(Ye,r)}var Wt=null,Ro=!1,Rl=!1;function Kg(e){Wt===null?Wt=[e]:Wt.push(e)}function _b(e){Ro=!0,Kg(e)}function $r(){if(!Rl&&Wt!==null){Rl=!0;var e=0,t=Q;try{var r=Wt;for(Q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wt=null,Ro=!1}catch(s){throw Wt!==null&&(Wt=Wt.slice(e+1)),xg(qu,$r),s}finally{Q=t,Rl=!1}}return null}var Tn=[],An=0,Qa=null,Xa=0,dt=[],ht=0,cn=null,Ht=1,qt="";function Hr(e,t){Tn[An++]=Xa,Tn[An++]=Qa,Qa=e,Xa=t}function Gg(e,t,r){dt[ht++]=Ht,dt[ht++]=qt,dt[ht++]=cn,cn=e;var n=Ht;e=qt;var s=32-Ct(n)-1;n&=~(1<<s),r+=1;var i=32-Ct(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ht=1<<32-Ct(t)+s|r<<s|n,qt=i+e}else Ht=1<<i|r<<s|n,qt=e}function td(e){e.return!==null&&(Hr(e,1),Gg(e,1,0))}function rd(e){for(;e===Qa;)Qa=Tn[--An],Tn[An]=null,Xa=Tn[--An],Tn[An]=null;for(;e===cn;)cn=dt[--ht],dt[ht]=null,qt=dt[--ht],dt[ht]=null,Ht=dt[--ht],dt[ht]=null}var rt=null,tt=null,oe=!1,_t=null;function Yg(e,t){var r=ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,tt=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cn!==null?{id:Ht,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rt=e,tt=null,!0):!1;default:return!1}}function Oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ic(e){if(oe){var t=tt;if(t){var r=t;if(!hf(e,t)){if(Oc(e))throw Error(T(418));t=_r(r.nextSibling);var n=rt;t&&hf(e,t)?Yg(n,r):(e.flags=e.flags&-4097|2,oe=!1,rt=e)}}else{if(Oc(e))throw Error(T(418));e.flags=e.flags&-4097|2,oe=!1,rt=e}}}function ff(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function ia(e){if(e!==rt)return!1;if(!oe)return ff(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rc(e.type,e.memoizedProps)),t&&(t=tt)){if(Oc(e))throw Qg(),Error(T(418));for(;t;)Yg(e,t),t=_r(t.nextSibling)}if(ff(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tt=_r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=rt?_r(e.stateNode.nextSibling):null;return!0}function Qg(){for(var e=tt;e;)e=_r(e.nextSibling)}function Qn(){tt=rt=null,oe=!1}function nd(e){_t===null?_t=[e]:_t.push(e)}var Cb=sr.ReactCurrentBatchConfig;function Ns(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function aa(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function Xg(e){function t(m,y){if(e){var g=m.deletions;g===null?(m.deletions=[y],m.flags|=16):g.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=Tr(m,y),m.index=0,m.sibling=null,m}function i(m,y,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<y?(m.flags|=2,y):g):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,g,b){return y===null||y.tag!==6?(y=$l(g,m.mode,b),y.return=m,y):(y=s(y,g),y.return=m,y)}function c(m,y,g,b){var S=g.type;return S===Sn?d(m,y,g.props.children,b,g.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mr&&mf(S)===y.type)?(b=s(y,g.props),b.ref=Ns(m,y,g),b.return=m,b):(b=Da(g.type,g.key,g.props,null,m.mode,b),b.ref=Ns(m,y,g),b.return=m,b)}function u(m,y,g,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Vl(g,m.mode,b),y.return=m,y):(y=s(y,g.children||[]),y.return=m,y)}function d(m,y,g,b,S){return y===null||y.tag!==7?(y=sn(g,m.mode,b,S),y.return=m,y):(y=s(y,g),y.return=m,y)}function h(m,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$l(""+y,m.mode,g),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yi:return g=Da(y.type,y.key,y.props,null,m.mode,g),g.ref=Ns(m,null,y),g.return=m,g;case kn:return y=Vl(y,m.mode,g),y.return=m,y;case mr:var b=y._init;return h(m,b(y._payload),g)}if(Ls(y)||ws(y))return y=sn(y,m.mode,g,null),y.return=m,y;aa(m,y)}return null}function f(m,y,g,b){var S=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(m,y,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yi:return g.key===S?c(m,y,g,b):null;case kn:return g.key===S?u(m,y,g,b):null;case mr:return S=g._init,f(m,y,S(g._payload),b)}if(Ls(g)||ws(g))return S!==null?null:d(m,y,g,b,null);aa(m,g)}return null}function p(m,y,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(g)||null,l(y,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yi:return m=m.get(b.key===null?g:b.key)||null,c(y,m,b,S);case kn:return m=m.get(b.key===null?g:b.key)||null,u(y,m,b,S);case mr:var _=b._init;return p(m,y,g,_(b._payload),S)}if(Ls(b)||ws(b))return m=m.get(g)||null,d(y,m,b,S,null);aa(y,b)}return null}function v(m,y,g,b){for(var S=null,_=null,k=y,C=y=0,N=null;k!==null&&C<g.length;C++){k.index>C?(N=k,k=null):N=k.sibling;var E=f(m,k,g[C],b);if(E===null){k===null&&(k=N);break}e&&k&&E.alternate===null&&t(m,k),y=i(E,y,C),_===null?S=E:_.sibling=E,_=E,k=N}if(C===g.length)return r(m,k),oe&&Hr(m,C),S;if(k===null){for(;C<g.length;C++)k=h(m,g[C],b),k!==null&&(y=i(k,y,C),_===null?S=k:_.sibling=k,_=k);return oe&&Hr(m,C),S}for(k=n(m,k);C<g.length;C++)N=p(k,m,C,g[C],b),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?C:N.key),y=i(N,y,C),_===null?S=N:_.sibling=N,_=N);return e&&k.forEach(function(P){return t(m,P)}),oe&&Hr(m,C),S}function w(m,y,g,b){var S=ws(g);if(typeof S!="function")throw Error(T(150));if(g=S.call(g),g==null)throw Error(T(151));for(var _=S=null,k=y,C=y=0,N=null,E=g.next();k!==null&&!E.done;C++,E=g.next()){k.index>C?(N=k,k=null):N=k.sibling;var P=f(m,k,E.value,b);if(P===null){k===null&&(k=N);break}e&&k&&P.alternate===null&&t(m,k),y=i(P,y,C),_===null?S=P:_.sibling=P,_=P,k=N}if(E.done)return r(m,k),oe&&Hr(m,C),S;if(k===null){for(;!E.done;C++,E=g.next())E=h(m,E.value,b),E!==null&&(y=i(E,y,C),_===null?S=E:_.sibling=E,_=E);return oe&&Hr(m,C),S}for(k=n(m,k);!E.done;C++,E=g.next())E=p(k,m,C,E.value,b),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),y=i(E,y,C),_===null?S=E:_.sibling=E,_=E);return e&&k.forEach(function(A){return t(m,A)}),oe&&Hr(m,C),S}function j(m,y,g,b){if(typeof g=="object"&&g!==null&&g.type===Sn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Yi:e:{for(var S=g.key,_=y;_!==null;){if(_.key===S){if(S=g.type,S===Sn){if(_.tag===7){r(m,_.sibling),y=s(_,g.props.children),y.return=m,m=y;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mr&&mf(S)===_.type){r(m,_.sibling),y=s(_,g.props),y.ref=Ns(m,_,g),y.return=m,m=y;break e}r(m,_);break}else t(m,_);_=_.sibling}g.type===Sn?(y=sn(g.props.children,m.mode,b,g.key),y.return=m,m=y):(b=Da(g.type,g.key,g.props,null,m.mode,b),b.ref=Ns(m,y,g),b.return=m,m=b)}return o(m);case kn:e:{for(_=g.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){r(m,y.sibling),y=s(y,g.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=Vl(g,m.mode,b),y.return=m,m=y}return o(m);case mr:return _=g._init,j(m,y,_(g._payload),b)}if(Ls(g))return v(m,y,g,b);if(ws(g))return w(m,y,g,b);aa(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(r(m,y.sibling),y=s(y,g),y.return=m,m=y):(r(m,y),y=$l(g,m.mode,b),y.return=m,m=y),o(m)):r(m,y)}return j}var Xn=Xg(!0),Jg=Xg(!1),Ja=Fr(null),Za=null,Rn=null,sd=null;function id(){sd=Rn=Za=null}function ad(e){var t=Ja.current;ie(Ja),e._currentValue=t}function Fc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wn(e,t){Za=e,sd=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(sd!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(Za===null)throw Error(T(308));Rn=e,Za.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var Zr=null;function od(e){Zr===null?Zr=[e]:Zr.push(e)}function Zg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,od(t)):(r.next=s.next,s.next=r),t.interleaved=r,er(e,n)}function er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pr=!1;function ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,er(e,r)}return s=n.interleaved,s===null?(t.next=t,od(n)):(t.next=s.next,s.next=t),n.interleaved=t,er(e,r)}function Ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ku(e,r)}}function pf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,n){var s=e.updateQueue;pr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(f=t,p=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=me({},h,f);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);dn|=o,e.lanes=o,e.memoizedState=h}}function gf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var $i={},Ot=Fr($i),pi=Fr($i),gi=Fr($i);function en(e){if(e===$i)throw Error(T(174));return e}function cd(e,t){switch(ne(gi,t),ne(pi,e),ne(Ot,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xc(t,e)}ie(Ot),ne(Ot,t)}function Jn(){ie(Ot),ie(pi),ie(gi)}function t0(e){en(gi.current);var t=en(Ot.current),r=xc(t,e.type);t!==r&&(ne(pi,e),ne(Ot,r))}function ud(e){pi.current===e&&(ie(Ot),ie(pi))}var ue=Fr(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dl=[];function dd(){for(var e=0;e<Dl.length;e++)Dl[e]._workInProgressVersionPrimary=null;Dl.length=0}var Ea=sr.ReactCurrentDispatcher,Ml=sr.ReactCurrentBatchConfig,un=0,he=null,be=null,Se=null,ro=!1,Ks=!1,yi=0,Eb=0;function Re(){throw Error(T(321))}function hd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pt(e[r],t[r]))return!1;return!0}function fd(e,t,r,n,s,i){if(un=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ea.current=e===null||e.memoizedState===null?Rb:Db,e=r(n,s),Ks){i=0;do{if(Ks=!1,yi=0,25<=i)throw Error(T(301));i+=1,Se=be=null,t.updateQueue=null,Ea.current=Mb,e=r(n,s)}while(Ks)}if(Ea.current=no,t=be!==null&&be.next!==null,un=0,Se=be=he=null,ro=!1,t)throw Error(T(300));return e}function md(){var e=yi!==0;return yi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?he.memoizedState=Se=e:Se=Se.next=e,Se}function xt(){if(be===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Se===null?he.memoizedState:Se.next;if(t!==null)Se=t,be=e;else{if(e===null)throw Error(T(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Se===null?he.memoizedState=Se=e:Se=Se.next=e}return Se}function xi(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=xt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=be,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((un&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,he.lanes|=d,dn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Pt(n,t.memoizedState)||(Ge=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,dn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ol(e){var t=xt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Pt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function r0(){}function n0(e,t){var r=he,n=xt(),s=t(),i=!Pt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ge=!0),n=n.queue,pd(a0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,vi(9,i0.bind(null,r,n,s,t),void 0,null),Ne===null)throw Error(T(349));un&30||s0(r,t,s)}return s}function s0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function i0(e,t,r,n){t.value=r,t.getSnapshot=n,o0(t)&&l0(e)}function a0(e,t,r){return r(function(){o0(t)&&l0(e)})}function o0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pt(e,r)}catch{return!0}}function l0(e){var t=er(e,1);t!==null&&Et(t,e,1,-1)}function yf(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ab.bind(null,he,e),[t.memoizedState,e]}function vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function c0(){return xt().memoizedState}function Pa(e,t,r,n){var s=Dt();he.flags|=e,s.memoizedState=vi(1|t,r,void 0,n===void 0?null:n)}function Do(e,t,r,n){var s=xt();n=n===void 0?null:n;var i=void 0;if(be!==null){var o=be.memoizedState;if(i=o.destroy,n!==null&&hd(n,o.deps)){s.memoizedState=vi(t,r,i,n);return}}he.flags|=e,s.memoizedState=vi(1|t,r,i,n)}function xf(e,t){return Pa(8390656,8,e,t)}function pd(e,t){return Do(2048,8,e,t)}function u0(e,t){return Do(4,2,e,t)}function d0(e,t){return Do(4,4,e,t)}function h0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f0(e,t,r){return r=r!=null?r.concat([e]):null,Do(4,4,h0.bind(null,t,e),r)}function gd(){}function m0(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function p0(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function g0(e,t,r){return un&21?(Pt(r,t)||(r=bg(),he.lanes|=r,dn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=r)}function Pb(e,t){var r=Q;Q=r!==0&&4>r?r:4,e(!0);var n=Ml.transition;Ml.transition={};try{e(!1),t()}finally{Q=r,Ml.transition=n}}function y0(){return xt().memoizedState}function Tb(e,t,r){var n=Pr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x0(e))v0(t,r);else if(r=Zg(e,t,r,n),r!==null){var s=Ue();Et(r,e,n,s),w0(r,t,n)}}function Ab(e,t,r){var n=Pr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x0(e))v0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Pt(l,o)){var c=t.interleaved;c===null?(s.next=s,od(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Zg(e,t,s,n),r!==null&&(s=Ue(),Et(r,e,n,s),w0(r,t,n))}}function x0(e){var t=e.alternate;return e===he||t!==null&&t===he}function v0(e,t){Ks=ro=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function w0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ku(e,r)}}var no={readContext:yt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Rb={readContext:yt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:xf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4194308,4,h0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tb.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:yf,useDebugValue:gd,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=yf(!1),t=e[0];return e=Pb.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=he,s=Dt();if(oe){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ne===null)throw Error(T(349));un&30||s0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,xf(a0.bind(null,n,i,e),[e]),n.flags|=2048,vi(9,i0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Dt(),t=Ne.identifierPrefix;if(oe){var r=qt,n=Ht;r=(n&~(1<<32-Ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Eb++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Db={readContext:yt,useCallback:m0,useContext:yt,useEffect:pd,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:d0,useMemo:p0,useReducer:Ll,useRef:c0,useState:function(){return Ll(xi)},useDebugValue:gd,useDeferredValue:function(e){var t=xt();return g0(t,be.memoizedState,e)},useTransition:function(){var e=Ll(xi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:r0,useSyncExternalStore:n0,useId:y0,unstable_isNewReconciler:!1},Mb={readContext:yt,useCallback:m0,useContext:yt,useEffect:pd,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:d0,useMemo:p0,useReducer:Ol,useRef:c0,useState:function(){return Ol(xi)},useDebugValue:gd,useDeferredValue:function(e){var t=xt();return be===null?t.memoizedState=e:g0(t,be.memoizedState,e)},useTransition:function(){var e=Ol(xi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:r0,useSyncExternalStore:n0,useId:y0,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $c(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mo={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ue(),s=Pr(e),i=Yt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Cr(e,i,s),t!==null&&(Et(t,e,s,n),Ca(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ue(),s=Pr(e),i=Yt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Cr(e,i,s),t!==null&&(Et(t,e,s,n),Ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ue(),n=Pr(e),s=Yt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Cr(e,s,n),t!==null&&(Et(t,e,n,r),Ca(t,e,n))}};function vf(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!di(r,n)||!di(s,i):!0}function b0(e,t,r){var n=!1,s=Dr,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Qe(t)?ln:Fe.current,n=t.contextTypes,i=(n=n!=null)?Yn(e,s):Dr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function wf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Vc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ld(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Qe(t)?ln:Fe.current,s.context=Yn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($c(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mo.enqueueReplaceState(s,s.state,null),eo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var r="",n=t;do r+=lw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Il(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Uc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Lb=typeof WeakMap=="function"?WeakMap:Map;function j0(e,t,r){r=Yt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){io||(io=!0,Xc=n),Uc(e,t)},r}function k0(e,t,r){r=Yt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Uc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Uc(e,t),typeof n!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function bf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Lb;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Yb.bind(null,e,t,r),t.then(e,e))}function jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yt(-1,1),t.tag=2,Cr(r,t,1))),r.lanes|=1),e)}var Ob=sr.ReactCurrentOwner,Ge=!1;function $e(e,t,r,n){t.child=e===null?Jg(t,null,r,n):Xn(t,e.child,r,n)}function Sf(e,t,r,n,s){r=r.render;var i=t.ref;return Wn(t,s),n=fd(e,t,r,n,i,s),r=md(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(oe&&r&&td(t),t.flags|=1,$e(e,t,n,s),t.child)}function Nf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Sd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,S0(e,t,i,n,s)):(e=Da(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:di,r(o,n)&&e.ref===t.ref)return tr(e,t,s)}return t.flags|=1,e=Tr(i,n),e.ref=t.ref,e.return=t,t.child=e}function S0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(di(i,n)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,tr(e,t,s)}return Bc(e,t,r,n,s)}function N0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Mn,et),et|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Mn,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ne(Mn,et),et|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ne(Mn,et),et|=n;return $e(e,t,s,r),t.child}function _0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bc(e,t,r,n,s){var i=Qe(r)?ln:Fe.current;return i=Yn(t,i),Wn(t,s),r=fd(e,t,r,n,i,s),n=md(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(oe&&n&&td(t),t.flags|=1,$e(e,t,r,s),t.child)}function _f(e,t,r,n,s){if(Qe(r)){var i=!0;Ya(t)}else i=!1;if(Wn(t,s),t.stateNode===null)Ta(e,t),b0(t,r,n),Vc(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Qe(r)?ln:Fe.current,u=Yn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&wf(t,o,n,u),pr=!1;var f=t.memoizedState;o.state=f,eo(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Ye.current||pr?(typeof d=="function"&&($c(t,r,d,n),c=t.memoizedState),(l=pr||vf(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,e0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=Qe(r)?ln:Fe.current,c=Yn(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&wf(t,o,n,c),pr=!1,f=t.memoizedState,o.state=f,eo(t,n,o,s);var v=t.memoizedState;l!==h||f!==v||Ye.current||pr?(typeof p=="function"&&($c(t,r,p,n),v=t.memoizedState),(u=pr||vf(t,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return zc(e,t,r,n,i,s)}function zc(e,t,r,n,s,i){_0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&df(t,r,!1),tr(e,t,i);n=t.stateNode,Ob.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xn(t,e.child,null,i),t.child=Xn(t,null,l,i)):$e(e,t,l,i),t.memoizedState=n.state,s&&df(t,r,!0),t.child}function C0(e){var t=e.stateNode;t.pendingContext?uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uf(e,t.context,!1),cd(e,t.containerInfo)}function Cf(e,t,r,n,s){return Qn(),nd(s),t.flags|=256,$e(e,t,r,n),t.child}var Wc={dehydrated:null,treeContext:null,retryLane:0};function Hc(e){return{baseLanes:e,cachePool:null,transitions:null}}function E0(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(ue,s&1),e===null)return Ic(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Io(o,n,0,null),e=sn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hc(r),t.memoizedState=Wc,e):yd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ib(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Tr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Tr(l,i):(i=sn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Hc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Wc,n}return i=e.child,e=i.sibling,n=Tr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yd(e,t){return t=Io({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,r,n){return n!==null&&nd(n),Xn(t,e.child,null,r),e=yd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ib(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Il(Error(T(422))),oa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Io({mode:"visible",children:n.children},s,0,null),i=sn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Xn(t,e.child,null,o),t.child.memoizedState=Hc(o),t.memoizedState=Wc,i);if(!(t.mode&1))return oa(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=Il(i,n,void 0),oa(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ge||l){if(n=Ne,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(e,s),Et(n,e,s,-1))}return kd(),n=Il(Error(T(421))),oa(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Qb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,tt=_r(s.nextSibling),rt=t,oe=!0,_t=null,e!==null&&(dt[ht++]=Ht,dt[ht++]=qt,dt[ht++]=cn,Ht=e.id,qt=e.overflow,cn=t),t=yd(t,n.children),t.flags|=4096,t)}function Ef(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fc(e.return,t,r)}function Fl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function P0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if($e(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,r,t);else if(e.tag===19)Ef(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ne(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Fl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&to(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Fl(t,!0,r,null,i);break;case"together":Fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),dn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fb(e,t,r){switch(t.tag){case 3:C0(t),Qn();break;case 5:t0(t);break;case 1:Qe(t.type)&&Ya(t);break;case 4:cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ne(Ja,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ne(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?E0(e,t,r):(ne(ue,ue.current&1),e=tr(e,t,r),e!==null?e.sibling:null);ne(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return P0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,N0(e,t,r)}return tr(e,t,r)}var T0,qc,A0,R0;T0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qc=function(){};A0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,en(Ot.current);var i=null;switch(r){case"input":s=mc(e,s),n=mc(e,n),i=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),i=[];break;case"textarea":s=yc(e,s),n=yc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ka)}vc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(si.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};R0=function(e,t,r,n){r!==n&&(t.flags|=4)};function _s(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $b(e,t,r){var n=t.pendingProps;switch(rd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Qe(t.type)&&Ga(),De(t),null;case 3:return n=t.stateNode,Jn(),ie(Ye),ie(Fe),dd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(eu(_t),_t=null))),qc(e,t),De(t),null;case 5:ud(t);var s=en(gi.current);if(r=t.type,e!==null&&t.stateNode!=null)A0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return De(t),null}if(e=en(Ot.current),ia(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Mt]=t,n[mi]=i,e=(t.mode&1)!==0,r){case"dialog":se("cancel",n),se("close",n);break;case"iframe":case"object":case"embed":se("load",n);break;case"video":case"audio":for(s=0;s<Is.length;s++)se(Is[s],n);break;case"source":se("error",n);break;case"img":case"image":case"link":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"input":Oh(n,i),se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},se("invalid",n);break;case"textarea":Fh(n,i),se("invalid",n)}vc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&sa(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sa(n.textContent,l,e),s=["children",""+l]):si.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&se("scroll",n)}switch(r){case"input":Qi(n),Ih(n,i,!0);break;case"textarea":Qi(n),$h(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ka)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ag(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mt]=t,e[mi]=n,T0(e,t,!1,!1),t.stateNode=e;e:{switch(o=wc(r,n),r){case"dialog":se("cancel",e),se("close",e),s=n;break;case"iframe":case"object":case"embed":se("load",e),s=n;break;case"video":case"audio":for(s=0;s<Is.length;s++)se(Is[s],e);s=n;break;case"source":se("error",e),s=n;break;case"img":case"image":case"link":se("error",e),se("load",e),s=n;break;case"details":se("toggle",e),s=n;break;case"input":Oh(e,n),s=mc(e,n),se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),se("invalid",e);break;case"textarea":Fh(e,n),s=yc(e,n),se("invalid",e);break;default:s=n}vc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?cg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&og(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ii(e,c):typeof c=="number"&&ii(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(si.hasOwnProperty(i)?c!=null&&i==="onScroll"&&se("scroll",e):c!=null&&Uu(e,i,c,o))}switch(r){case"input":Qi(e),Ih(e,n,!1);break;case"textarea":Qi(e),$h(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Vn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Vn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ka)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)R0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=en(gi.current),en(Ot.current),ia(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mt]=t,(i=n.nodeValue!==r)&&(e=rt,e!==null))switch(e.tag){case 3:sa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mt]=t,t.stateNode=n}return De(t),null;case 13:if(ie(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&tt!==null&&t.mode&1&&!(t.flags&128))Qg(),Qn(),t.flags|=98560,i=!1;else if(i=ia(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Mt]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else _t!==null&&(eu(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?je===0&&(je=3):kd())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Jn(),qc(e,t),e===null&&hi(t.stateNode.containerInfo),De(t),null;case 10:return ad(t.type._context),De(t),null;case 17:return Qe(t.type)&&Ga(),De(t),null;case 19:if(ie(ue),i=t.memoizedState,i===null)return De(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)_s(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=to(e),o!==null){for(t.flags|=128,_s(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ne(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&xe()>es&&(t.flags|=128,n=!0,_s(i,!1),t.lanes=4194304)}else{if(!n)if(e=to(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_s(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return De(t),null}else 2*xe()-i.renderingStartTime>es&&r!==1073741824&&(t.flags|=128,n=!0,_s(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xe(),t.sibling=null,r=ue.current,ne(ue,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return jd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?et&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Vb(e,t){switch(rd(t),t.tag){case 1:return Qe(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jn(),ie(Ye),ie(Fe),dd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ud(t),null;case 13:if(ie(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ue),null;case 4:return Jn(),null;case 10:return ad(t.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var la=!1,Le=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,D=null;function Dn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ge(e,t,n)}else r.current=null}function Kc(e,t,r){try{r()}catch(n){ge(e,t,n)}}var Pf=!1;function Bb(e,t){if(Tc=Wa,e=Ig(),ed(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ac={focusedElem:e,selectionRange:r},Wa=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,j=v.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:kt(t.type,w),j);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return v=Pf,Pf=!1,v}function Gs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kc(t,r,i)}s=s.next}while(s!==n)}}function Lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function D0(e){var t=e.alternate;t!==null&&(e.alternate=null,D0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[mi],delete t[Mc],delete t[Sb],delete t[Nb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function M0(e){return e.tag===5||e.tag===3||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||M0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ka));else if(n!==4&&(e=e.child,e!==null))for(Yc(e,t,r),e=e.sibling;e!==null;)Yc(e,t,r),e=e.sibling}function Qc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qc(e,t,r),e=e.sibling;e!==null;)Qc(e,t,r),e=e.sibling}var Ce=null,St=!1;function lr(e,t,r){for(r=r.child;r!==null;)L0(e,t,r),r=r.sibling}function L0(e,t,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Co,r)}catch{}switch(r.tag){case 5:Le||Dn(r,t);case 6:var n=Ce,s=St;Ce=null,lr(e,t,r),Ce=n,St=s,Ce!==null&&(St?(e=Ce,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ce.removeChild(r.stateNode));break;case 18:Ce!==null&&(St?(e=Ce,r=r.stateNode,e.nodeType===8?Al(e.parentNode,r):e.nodeType===1&&Al(e,r),ci(e)):Al(Ce,r.stateNode));break;case 4:n=Ce,s=St,Ce=r.stateNode.containerInfo,St=!0,lr(e,t,r),Ce=n,St=s;break;case 0:case 11:case 14:case 15:if(!Le&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kc(r,t,o),s=s.next}while(s!==n)}lr(e,t,r);break;case 1:if(!Le&&(Dn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ge(r,t,l)}lr(e,t,r);break;case 21:lr(e,t,r);break;case 22:r.mode&1?(Le=(n=Le)||r.memoizedState!==null,lr(e,t,r),Le=n):lr(e,t,r);break;default:lr(e,t,r)}}function Af(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ub),t.forEach(function(n){var s=Xb.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,St=!1;break e;case 3:Ce=l.stateNode.containerInfo,St=!0;break e;case 4:Ce=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Ce===null)throw Error(T(160));L0(i,o,s),Ce=null,St=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O0(t,e),t=t.sibling}function O0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),At(e),n&4){try{Gs(3,e,e.return),Lo(3,e)}catch(w){ge(e,e.return,w)}try{Gs(5,e,e.return)}catch(w){ge(e,e.return,w)}}break;case 1:bt(t,e),At(e),n&512&&r!==null&&Dn(r,r.return);break;case 5:if(bt(t,e),At(e),n&512&&r!==null&&Dn(r,r.return),e.flags&32){var s=e.stateNode;try{ii(s,"")}catch(w){ge(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&sg(s,i),wc(l,o);var u=wc(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?cg(s,h):d==="dangerouslySetInnerHTML"?og(s,h):d==="children"?ii(s,h):Uu(s,d,h,u)}switch(l){case"input":pc(s,i);break;case"textarea":ig(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Vn(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[mi]=i}catch(w){ge(e,e.return,w)}}break;case 6:if(bt(t,e),At(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ge(e,e.return,w)}}break;case 3:if(bt(t,e),At(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(w){ge(e,e.return,w)}break;case 4:bt(t,e),At(e);break;case 13:bt(t,e),At(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wd=xe())),n&4&&Af(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Le=(u=Le)||d,bt(t,e),Le=u):bt(t,e),At(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:Dn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ge(n,r,w)}}break;case 5:Dn(f,f.return);break;case 22:if(f.memoizedState!==null){Df(h);continue}}p!==null?(p.return=f,D=p):Df(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=lg("display",o))}catch(w){ge(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ge(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bt(t,e),At(e),n&4&&Af(e);break;case 21:break;default:bt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(M0(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ii(s,""),n.flags&=-33);var i=Tf(e);Qc(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Tf(e);Yc(e,l,o);break;default:throw Error(T(161))}}catch(c){ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zb(e,t,r){D=e,I0(e)}function I0(e,t,r){for(var n=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||la;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Le;l=la;var u=Le;if(la=o,(Le=c)&&!u)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?Mf(s):c!==null?(c.return=o,D=c):Mf(s);for(;i!==null;)D=i,I0(i),i=i.sibling;D=s,la=l,Le=u}Rf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Rf(e)}}function Rf(e){for(;D!==null;){var t=D;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Lo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Le)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gf(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Le||t.flags&512&&Gc(t)}catch(f){ge(t,t.return,f)}}if(t===e){D=null;break}if(r=t.sibling,r!==null){r.return=t.return,D=r;break}D=t.return}}function Df(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var r=t.sibling;if(r!==null){r.return=t.return,D=r;break}D=t.return}}function Mf(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Lo(4,t)}catch(c){ge(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ge(t,s,c)}}var i=t.return;try{Gc(t)}catch(c){ge(t,i,c)}break;case 5:var o=t.return;try{Gc(t)}catch(c){ge(t,o,c)}}}catch(c){ge(t,t.return,c)}if(t===e){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var Wb=Math.ceil,so=sr.ReactCurrentDispatcher,xd=sr.ReactCurrentOwner,mt=sr.ReactCurrentBatchConfig,G=0,Ne=null,ve=null,Te=0,et=0,Mn=Fr(0),je=0,wi=null,dn=0,Oo=0,vd=0,Ys=null,He=null,wd=0,es=1/0,Bt=null,io=!1,Xc=null,Er=null,ca=!1,br=null,ao=0,Qs=0,Jc=null,Aa=-1,Ra=0;function Ue(){return G&6?xe():Aa!==-1?Aa:Aa=xe()}function Pr(e){return e.mode&1?G&2&&Te!==0?Te&-Te:Cb.transition!==null?(Ra===0&&(Ra=bg()),Ra):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Eg(e.type)),e):1}function Et(e,t,r,n){if(50<Qs)throw Qs=0,Jc=null,Error(T(185));Oi(e,r,n),(!(G&2)||e!==Ne)&&(e===Ne&&(!(G&2)&&(Oo|=r),je===4&&xr(e,Te)),Xe(e,n),r===1&&G===0&&!(t.mode&1)&&(es=xe()+500,Ro&&$r()))}function Xe(e,t){var r=e.callbackNode;Cw(e,t);var n=za(e,e===Ne?Te:0);if(n===0)r!==null&&Bh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Bh(r),t===1)e.tag===0?_b(Lf.bind(null,e)):Kg(Lf.bind(null,e)),jb(function(){!(G&6)&&$r()}),r=null;else{switch(jg(n)){case 1:r=qu;break;case 4:r=vg;break;case 16:r=Ba;break;case 536870912:r=wg;break;default:r=Ba}r=H0(r,F0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function F0(e,t){if(Aa=-1,Ra=0,G&6)throw Error(T(327));var r=e.callbackNode;if(Hn()&&e.callbackNode!==r)return null;var n=za(e,e===Ne?Te:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=oo(e,n);else{t=n;var s=G;G|=2;var i=V0();(Ne!==e||Te!==t)&&(Bt=null,es=xe()+500,nn(e,t));do try{Kb();break}catch(l){$0(e,l)}while(!0);id(),so.current=i,G=s,ve!==null?t=0:(Ne=null,Te=0,t=je)}if(t!==0){if(t===2&&(s=Nc(e),s!==0&&(n=s,t=Zc(e,s))),t===1)throw r=wi,nn(e,0),xr(e,n),Xe(e,xe()),r;if(t===6)xr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Hb(s)&&(t=oo(e,n),t===2&&(i=Nc(e),i!==0&&(n=i,t=Zc(e,i))),t===1))throw r=wi,nn(e,0),xr(e,n),Xe(e,xe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:qr(e,He,Bt);break;case 3:if(xr(e,n),(n&130023424)===n&&(t=wd+500-xe(),10<t)){if(za(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ue(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dc(qr.bind(null,e,He,Bt),t);break}qr(e,He,Bt);break;case 4:if(xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ct(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wb(n/1960))-n,10<n){e.timeoutHandle=Dc(qr.bind(null,e,He,Bt),n);break}qr(e,He,Bt);break;case 5:qr(e,He,Bt);break;default:throw Error(T(329))}}}return Xe(e,xe()),e.callbackNode===r?F0.bind(null,e):null}function Zc(e,t){var r=Ys;return e.current.memoizedState.isDehydrated&&(nn(e,t).flags|=256),e=oo(e,t),e!==2&&(t=He,He=r,t!==null&&eu(t)),e}function eu(e){He===null?He=e:He.push.apply(He,e)}function Hb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Pt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~vd,t&=~Oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ct(t),n=1<<r;e[r]=-1,t&=~n}}function Lf(e){if(G&6)throw Error(T(327));Hn();var t=za(e,0);if(!(t&1))return Xe(e,xe()),null;var r=oo(e,t);if(e.tag!==0&&r===2){var n=Nc(e);n!==0&&(t=n,r=Zc(e,n))}if(r===1)throw r=wi,nn(e,0),xr(e,t),Xe(e,xe()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,He,Bt),Xe(e,xe()),null}function bd(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(es=xe()+500,Ro&&$r())}}function hn(e){br!==null&&br.tag===0&&!(G&6)&&Hn();var t=G;G|=1;var r=mt.transition,n=Q;try{if(mt.transition=null,Q=1,e)return e()}finally{Q=n,mt.transition=r,G=t,!(G&6)&&$r()}}function jd(){et=Mn.current,ie(Mn)}function nn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bb(r)),ve!==null)for(r=ve.return;r!==null;){var n=r;switch(rd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ga();break;case 3:Jn(),ie(Ye),ie(Fe),dd();break;case 5:ud(n);break;case 4:Jn();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:ad(n.type._context);break;case 22:case 23:jd()}r=r.return}if(Ne=e,ve=e=Tr(e.current,null),Te=et=t,je=0,wi=null,vd=Oo=dn=0,He=Ys=null,Zr!==null){for(t=0;t<Zr.length;t++)if(r=Zr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Zr=null}return e}function $0(e,t){do{var r=ve;try{if(id(),Ea.current=no,ro){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ro=!1}if(un=0,Se=be=he=null,Ks=!1,yi=0,xd.current=null,r===null||r.return===null){je=1,wi=t,ve=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Te,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=jf(o);if(p!==null){p.flags&=-257,kf(p,o,l,i,t),p.mode&1&&bf(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){bf(i,u,t),kd();break e}c=Error(T(426))}}else if(oe&&l.mode&1){var j=jf(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),kf(j,o,l,i,t),nd(Zn(c,l));break e}}i=c=Zn(c,l),je!==4&&(je=2),Ys===null?Ys=[i]:Ys.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=j0(i,c,t);pf(i,m);break e;case 1:l=c;var y=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Er===null||!Er.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=k0(i,l,t);pf(i,b);break e}}i=i.return}while(i!==null)}B0(r)}catch(S){t=S,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function V0(){var e=so.current;return so.current=no,e===null?no:e}function kd(){(je===0||je===3||je===2)&&(je=4),Ne===null||!(dn&268435455)&&!(Oo&268435455)||xr(Ne,Te)}function oo(e,t){var r=G;G|=2;var n=V0();(Ne!==e||Te!==t)&&(Bt=null,nn(e,t));do try{qb();break}catch(s){$0(e,s)}while(!0);if(id(),G=r,so.current=n,ve!==null)throw Error(T(261));return Ne=null,Te=0,je}function qb(){for(;ve!==null;)U0(ve)}function Kb(){for(;ve!==null&&!xw();)U0(ve)}function U0(e){var t=W0(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?B0(e):ve=t,xd.current=null}function B0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Vb(r,t),r!==null){r.flags&=32767,ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ve=null;return}}else if(r=$b(r,t,et),r!==null){ve=r;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);je===0&&(je=5)}function qr(e,t,r){var n=Q,s=mt.transition;try{mt.transition=null,Q=1,Gb(e,t,r,n)}finally{mt.transition=s,Q=n}return null}function Gb(e,t,r,n){do Hn();while(br!==null);if(G&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ew(e,i),e===Ne&&(ve=Ne=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ca||(ca=!0,H0(Ba,function(){return Hn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=mt.transition,mt.transition=null;var o=Q;Q=1;var l=G;G|=4,xd.current=null,Bb(e,r),O0(r,e),mb(Ac),Wa=!!Tc,Ac=Tc=null,e.current=r,zb(r),vw(),G=l,Q=o,mt.transition=i}else e.current=r;if(ca&&(ca=!1,br=e,ao=s),i=e.pendingLanes,i===0&&(Er=null),jw(r.stateNode),Xe(e,xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(io)throw io=!1,e=Xc,Xc=null,e;return ao&1&&e.tag!==0&&Hn(),i=e.pendingLanes,i&1?e===Jc?Qs++:(Qs=0,Jc=e):Qs=0,$r(),null}function Hn(){if(br!==null){var e=jg(ao),t=mt.transition,r=Q;try{if(mt.transition=null,Q=16>e?16:e,br===null)var n=!1;else{if(e=br,br=null,ao=0,G&6)throw Error(T(331));var s=G;for(G|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Gs(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,p=d.return;if(D0(d),d===u){D=null;break}if(f!==null){f.return=p,D=f;break}D=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,D=m;break e}D=i.return}}var y=e.current;for(D=y;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else e:for(o=y;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lo(9,l)}}catch(S){ge(l,l.return,S)}if(l===o){D=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,D=b;break e}D=l.return}}if(G=s,$r(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Co,e)}catch{}n=!0}return n}finally{Q=r,mt.transition=t}}return!1}function Of(e,t,r){t=Zn(r,t),t=j0(e,t,1),e=Cr(e,t,1),t=Ue(),e!==null&&(Oi(e,1,t),Xe(e,t))}function ge(e,t,r){if(e.tag===3)Of(e,e,r);else for(;t!==null;){if(t.tag===3){Of(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Er===null||!Er.has(n))){e=Zn(r,e),e=k0(t,e,1),t=Cr(t,e,1),e=Ue(),t!==null&&(Oi(t,1,e),Xe(t,e));break}}t=t.return}}function Yb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&r,Ne===e&&(Te&r)===r&&(je===4||je===3&&(Te&130023424)===Te&&500>xe()-wd?nn(e,0):vd|=r),Xe(e,t)}function z0(e,t){t===0&&(e.mode&1?(t=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):t=1);var r=Ue();e=er(e,t),e!==null&&(Oi(e,t,r),Xe(e,r))}function Qb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),z0(e,r)}function Xb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),z0(e,r)}var W0;W0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ge=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ge=!1,Fb(e,t,r);Ge=!!(e.flags&131072)}else Ge=!1,oe&&t.flags&1048576&&Gg(t,Xa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ta(e,t),e=t.pendingProps;var s=Yn(t,Fe.current);Wn(t,r),s=fd(null,t,n,e,s,r);var i=md();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(n)?(i=!0,Ya(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ld(t),s.updater=Mo,t.stateNode=s,s._reactInternals=t,Vc(t,n,e,r),t=zc(null,t,n,!0,i,r)):(t.tag=0,oe&&i&&td(t),$e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ta(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Zb(n),e=kt(n,e),s){case 0:t=Bc(null,t,n,e,r);break e;case 1:t=_f(null,t,n,e,r);break e;case 11:t=Sf(null,t,n,e,r);break e;case 14:t=Nf(null,t,n,kt(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Bc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),_f(e,t,n,s,r);case 3:e:{if(C0(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,e0(e,t),eo(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zn(Error(T(423)),t),t=Cf(e,t,n,r,s);break e}else if(n!==s){s=Zn(Error(T(424)),t),t=Cf(e,t,n,r,s);break e}else for(tt=_r(t.stateNode.containerInfo.firstChild),rt=t,oe=!0,_t=null,r=Jg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qn(),n===s){t=tr(e,t,r);break e}$e(e,t,n,r)}t=t.child}return t;case 5:return t0(t),e===null&&Ic(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Rc(n,s)?o=null:i!==null&&Rc(n,i)&&(t.flags|=32),_0(e,t),$e(e,t,o,r),t.child;case 6:return e===null&&Ic(t),null;case 13:return E0(e,t,r);case 4:return cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xn(t,null,n,r):$e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Sf(e,t,n,s,r);case 7:return $e(e,t,t.pendingProps,r),t.child;case 8:return $e(e,t,t.pendingProps.children,r),t.child;case 12:return $e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ne(Ja,n._currentValue),n._currentValue=o,i!==null)if(Pt(i.value,o)){if(i.children===s.children&&!Ye.current){t=tr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Yt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Fc(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fc(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Wn(t,r),s=yt(s),n=n(s),t.flags|=1,$e(e,t,n,r),t.child;case 14:return n=t.type,s=kt(n,t.pendingProps),s=kt(n.type,s),Nf(e,t,n,s,r);case 15:return S0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Ta(e,t),t.tag=1,Qe(n)?(e=!0,Ya(t)):e=!1,Wn(t,r),b0(t,n,s),Vc(t,n,s,r),zc(null,t,n,!0,e,r);case 19:return P0(e,t,r);case 22:return N0(e,t,r)}throw Error(T(156,t.tag))};function H0(e,t){return xg(e,t)}function Jb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,r,n){return new Jb(e,t,r,n)}function Sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zb(e){if(typeof e=="function")return Sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zu)return 11;if(e===Wu)return 14}return 2}function Tr(e,t){var r=e.alternate;return r===null?(r=ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Da(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Sd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Sn:return sn(r.children,s,i,t);case Bu:o=8,s|=8;break;case uc:return e=ft(12,r,t,s|2),e.elementType=uc,e.lanes=i,e;case dc:return e=ft(13,r,t,s),e.elementType=dc,e.lanes=i,e;case hc:return e=ft(19,r,t,s),e.elementType=hc,e.lanes=i,e;case tg:return Io(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zp:o=10;break e;case eg:o=9;break e;case zu:o=11;break e;case Wu:o=14;break e;case mr:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ft(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function sn(e,t,r,n){return e=ft(7,e,n,t),e.lanes=r,e}function Io(e,t,r,n){return e=ft(22,e,n,t),e.elementType=tg,e.lanes=r,e.stateNode={isHidden:!1},e}function $l(e,t,r){return e=ft(6,e,null,t),e.lanes=r,e}function Vl(e,t,r){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e1(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nd(e,t,r,n,s,i,o,l,c){return e=new e1(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ld(i),e}function t1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function q0(e){if(!e)return Dr;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Qe(r))return qg(e,r,t)}return t}function K0(e,t,r,n,s,i,o,l,c){return e=Nd(r,n,!0,e,s,i,o,l,c),e.context=q0(null),r=e.current,n=Ue(),s=Pr(r),i=Yt(n,s),i.callback=t??null,Cr(r,i,s),e.current.lanes=s,Oi(e,s,n),Xe(e,n),e}function Fo(e,t,r,n){var s=t.current,i=Ue(),o=Pr(s);return r=q0(r),t.context===null?t.context=r:t.pendingContext=r,t=Yt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cr(s,t,o),e!==null&&(Et(e,s,o,i),Ca(e,s,o)),o}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function If(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _d(e,t){If(e,t),(e=e.alternate)&&If(e,t)}function r1(){return null}var G0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cd(e){this._internalRoot=e}$o.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Fo(e,t,null,null)};$o.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){Fo(null,e,null,null)}),t[Zt]=null}};function $o(e){this._internalRoot=e}$o.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ng();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yr.length&&t!==0&&t<yr[r].priority;r++);yr.splice(r,0,e),r===0&&Cg(e)}};function Ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ff(){}function n1(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=lo(o);i.call(u)}}var o=K0(t,n,e,0,null,!1,!1,"",Ff);return e._reactRootContainer=o,e[Zt]=o.current,hi(e.nodeType===8?e.parentNode:e),hn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=lo(c);l.call(u)}}var c=Nd(e,0,!1,null,null,!1,!1,"",Ff);return e._reactRootContainer=c,e[Zt]=c.current,hi(e.nodeType===8?e.parentNode:e),hn(function(){Fo(t,c,r,n)}),c}function Uo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=lo(o);l.call(c)}}Fo(t,o,e,s)}else o=n1(r,t,e,s,n);return lo(o)}kg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Os(t.pendingLanes);r!==0&&(Ku(t,r|1),Xe(t,xe()),!(G&6)&&(es=xe()+500,$r()))}break;case 13:hn(function(){var n=er(e,1);if(n!==null){var s=Ue();Et(n,e,1,s)}}),_d(e,1)}};Gu=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var r=Ue();Et(t,e,134217728,r)}_d(e,134217728)}};Sg=function(e){if(e.tag===13){var t=Pr(e),r=er(e,t);if(r!==null){var n=Ue();Et(r,e,t,n)}_d(e,t)}};Ng=function(){return Q};_g=function(e,t){var r=Q;try{return Q=e,t()}finally{Q=r}};jc=function(e,t,r){switch(t){case"input":if(pc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ao(n);if(!s)throw Error(T(90));ng(n),pc(n,s)}}}break;case"textarea":ig(e,r);break;case"select":t=r.value,t!=null&&Vn(e,!!r.multiple,t,!1)}};hg=bd;fg=hn;var s1={usingClientEntryPoint:!1,Events:[Fi,En,Ao,ug,dg,bd]},Cs={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gg(e),e===null?null:e.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||r1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{Co=ua.inject(i1),Lt=ua}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s1;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ed(t))throw Error(T(200));return t1(e,t,null,r)};ot.createRoot=function(e,t){if(!Ed(e))throw Error(T(299));var r=!1,n="",s=G0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Nd(e,1,!1,null,null,r,!1,n,s),e[Zt]=t.current,hi(e.nodeType===8?e.parentNode:e),new Cd(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=gg(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return hn(e)};ot.hydrate=function(e,t,r){if(!Vo(t))throw Error(T(200));return Uo(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!Ed(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=G0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=K0(t,null,e,1,r??null,s,!1,i,o),e[Zt]=t.current,hi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new $o(t)};ot.render=function(e,t,r){if(!Vo(t))throw Error(T(200));return Uo(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!Vo(e))throw Error(T(40));return e._reactRootContainer?(hn(function(){Uo(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};ot.unstable_batchedUpdates=bd;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vo(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Uo(e,t,r,!1,n)};ot.version="18.3.1-next-f1338f8080-20240426";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(e){console.error(e)}}Y0(),Yp.exports=ot;var a1=Yp.exports,Q0,$f=a1;Q0=$f.createRoot,$f.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}var jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jr||(jr={}));const Vf="popstate";function o1(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return tu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:co(s)}return c1(t,r,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l1(){return Math.random().toString(36).substr(2,8)}function Uf(e,t){return{usr:e.state,key:e.key,idx:t}}function tu(e,t,r,n){return r===void 0&&(r=null),bi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:r,key:t&&t.key||n||l1()})}function co(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function c1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=jr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(bi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=jr.Pop;let j=d(),m=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:m})}function f(j,m){l=jr.Push;let y=tu(w.location,j,m);u=d()+1;let g=Uf(y,u),b=w.createHref(y);try{o.pushState(g,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&c&&c({action:l,location:w.location,delta:1})}function p(j,m){l=jr.Replace;let y=tu(w.location,j,m);u=d();let g=Uf(y,u),b=w.createHref(y);o.replaceState(g,"",b),i&&c&&c({action:l,location:w.location,delta:0})}function v(j){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof j=="string"?j:co(j);return y=y.replace(/ $/,"%20"),fe(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let w={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vf,h),c=j,()=>{s.removeEventListener(Vf,h),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let m=v(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(j){return o.go(j)}};return w}var Bf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bf||(Bf={}));function u1(e,t,r){return r===void 0&&(r="/"),d1(e,t,r)}function d1(e,t,r,n){let s=typeof t=="string"?fs(t):t,i=ts(s.pathname||"/",r);if(i==null)return null;let o=J0(e);h1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=k1(i);l=b1(o[c],u)}return l}function J0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ar([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),J0(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:v1(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Z0(i.path))s(i,o,c)}),t}function Z0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Z0(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function h1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:w1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const f1=/^:[\w-]+$/,m1=3,p1=2,g1=1,y1=10,x1=-2,zf=e=>e==="*";function v1(e,t){let r=e.split("/"),n=r.length;return r.some(zf)&&(n+=x1),t&&(n+=p1),r.filter(s=>!zf(s)).reduce((s,i)=>s+(f1.test(i)?m1:i===""?g1:y1),n)}function w1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function b1(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=ru({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ar([i,h.pathname]),pathnameBase:C1(Ar([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ar([i,h.pathnameBase]))}return o}function ru(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=j1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function j1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),X0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function k1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return X0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function S1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fs(e):e;return{pathname:r?r.startsWith("/")?r:N1(r,t):t,search:E1(n),hash:P1(s)}}function N1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ul(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Pd(e,t){let r=_1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Td(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=fs(e):(s=bi({},e),fe(!s.pathname||!s.pathname.includes("?"),Ul("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Ul("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Ul("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=S1(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ar=e=>e.join("/").replace(/\/\/+/g,"/"),C1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ey=["post","put","patch","delete"];new Set(ey);const A1=["get",...ey];new Set(A1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(this,arguments)}const Bo=x.createContext(null),ty=x.createContext(null),ir=x.createContext(null),zo=x.createContext(null),Vt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ry=x.createContext(null);function R1(e,t){let{relative:r}=t===void 0?{}:t;ms()||fe(!1);let{basename:n,navigator:s}=x.useContext(ir),{hash:i,pathname:o,search:l}=Wo(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ar([n,o])),s.createHref({pathname:c,search:l,hash:i})}function ms(){return x.useContext(zo)!=null}function ar(){return ms()||fe(!1),x.useContext(zo).location}function ny(e){x.useContext(ir).static||x.useLayoutEffect(e)}function wt(){let{isDataRoute:e}=x.useContext(Vt);return e?G1():D1()}function D1(){ms()||fe(!1);let e=x.useContext(Bo),{basename:t,future:r,navigator:n}=x.useContext(ir),{matches:s}=x.useContext(Vt),{pathname:i}=ar(),o=JSON.stringify(Pd(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return ny(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Td(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ar([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const M1=x.createContext(null);function L1(e){let t=x.useContext(Vt).outlet;return t&&x.createElement(M1.Provider,{value:e},t)}function O1(){let{matches:e}=x.useContext(Vt),t=e[e.length-1];return t?t.params:{}}function Wo(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(ir),{matches:s}=x.useContext(Vt),{pathname:i}=ar(),o=JSON.stringify(Pd(s,n.v7_relativeSplatPath));return x.useMemo(()=>Td(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function I1(e,t){return F1(e,t)}function F1(e,t,r,n){ms()||fe(!1);let{navigator:s,static:i}=x.useContext(ir),{matches:o}=x.useContext(Vt),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=ar(),h;if(t){var f;let m=typeof t=="string"?fs(t):t;u==="/"||(f=m.pathname)!=null&&f.startsWith(u)||fe(!1),h=m}else h=d;let p=h.pathname||"/",v=p;if(u!=="/"){let m=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=u1(e,{pathname:v}),j=z1(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:Ar([u,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:Ar([u,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,r,n);return t&&j?x.createElement(zo.Provider,{value:{location:ji({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:jr.Pop}},j):j}function $1(){let e=K1(),t=T1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const V1=x.createElement($1,null);class U1 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Vt.Provider,{value:this.props.routeContext},x.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B1(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Bo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Vt.Provider,{value:t},n)}function z1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||fe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,w=null,j=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||V1,c&&(u<0&&f===0?(Y1("route-fallback"),v=!0,j=null):u===f&&(v=!0,j=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),y=()=>{let g;return p?g=w:v?g=j:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,x.createElement(B1,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(U1,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var sy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sy||{}),iy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(iy||{});function W1(e){let t=x.useContext(Bo);return t||fe(!1),t}function H1(e){let t=x.useContext(ty);return t||fe(!1),t}function q1(e){let t=x.useContext(Vt);return t||fe(!1),t}function ay(e){let t=q1(),r=t.matches[t.matches.length-1];return r.route.id||fe(!1),r.route.id}function K1(){var e;let t=x.useContext(ry),r=H1(),n=ay();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function G1(){let{router:e}=W1(sy.UseNavigateStable),t=ay(iy.UseNavigateStable),r=x.useRef(!1);return ny(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ji({fromRouteId:t},i)))},[e,t])}const Wf={};function Y1(e,t,r){Wf[e]||(Wf[e]=!0)}function Q1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function rs(e){let{to:t,replace:r,state:n,relative:s}=e;ms()||fe(!1);let{future:i,static:o}=x.useContext(ir),{matches:l}=x.useContext(Vt),{pathname:c}=ar(),u=wt(),d=Td(t,Pd(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function X1(e){return L1(e.context)}function _e(e){fe(!1)}function J1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:l}=e;ms()&&fe(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:ji({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=fs(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,w=x.useMemo(()=>{let j=ts(d,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:p,key:v},navigationType:s}},[c,d,h,f,p,v,s]);return w==null?null:x.createElement(ir.Provider,{value:u},x.createElement(zo.Provider,{children:r,value:w}))}function Z1(e){let{children:t,location:r}=e;return I1(nu(t),r)}new Promise(()=>{});function nu(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,nu(n.props.children,i));return}n.type!==_e&&fe(!1),!n.props.index||!n.props.children||fe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=nu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function oy(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ej(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tj(e,t){return e.button===0&&(!t||t==="_self")&&!ej(e)}const rj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sj="6";try{window.__reactRouterVersion=sj}catch{}const ij=x.createContext({isTransitioning:!1}),aj="startTransition",Hf=Yv[aj];function oj(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=o1({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&Hf?Hf(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Q1(n),[n]),x.createElement(J1,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=oy(t,rj),{basename:p}=x.useContext(ir),v,w=!1;if(typeof u=="string"&&cj.test(u)&&(v=u,lj))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=ts(b.pathname,p);b.origin===g.origin&&S!=null?u=S+b.search+b.hash:w=!0}catch{}let j=R1(u,{relative:s}),m=dj(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(g){n&&n(g),g.defaultPrevented||m(g)}return x.createElement("a",uo({},f,{href:v||j,onClick:w||i?n:y,ref:r,target:c}))}),Ut=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=oy(t,nj),f=Wo(c,{relative:h.relative}),p=ar(),v=x.useContext(ty),{navigator:w,basename:j}=x.useContext(ir),m=v!=null&&hj(f)&&u===!0,y=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,g=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(g=g.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&j&&(b=ts(b,j)||b);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=g===y||!o&&g.startsWith(y)&&g.charAt(S)==="/",k=b!=null&&(b===y||!o&&b.startsWith(y)&&b.charAt(y.length)==="/"),C={isActive:_,isPending:k,isTransitioning:m},N=_?n:void 0,E;typeof i=="function"?E=i(C):E=[i,_?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return x.createElement(Pe,uo({},h,{"aria-current":N,className:E,ref:r,style:P,to:c,viewTransition:u}),typeof d=="function"?d(C):d)});var su;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(su||(su={}));var qf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qf||(qf={}));function uj(e){let t=x.useContext(Bo);return t||fe(!1),t}function dj(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=wt(),u=ar(),d=Wo(e,{relative:o});return x.useCallback(h=>{if(tj(h,r)){h.preventDefault();let f=n!==void 0?n:co(u)===co(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function hj(e,t){t===void 0&&(t={});let r=x.useContext(ij);r==null&&fe(!1);let{basename:n}=uj(su.useViewTransitionState),s=Wo(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ts(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ts(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ru(s.pathname,o)!=null||ru(s.pathname,i)!=null}const fj="modulepreload",mj=function(e){return"/"+e},Kf={},ns=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=mj(c),c in Kf)return;Kf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":fj,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},pj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ns(async()=>{const{default:n}=await Promise.resolve().then(()=>ps);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ad extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gj extends Ad{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yj extends Ad{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xj extends Ad{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var iu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(iu||(iu={}));var vj=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class wj{constructor(t,{headers:r={},customFetch:n,region:s=iu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=pj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return vj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new gj(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new yj(d);if(!d.ok)throw new xj(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var qe={},Rd={},Ho={},Vi={},qo={},Ko={},bj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ss=bj();const jj=ss.fetch,ly=ss.fetch.bind(ss),cy=ss.Headers,kj=ss.Request,Sj=ss.Response,ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:cy,Request:kj,Response:Sj,default:ly,fetch:jj},Symbol.toStringTag,{value:"Module"})),Nj=Dv(ps);var Go={};Object.defineProperty(Go,"__esModule",{value:!0});let _j=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Go.default=_j;var uy=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});const Cj=uy(Nj),Ej=uy(Go);let Pj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&w===""?(f=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Ej.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ko.default=Pj;var Tj=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qo,"__esModule",{value:!0});const Aj=Tj(Ko);let Rj=class extends Aj.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qo.default=Rj;var Dj=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const Mj=Dj(qo);let Lj=class extends Mj.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Vi.default=Lj;var Oj=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ho,"__esModule",{value:!0});const Es=Oj(Vi);let Ij=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Es.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Es.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ho.default=Ij;var Yo={},Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.version=void 0;Qo.version="0.0.0-automated";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.DEFAULT_HEADERS=void 0;const Fj=Qo;Yo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Fj.version}`};var dy=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rd,"__esModule",{value:!0});const $j=dy(Ho),Vj=dy(Vi),Uj=Yo;let Bj=class hy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Uj.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new $j.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Vj.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Rd.default=Bj;var gs=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const fy=gs(Rd);qe.PostgrestClient=fy.default;const my=gs(Ho);qe.PostgrestQueryBuilder=my.default;const py=gs(Vi);qe.PostgrestFilterBuilder=py.default;const gy=gs(qo);qe.PostgrestTransformBuilder=gy.default;const yy=gs(Ko);qe.PostgrestBuilder=yy.default;const xy=gs(Go);qe.PostgrestError=xy.default;var zj=qe.default={PostgrestClient:fy.default,PostgrestQueryBuilder:my.default,PostgrestFilterBuilder:py.default,PostgrestTransformBuilder:gy.default,PostgrestBuilder:yy.default,PostgrestError:xy.default};const{PostgrestClient:Wj,PostgrestQueryBuilder:fP,PostgrestFilterBuilder:mP,PostgrestTransformBuilder:pP,PostgrestBuilder:gP,PostgrestError:yP}=zj,Hj="2.11.2",qj={"X-Client-Info":`realtime-js/${Hj}`},Kj="1.0.0",vy=1e4,Gj=1e3;var qn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qn||(qn={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var Nt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nt||(Nt={}));var au;(function(e){e.websocket="websocket"})(au||(au={}));var Xr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xr||(Xr={}));class Yj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class wy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const Gf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Qj(o,e,t,s),i),{})},Qj=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?by(i,o):ou(o)},by=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ek(t,r)}switch(e){case re.bool:return Xj(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Jj(t);case re.json:case re.jsonb:return Zj(t);case re.timestamp:return tk(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return ou(t);default:return ou(t)}},ou=e=>e,Xj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Zj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ek=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>by(t,l))}return e},tk=e=>typeof e=="string"?e.replace(" ","T"):e,jy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bl{constructor(t,r,n={},s=vy){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yf||(Yf={}));class Xs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Xs.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xs.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),p=h.map(j=>j.presence_ref),v=d.filter(j=>p.indexOf(j.presence_ref)<0),w=h.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qf||(Qf={}));var Xf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xf||(Xf={}));var zt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class Dd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bl(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new wy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Xs(this),this.broadcastEndpointURL=jy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(zt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(zt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(zt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<p;w++){const j=f[w],{filter:{event:m,schema:y,table:g,filter:b}}=j,S=d&&d[w];if(S&&S.event===m&&S.schema===y&&S.table===g&&S.filter===b)v.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),t==null||t(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(zt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Bl(this,Nt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Nt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,j;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(w=p.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,j,m,y,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(y=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:j,commit_timestamp:m,type:y,errors:g}=v;f=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:m,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Dd.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nt.close,{},t)}_onError(t){this._on(Nt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gf(t.columns,t.old_record)),r}}const rk=()=>{},nk=typeof WebSocket<"u",sk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ik{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qj,this.params={},this.timeout=vy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rk,this.conn=null,this.sendBuffer=[],this.serializer=new Yj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ns(async()=>{const{default:c}=await Promise.resolve().then(()=>ps);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${au.websocket}`,this.httpEndpoint=jy(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(nk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ak(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ns(async()=>{const{default:t}=await import("./browser-DaDOh4_i.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kj}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return Xr.Connecting;case qn.open:return Xr.Open;case qn.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}channel(t,r={config:{}}){const n=new Dd(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Nt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Gj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ak{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=qn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Md extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ok extends Md{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lu extends Md{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var lk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ky=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ns(async()=>{const{default:n}=await Promise.resolve().then(()=>ps);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ck=()=>lk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ns(()=>Promise.resolve().then(()=>ps),void 0)).Response:Response}),cu=e=>{if(Array.isArray(e))return e.map(r=>cu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=cu(n)}),t};var pn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uk=(e,t,r)=>pn(void 0,void 0,void 0,function*(){const n=yield ck();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new ok(zl(s),e.status||500))}).catch(s=>{t(new lu(zl(s),s))}):t(new lu(zl(e),e))}),dk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ui(e,t,r,n,s,i){return pn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,dk(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>uk(c,l,n))})})}function ho(e,t,r,n){return pn(this,void 0,void 0,function*(){return Ui(e,"GET",t,r,n)})}function gr(e,t,r,n,s){return pn(this,void 0,void 0,function*(){return Ui(e,"POST",t,n,s,r)})}function hk(e,t,r,n,s){return pn(this,void 0,void 0,function*(){return Ui(e,"PUT",t,n,s,r)})}function fk(e,t,r,n){return pn(this,void 0,void 0,function*(){return Ui(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Sy(e,t,r,n,s){return pn(this,void 0,void 0,function*(){return Ui(e,"DELETE",t,n,s,r)})}var We=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pk{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ky(s)}uploadOrUpdate(t,r,n,s){return We(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Jf),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ke(i))return{data:null,error:i};throw i}})}upload(t,r,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return We(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Jf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Md("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return We(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}copy(t,r,n){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return We(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return We(this,void 0,void 0,function*(){try{const s=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}download(t,r){return We(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ho(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ke(l))return{data:null,error:l};throw l}})}info(t){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ho(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cu(n),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}exists(t){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ke(n)&&n instanceof lu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return We(this,void 0,void 0,function*(){try{return{data:yield Sy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return We(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},mk),r),{prefix:t||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gk="2.7.1",yk={"X-Client-Info":`storage-js/${gk}`};var xn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class xk{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},yk),r),this.fetch=ky(n)}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}getBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return xn(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return xn(this,void 0,void 0,function*(){try{return{data:yield hk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield Sy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}}class vk extends xk{constructor(t,r={},n){super(t,r,n)}from(t){return new pk(this.url,this.headers,t,this.fetch)}}const wk="2.49.4";let Fs="";typeof Deno<"u"?Fs="deno":typeof document<"u"?Fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fs="react-native":Fs="node";const bk={"X-Client-Info":`supabase-js-${Fs}/${wk}`},jk={headers:bk},kk={schema:"public"},Sk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nk={};var _k=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ck=e=>{let t;return e?t=e:typeof fetch>"u"?t=ly:t=fetch,(...r)=>t(...r)},Ek=()=>typeof Headers>"u"?cy:Headers,Pk=(e,t,r)=>{const n=Ck(r),s=Ek();return(i,o)=>_k(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Tk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Ak(e){return e.replace(/\/$/,"")}function Rk(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Tk(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Ny="2.69.1",jn=30*1e3,uu=3,Wl=uu*jn,Dk="http://localhost:9999",Mk="supabase.auth.token",Lk={"X-Client-Info":`gotrue-js/${Ny}`},du="X-Supabase-Api-Version",_y={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ok=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ik=6e5;class Ld extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Fk extends Ld{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $k(e){return U(e)&&e.name==="AuthApiError"}class Cy extends Ld{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vr extends Ld{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class dr extends Vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vk(e){return U(e)&&e.name==="AuthSessionMissingError"}class Hl extends Vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class da extends Vr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ha extends Vr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uk(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zf extends Vr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hu extends Vr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ql(e){return U(e)&&e.name==="AuthRetryableFetchError"}class em extends Vr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Js extends Vr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rm=` 	
\r=`.split(""),Bk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rm.length;t+=1)e[rm[t].charCodeAt(0)]=-2;for(let t=0;t<tm.length;t+=1)e[tm[t].charCodeAt(0)]=t;return e})();function Ey(e,t,r){const n=Bk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nm(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Hk(o,n,r)};for(let o=0;o<e.length;o+=1)Ey(e.charCodeAt(o),s,i);return t.join("")}function zk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wk(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}zk(n,t)}}function Hk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qk(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ey(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Kk(e){const t=[];return Wk(e,r=>t.push(r)),new Uint8Array(t)}function Gk(e){return Math.round(Date.now()/1e3)+e}function Yk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rt=()=>typeof window<"u"&&typeof document<"u",Br={tested:!1,writable:!1},Zs=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Br.tested)return Br.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Br.tested=!0,Br.writable=!0}catch{Br.tested=!0,Br.writable=!1}return Br.writable};function Qk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Py=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ns(async()=>{const{default:n}=await Promise.resolve().then(()=>ps);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Xk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ty=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ma=async(e,t)=>{await e.removeItem(t)};class Xo{constructor(){this.promise=new Xo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xo.promiseConstructor=Promise;function Kl(e){const t=e.split(".");if(t.length!==3)throw new Js("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ok.test(t[n]))throw new Js("JWT not in base64url format");return{header:JSON.parse(nm(t[0])),payload:JSON.parse(nm(t[1])),signature:qk(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zk(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function eS(e){return("0"+e.toString(16)).substr(-2)}function tS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,eS).join("")}async function rS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function nS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(e,t,r=!1){const n=tS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ty(e,`${t}-code-verifier`,s);const i=await nS(n);return[i,n===i?"plain":"s256"]}const sS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iS(e){const t=e.headers.get(du);if(!t||!t.match(sS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var lS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cS=[502,503,504];async function sm(e){var t;if(!Xk(e))throw new hu(Kr(e),0);if(cS.includes(e.status))throw new hu(Kr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Cy(Kr(i),i)}let n;const s=iS(e);if(s&&s.getTime()>=_y["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new em(Kr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new dr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new em(Kr(r),e.status,r.weak_password.reasons);throw new Fk(Kr(r),e.status||500,n)}const uS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function q(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[du]||(i[du]=_y["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await dS(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function dS(e,t,r,n,s,i){const o=uS(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new hu(Kr(c),0)}if(l.ok||await sm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sm(c)}}function hr(e){var t;let r=null;pS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Gk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function im(e){const t=hr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hS(e){return{data:e,error:null}}function fS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=lS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function mS(e){return e}function pS(e){return e.access_token&&e.refresh_token&&e.expires_in}var gS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class yS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Py(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vr})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=gS(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vr})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mS});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vr})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vr})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vr})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}const xS={getItem:e=>Zs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zs()&&globalThis.localStorage.removeItem(e)}};function am(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function vS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Zs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ay extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wS extends Ay{}async function bS(e,t,r){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vS();const jS={url:Dk,storageKey:Mk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function om(e,t,r){return await r()}class ki{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ki.nextInstanceID,ki.nextInstanceID+=1,this.instanceID>0&&Rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Py(s.fetch),this.lock=s.lock||om,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=bS:this.lock=om,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zs()?this.storage=xS:(this.memoryStorage={},this.storage=am(this.memoryStorage)):(this.memoryStorage={},this.storage=am(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ny}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Qk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Rt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Uk(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new Cy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:hr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await vn(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:hr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hr})}else throw new da("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:im})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:im})}else throw new da("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await fa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:hr});if(await ma(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vn(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new da("You must provide either an email or phone number.")}catch(l){if(U(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:hr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vn(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:hS})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new dr;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new da("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dr}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vr})})}catch(r){if(U(r))return Vk(r)&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new dr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vn(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:vr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Kl(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new dr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Rt())throw new ha("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ha(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ha("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zf("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ha("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!($k(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Yk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await vn(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Rt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Zk(async s=>(s>0&&await Jk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ql(i)&&Date.now()+o-n<jn})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await fa(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Wl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ql(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new dr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new dr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return ql(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ty(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ma(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${jn}ms, refresh threshold is ${uu} ticks`),s<=uu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ay)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await vn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kl(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Ik>Date.now()))return n;const{data:s,error:i}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Js("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Js("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Kl(n);if(aS(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=oS(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Kk(`${l}.${c}`)))throw new Js("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}ki.nextInstanceID=0;const kS=ki;class SS extends kS{constructor(t){super(t)}}var NS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class _S{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Ak(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:kk,realtime:Nk,auth:Object.assign(Object.assign({},Sk),{storageKey:c}),global:jk},d=Rk(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Pk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Wj(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new wj(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vk(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return NS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SS({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ik(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CS=(e,t,r)=>new _S(e,t,r),fu="https://kxfdmpfigwhyvglrukwm.supabase.co",mu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4ZmRtcGZpZ3doeXZnbHJ1a3dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUxODQzMDAsImV4cCI6MjA2MDc2MDMwMH0.xkKUtB65Vo4btKQWDxKdf2DAtM1NmCmZg9WEL63xpvQ",ES=()=>fu.length>0&&mu.length>0&&!fu.includes("your-project-url")&&!mu.includes("your-anon-key"),PS=()=>(console.warn('Supabase credentials are missing or invalid. Please connect to Supabase via the "Connect to Supabase" button.'),{auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signOut:()=>Promise.resolve({error:null})},from:()=>({select:()=>({data:null,error:{message:"Supabase not configured"}})})}),M=ES()?CS(fu,mu,{auth:{persistSession:!0,autoRefreshToken:!0}}):PS();class TS{constructor(){Ph(this,"cache",{})}get(t){const r=this.cache[t];return r?Date.now()-r.timestamp>r.expiresIn?(delete this.cache[t],null):r.data:null}set(t,r,n=5*60*1e3){this.cache[t]={data:r,timestamp:Date.now(),expiresIn:n}}has(t){const r=this.cache[t];return r?Date.now()-r.timestamp>r.expiresIn?(delete this.cache[t],!1):!0:!1}clear(t){t?delete this.cache[t]:this.cache={}}}const Ke=new TS,Od=e=>Object.entries(e).filter(([r,n])=>n!=null).sort(([r],[n])=>r.localeCompare(n)).map(([r,n])=>Array.isArray(n)?`${r}=[${n.sort().join(",")}]`:`${r}=${n}`).join("&");function Si(e,t){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>{e(...n),r=null},t)}}const Kn={},AS=5*60*1e3;async function is(e){try{const t=Kn[e];if(t&&Date.now()-t.timestamp<AS)return console.log("Using cached user preferences"),t.data;const{count:r,error:n}=await M.from("user_preferences").select("*",{count:"exact",head:!0}).eq("user_id",e);if(n)return console.error("Error checking user preferences existence:",n),null;if(r===0){console.log("No preferences found for user, creating defaults");const o=_i(e);return await Ni(o)}const{data:s,error:i}=await M.from("user_preferences").select("*").eq("user_id",e).single();if(i){if(i.code==="PGRST116"){console.log("No preferences found in single query, creating defaults");const o=_i(e);return await Ni(o)}return console.error("Error fetching user preferences:",i),null}return s&&(Kn[e]={data:s,timestamp:Date.now()}),s}catch(t){return console.error("Error in getUserPreferences:",t),null}}async function Ni(e){try{if(!e.user_id)throw new Error("User ID is required");const{data:t,error:r}=await M.from("user_preferences").upsert({...e,updated_at:new Date().toISOString()}).select().single();return r?(console.error("Error updating user preferences:",r),null):(t&&(Kn[e.user_id]={data:t,timestamp:Date.now()}),t)}catch(t){return console.error("Error in updateUserPreferences:",t),null}}function RS(e){e?delete Kn[e]:Object.keys(Kn).forEach(t=>{delete Kn[t]})}function _i(e){return{user_id:e,keywords:[],categories:[],sources:[],excluded_keywords:[],languages:["en"]}}function DS(){return[{id:"en",name:"English"},{id:"fr",name:"French"},{id:"de",name:"German"},{id:"es",name:"Spanish"},{id:"it",name:"Italian"},{id:"pt",name:"Portuguese"},{id:"ru",name:"Russian"},{id:"nl",name:"Dutch"},{id:"no",name:"Norwegian"},{id:"sv",name:"Swedish"}]}function MS(){return[{id:"business",name:"Business"},{id:"crypto",name:"Cryptocurrency"},{id:"stocks",name:"Stock Market"},{id:"technology",name:"Technology"},{id:"web3",name:"Web3"},{id:"science",name:"Science"},{id:"health",name:"Health"},{id:"artificial_intelligence",name:"Artificial Intelligence"},{id:"machine_learning",name:"Machine Learning"},{id:"llm",name:"LLMs"},{id:"generative_ai",name:"Generative AI"},{id:"ai_ethics",name:"AI Ethics"},{id:"ai_research",name:"AI Research"}]}function LS(){return[{id:"bloomberg",name:"Bloomberg"},{id:"cnn",name:"CNN"},{id:"bbc-news",name:"BBC News"},{id:"reuters",name:"Reuters"},{id:"techcrunch",name:"TechCrunch"},{id:"the-verge",name:"The Verge"},{id:"wired",name:"Wired"},{id:"mit-technology-review",name:"MIT Technology Review"},{id:"venturebeat",name:"VentureBeat"},{id:"ai-news",name:"AI News"},{id:"arxiv",name:"arXiv"}]}const Ry=x.createContext(void 0);function we(){const e=x.useContext(Ry);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const OS=({children:e})=>{const[t,r]=x.useState(!0),[n,s]=x.useState(null),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1);x.useEffect(()=>{M.auth.getSession().then(({data:{session:y}})=>{s(y),o((y==null?void 0:y.user)??null),y!=null&&y.user?h(y.user.id):r(!1)});const{data:{subscription:m}}=M.auth.onAuthStateChange((y,g)=>{s(g),o((g==null?void 0:g.user)??null),g!=null&&g.user?h(g.user.id):(c(null),d(!1),r(!1))});return()=>{m.unsubscribe()}},[]);async function h(m){try{const{data:y,error:g}=await M.from("profiles").select("*").eq("id",m).single();if(g){console.error("Error fetching profile:",g),r(!1);return}y&&(c(y),d(y.role==="admin"),console.log("User role:",y.role,"isAdmin:",y.role==="admin"),await f(m)),r(!1)}catch(y){console.error("Error in fetchProfile:",y),r(!1)}}async function f(m){try{const{count:y}=await M.from("user_preferences").select("*",{count:"exact",head:!0}).eq("user_id",m);if(y===0){console.log("Creating default preferences for user:",m);const g=_i(m);await Ni(g)}}catch(y){console.error("Error ensuring user preferences:",y)}}async function p(m,y){try{const{error:g}=await M.auth.signInWithPassword({email:m,password:y});return{error:g}}catch(g){return console.error("Error signing in:",g),{error:g}}}async function v(m,y,g){try{const{data:b,error:S}=await M.auth.signUp({email:m,password:y,options:{data:{username:g}}});if(!S&&b.user)try{await M.rpc("insert_user_profile",{user_id:b.user.id,user_email:m,user_name:g,user_role:m.toLowerCase().endsWith("@blindvibe.com")?"admin":"user"}),console.log("Creating default preferences for new user");const _=_i(b.user.id);await Ni(_)}catch(_){return console.error("Error creating profile or preferences:",_),{data:b,error:_}}return{data:b,error:S}}catch(b){return console.error("Error signing up:",b),{data:null,error:b}}}async function w(){try{Ke.clear(),await M.auth.signOut()}catch(m){console.error("Error signing out:",m)}}const j={session:n,user:i,profile:l,loading:t,signIn:p,signUp:v,signOut:w,isAdmin:u};return a.jsx(Ry.Provider,{value:j,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...IS,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${FS(e)}`,l].join(" "),...u},[...t.map(([h,f])=>x.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=I("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=I("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=I("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=I("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=I("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=I("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=I("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=I("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=I("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=I("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=I("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=I("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=I("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=I("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=I("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=I("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=I("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=I("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=I("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=I("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=I("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=I("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=I("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=I("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=I("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=I("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=I("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=I("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=I("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=I("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=I("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=I("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=I("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=I("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Hd=x.createContext({});function qd(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const nl=x.createContext(null),Kd=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class a2 extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o2({children:e,isPresent:t}){const r=x.useId(),n=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=x.useContext(Kd);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(a2,{isPresent:t,childRef:n,sizeRef:s,children:x.cloneElement(e,{ref:n})})}const l2=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=qd(c2),c=x.useId(),u=x.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),d=x.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[r,u]);return x.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),x.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(o2,{isPresent:r,children:e})),a.jsx(nl.Provider,{value:d,children:e})};function c2(){return new Map}function Vy(e=!0){const t=x.useContext(nl);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=x.useId();x.useEffect(()=>{e&&s(i)},[e]);const o=x.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const pa=e=>e.key||"";function lm(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const Gd=typeof window<"u",Uy=Gd?x.useLayoutEffect:x.useEffect,By=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=Vy(o),u=x.useMemo(()=>lm(e),[e]),d=o&&!l?[]:u.map(pa),h=x.useRef(!0),f=x.useRef(u),p=qd(()=>new Map),[v,w]=x.useState(u),[j,m]=x.useState(u);Uy(()=>{h.current=!1,f.current=u;for(let b=0;b<j.length;b++){const S=pa(j[b]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[j,d.length,d.join("-")]);const y=[];if(u!==v){let b=[...u];for(let S=0;S<j.length;S++){const _=j[S],k=pa(_);d.includes(k)||(b.splice(S,0,_),y.push(_))}i==="wait"&&y.length&&(b=y),m(lm(b)),w(u);return}const{forceRender:g}=x.useContext(Hd);return a.jsx(a.Fragment,{children:j.map(b=>{const S=pa(b),_=o&&!l?!1:u===j||d.includes(S),k=()=>{if(p.has(S))p.set(S,!0);else return;let C=!0;p.forEach(N=>{N||(C=!1)}),C&&(g==null||g(),m(f.current),o&&(c==null||c()),n&&n())};return a.jsx(l2,{isPresent:_,initial:!h.current||r?void 0:!1,custom:_?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:_?void 0:k,children:b},S)})})},nt=e=>e;let zy=nt;function Yd(e){let t;return()=>(t===void 0&&(t=e()),t)}const os=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Qt=e=>e*1e3,Xt=e=>e/1e3,u2={useManualTiming:!1};function d2(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&n?t:r;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const ga=["read","resolveKeyframes","update","preRender","render","postRender"],h2=40;function Wy(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=ga.reduce((m,y)=>(m[y]=d2(i),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const m=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(m-s.timestamp,h2),1),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:ga.reduce((m,y)=>{const g=o[y];return m[y]=(b,S=!1,_=!1)=>(r||v(),g.schedule(b,S,_)),m},{}),cancel:m=>{for(let y=0;y<ga.length;y++)o[ga[y]].cancel(m)},state:s,steps:o}}const{schedule:ae,cancel:Lr,state:Ee,steps:Gl}=Wy(typeof requestAnimationFrame<"u"?requestAnimationFrame:nt,!0),Hy=x.createContext({strict:!1}),cm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ls={};for(const e in cm)ls[e]={isEnabled:t=>cm[e].some(r=>!!t[r])};function f2(e){for(const t in e)ls[t]={...ls[t],...e[t]}}const m2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function go(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||m2.has(e)}let qy=e=>!go(e);function p2(e){e&&(qy=t=>t.startsWith("on")?!go(t):e(t))}try{p2(require("@emotion/is-prop-valid").default)}catch{}function g2(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(qy(s)||r===!0&&go(s)||!t&&!go(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function y2(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const sl=x.createContext({});function Pi(e){return typeof e=="string"||Array.isArray(e)}function il(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Qd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xd=["initial",...Qd];function al(e){return il(e.animate)||Xd.some(t=>Pi(e[t]))}function Ky(e){return!!(al(e)||e.variants)}function x2(e,t){if(al(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Pi(r)?r:void 0,animate:Pi(n)?n:void 0}}return e.inherit!==!1?t:{}}function v2(e){const{initial:t,animate:r}=x2(e,x.useContext(sl));return x.useMemo(()=>({initial:t,animate:r}),[um(t),um(r)])}function um(e){return Array.isArray(e)?e.join(" "):e}const w2=Symbol.for("motionComponentSymbol");function Ln(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function b2(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ln(r)&&(r.current=n))},[t])}const Jd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j2="framerAppearId",Gy="data-"+Jd(j2),{schedule:Zd}=Wy(queueMicrotask,!1),Yy=x.createContext({});function k2(e,t,r,n,s){var i,o;const{visualElement:l}=x.useContext(sl),c=x.useContext(Hy),u=x.useContext(nl),d=x.useContext(Kd).reducedMotion,h=x.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=x.useContext(Yy);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&S2(h.current,r,s,p);const v=x.useRef(!1);x.useInsertionEffect(()=>{f&&v.current&&f.update(r,u)});const w=r[Gy],j=x.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return Uy(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Zd.render(f.render),j.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,w)}),j.current=!1))}),f}function S2(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Qy(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Ln(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function Qy(e){if(e)return e.options.allowProjection!==!1?e.projection:Qy(e.parent)}function N2({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,o;e&&f2(e);function l(u,d){let h;const f={...x.useContext(Kd),...u,layoutId:_2(u)},{isStatic:p}=f,v=v2(u),w=n(u,p);if(!p&&Gd){C2();const j=E2(f);h=j.MeasureLayout,v.visualElement=k2(s,w,f,t,j.ProjectionNode)}return a.jsxs(sl.Provider,{value:v,children:[h&&v.visualElement?a.jsx(h,{visualElement:v.visualElement,...f}):null,r(s,u,b2(w,v.visualElement,d),w,p,v.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[w2]=s,c}function _2({layoutId:e}){const t=x.useContext(Hd).id;return t&&e!==void 0?t+"-"+e:e}function C2(e,t){x.useContext(Hy).strict}function E2(e){const{drag:t,layout:r}=ls;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const P2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eh(e){return typeof e!="string"||e.includes("-")?!1:!!(P2.indexOf(e)>-1||/[A-Z]/u.test(e))}function dm(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function th(e,t,r,n){if(typeof t=="function"){const[s,i]=dm(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=dm(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const xu=e=>Array.isArray(e),T2=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),A2=e=>xu(e)?e[e.length-1]||0:e,Ie=e=>!!(e&&e.getVelocity);function Ma(e){const t=Ie(e)?e.get():e;return T2(t)?t.toValue():t}function R2({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const o={latestValues:D2(n,s,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const Xy=e=>(t,r)=>{const n=x.useContext(sl),s=x.useContext(nl),i=()=>R2(e,t,n,s);return r?i():qd(i)};function D2(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=Ma(i[f]);let{initial:o,animate:l}=e;const c=al(e),u=Ky(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!il(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const v=th(e,f[p]);if(v){const{transitionEnd:w,transition:j,...m}=v;for(const y in m){let g=m[y];if(Array.isArray(g)){const b=d?g.length-1:0;g=g[b]}g!==null&&(s[y]=g)}for(const y in w)s[y]=w[y]}}}return s}const ys=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gn=new Set(ys),Jy=e=>t=>typeof t=="string"&&t.startsWith(e),Zy=Jy("--"),M2=Jy("var(--"),rh=e=>M2(e)?L2.test(e.split("/*")[0].trim()):!1,L2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ex=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rr=(e,t,r)=>r>t?t:r<e?e:r,xs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ti={...xs,transform:e=>rr(0,1,e)},ya={...xs,default:1},zi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fr=zi("deg"),Ft=zi("%"),$=zi("px"),O2=zi("vh"),I2=zi("vw"),hm={...Ft,parse:e=>Ft.parse(e)/100,transform:e=>Ft.transform(e*100)},F2={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$},$2={rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:ya,scaleX:ya,scaleY:ya,scaleZ:ya,skew:fr,skewX:fr,skewY:fr,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Ti,originX:hm,originY:hm,originZ:$},fm={...xs,transform:Math.round},nh={...F2,...$2,zIndex:fm,size:$,fillOpacity:Ti,strokeOpacity:Ti,numOctaves:fm},V2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U2=ys.length;function B2(e,t,r){let n="",s=!0;for(let i=0;i<U2;i++){const o=ys[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=ex(l,nh[o]);if(!c){s=!1;const d=V2[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function sh(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(gn.has(c)){o=!0;continue}else if(Zy(c)){s[c]=u;continue}else{const d=ex(u,nh[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=B2(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const z2={offset:"stroke-dashoffset",array:"stroke-dasharray"},W2={offset:"strokeDashoffset",array:"strokeDasharray"};function H2(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?z2:W2;e[i.offset]=$.transform(-n);const o=$.transform(t),l=$.transform(r);e[i.array]=`${o} ${l}`}function mm(e,t,r){return typeof e=="string"?e:$.transform(t+r*e)}function q2(e,t,r){const n=mm(t,e.x,e.width),s=mm(r,e.y,e.height);return`${n} ${s}`}function ih(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(sh(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:v}=e;f.transform&&(v&&(p.transform=f.transform),delete f.transform),v&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=q2(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&H2(f,o,l,c,!1)}const ah=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),tx=()=>({...ah(),attrs:{}}),oh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rx(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const nx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sx(e,t,r,n){rx(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(nx.has(s)?s:Jd(s),t.attrs[s])}const yo={};function K2(e){Object.assign(yo,e)}function ix(e,{layout:t,layoutId:r}){return gn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!yo[e]||e==="opacity")}function lh(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(Ie(s[o])||t.style&&Ie(t.style[o])||ix(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function ax(e,t,r){const n=lh(e,t,r);for(const s in e)if(Ie(e[s])||Ie(t[s])){const i=ys.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function G2(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const pm=["x","y","width","height","cx","cy","r"],Y2={useVisualState:Xy({scrapeMotionValuesFromProps:ax,createRenderState:tx,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in s)if(gn.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<pm.length;l++){const c=pm[l];e[c]!==t[c]&&(o=!0)}o&&ae.read(()=>{G2(r,n),ae.render(()=>{ih(n,s,oh(r.tagName),e.transformTemplate),sx(r,n)})})}})},Q2={useVisualState:Xy({scrapeMotionValuesFromProps:lh,createRenderState:ah})};function ox(e,t,r){for(const n in t)!Ie(t[n])&&!ix(n,r)&&(e[n]=t[n])}function X2({transformTemplate:e},t){return x.useMemo(()=>{const r=ah();return sh(r,t,e),Object.assign({},r.vars,r.style)},[t])}function J2(e,t){const r=e.style||{},n={};return ox(n,r,e),Object.assign(n,X2(e,t)),n}function Z2(e,t){const r={},n=J2(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function eN(e,t,r,n){const s=x.useMemo(()=>{const i=tx();return ih(i,t,oh(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ox(i,e.style,e),s.style={...i,...s.style}}return s}function tN(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(eh(r)?eN:Z2)(n,i,o,r),u=g2(n,typeof r=="string",e),d=r!==x.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=x.useMemo(()=>Ie(h)?h.get():h,[h]);return x.createElement(r,{...d,children:f})}}function rN(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...eh(n)?Y2:Q2,preloadedFeatures:e,useRender:tN(s),createVisualElement:t,Component:n};return N2(o)}}function lx(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ol(e,t,r){const n=e.getProps();return th(n,t,r!==void 0?r:n.custom,e)}const nN=Yd(()=>window.ScrollTimeline!==void 0);class sN{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(nN()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iN extends sN{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function ch(e,t){return e?e[t]||e.default||e:void 0}const vu=2e4;function cx(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<vu;)t+=r,n=e.next(t);return t>=vu?1/0:t}function uh(e){return typeof e=="function"}function gm(e,t){e.timeline=t,e.onfinish=null}const dh=e=>Array.isArray(e)&&typeof e[0]=="number",aN={linearEasing:void 0};function oN(e,t){const r=Yd(e);return()=>{var n;return(n=aN[t])!==null&&n!==void 0?n:r()}}const xo=oN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ux=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(os(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function dx(e){return!!(typeof e=="function"&&xo()||!e||typeof e=="string"&&(e in wu||xo())||dh(e)||Array.isArray(e)&&e.every(dx))}const $s=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,wu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function hx(e,t){if(e)return typeof e=="function"&&xo()?ux(e,t):dh(e)?$s(e):Array.isArray(e)?e.map(r=>hx(r,t)||wu.easeOut):wu[e]}const jt={x:!1,y:!1};function fx(){return jt.x||jt.y}function lN(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function mx(e,t){const r=lN(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function ym(e){return t=>{t.pointerType==="touch"||fx()||e(t)}}function cN(e,t,r={}){const[n,s,i]=mx(e,r),o=ym(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=ym(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const px=(e,t)=>t?e===t?!0:px(e,t.parentElement):!1,hh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,uN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dN(e){return uN.has(e.tagName)||e.tabIndex!==-1}const Vs=new WeakSet;function xm(e){return t=>{t.key==="Enter"&&e(t)}}function Yl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hN=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=xm(()=>{if(Vs.has(r))return;Yl(r,"down");const s=xm(()=>{Yl(r,"up")}),i=()=>Yl(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function vm(e){return hh(e)&&!fx()}function fN(e,t,r={}){const[n,s,i]=mx(e,r),o=l=>{const c=l.currentTarget;if(!vm(l)||Vs.has(c))return;Vs.add(c);const u=t(l),d=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!vm(p)||!Vs.has(c))&&(Vs.delete(c),typeof u=="function"&&u(p,{success:v}))},h=p=>{d(p,r.useGlobalTarget||px(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{!dN(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>hN(u,s),s)}),i}function mN(e){return e==="x"||e==="y"?jt[e]?null:(jt[e]=!0,()=>{jt[e]=!1}):jt.x||jt.y?null:(jt.x=jt.y=!0,()=>{jt.x=jt.y=!1})}const gx=new Set(["width","height","top","left","right","bottom",...ys]);let La;function pN(){La=void 0}const $t={now:()=>(La===void 0&&$t.set(Ee.isProcessing||u2.useManualTiming?Ee.timestamp:performance.now()),La),set:e=>{La=e,queueMicrotask(pN)}};function fh(e,t){e.indexOf(t)===-1&&e.push(t)}function mh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ph{constructor(){this.subscriptions=[]}add(t){return fh(this.subscriptions,t),()=>mh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yx(e,t){return t?e*(1e3/t):0}const wm=30,gN=e=>!isNaN(parseFloat(e));class yN{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=$t.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=$t.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ph);const n=this.events[t].add(r);return t==="change"?()=>{n(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wm)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,wm);return yx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ai(e,t){return new yN(e,t)}function xN(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ai(r))}function vN(e,t){const r=ol(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=A2(i[o]);xN(e,o,l)}}function wN(e){return!!(Ie(e)&&e.add)}function bu(e,t){const r=e.getValue("willChange");if(wN(r))return r.add(t)}function xx(e){return e.props[Gy]}const vx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,bN=1e-7,jN=12;function kN(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=vx(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>bN&&++l<jN);return o}function Wi(e,t,r,n){if(e===t&&r===n)return nt;const s=i=>kN(i,0,1,e,r);return i=>i===0||i===1?i:vx(s(i),t,n)}const wx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bx=e=>t=>1-e(1-t),jx=Wi(.33,1.53,.69,.99),gh=bx(jx),kx=wx(gh),Sx=e=>(e*=2)<1?.5*gh(e):.5*(2-Math.pow(2,-10*(e-1))),yh=e=>1-Math.sin(Math.acos(e)),Nx=bx(yh),_x=wx(yh),Cx=e=>/^0[^.\s]+$/u.test(e);function SN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Cx(e):!0}const ei=e=>Math.round(e*1e5)/1e5,xh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NN(e){return e==null}const _N=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vh=(e,t)=>r=>!!(typeof r=="string"&&_N.test(r)&&r.startsWith(e)||t&&!NN(r)&&Object.prototype.hasOwnProperty.call(r,t)),Ex=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(xh);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},CN=e=>rr(0,255,e),Ql={...xs,transform:e=>Math.round(CN(e))},tn={test:vh("rgb","red"),parse:Ex("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ql.transform(e)+", "+Ql.transform(t)+", "+Ql.transform(r)+", "+ei(Ti.transform(n))+")"};function EN(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const ju={test:vh("#"),parse:EN,transform:tn.transform},On={test:vh("hsl","hue"),parse:Ex("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ft.transform(ei(t))+", "+Ft.transform(ei(r))+", "+ei(Ti.transform(n))+")"},Me={test:e=>tn.test(e)||ju.test(e)||On.test(e),parse:e=>tn.test(e)?tn.parse(e):On.test(e)?On.parse(e):ju.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?tn.transform(e):On.transform(e)},PN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TN(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xh))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(PN))===null||r===void 0?void 0:r.length)||0)>0}const Px="number",Tx="color",AN="var",RN="var(",bm="${}",DN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ri(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(DN,c=>(Me.test(c)?(n.color.push(i),s.push(Tx),r.push(Me.parse(c))):c.startsWith(RN)?(n.var.push(i),s.push(AN),r.push(c)):(n.number.push(i),s.push(Px),r.push(parseFloat(c))),++i,bm)).split(bm);return{values:r,split:l,indexes:n,types:s}}function Ax(e){return Ri(e).values}function Rx(e){const{split:t,types:r}=Ri(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===Px?i+=ei(s[o]):l===Tx?i+=Me.transform(s[o]):i+=s[o]}return i}}const MN=e=>typeof e=="number"?0:e;function LN(e){const t=Ax(e);return Rx(e)(t.map(MN))}const Or={test:TN,parse:Ax,createTransformer:Rx,getAnimatableNone:LN},ON=new Set(["brightness","contrast","saturate","opacity"]);function IN(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(xh)||[];if(!n)return e;const s=r.replace(n,"");let i=ON.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const FN=/\b([a-z-]*)\(.*?\)/gu,ku={...Or,getAnimatableNone:e=>{const t=e.match(FN);return t?t.map(IN).join(" "):e}},$N={...nh,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:ku,WebkitFilter:ku},wh=e=>$N[e];function Dx(e,t){let r=wh(e);return r!==ku&&(r=Or),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const VN=new Set(["auto","none","0"]);function UN(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!VN.has(i)&&Ri(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Dx(r,s)}const jm=e=>e===xs||e===$,km=(e,t)=>parseFloat(e.split(", ")[t]),Sm=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return km(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?km(i[1],e):0}},BN=new Set(["x","y","z"]),zN=ys.filter(e=>!BN.has(e));function WN(e){const t=[];return zN.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const cs={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Sm(4,13),y:Sm(5,14)};cs.translateX=cs.x;cs.translateY=cs.y;const an=new Set;let Su=!1,Nu=!1;function Mx(){if(Nu){const e=Array.from(an).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=WN(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Nu=!1,Su=!1,an.forEach(e=>e.complete()),an.clear()}function Lx(){an.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Nu=!0)})}function HN(){Lx(),Mx()}class bh{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(an.add(this),Su||(Su=!0,ae.read(Lx),ae.resolveKeyframes(Mx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),an.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,an.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ox=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),qN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KN(e){const t=qN.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Ix(e,t,r=1){const[n,s]=KN(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Ox(o)?parseFloat(o):o}return rh(s)?Ix(s,t,r+1):s}const Fx=e=>t=>t.test(e),GN={test:e=>e==="auto",parse:e=>e},$x=[xs,$,Ft,fr,I2,O2,GN],Nm=e=>$x.find(Fx(e));class Vx extends bh{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),rh(u))){const d=Ix(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!gx.has(n)||t.length!==2)return;const[s,i]=t,o=Nm(s),l=Nm(i);if(o!==l)if(jm(o)&&jm(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)SN(t[s])&&n.push(s);n.length&&UN(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=cs[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const _m=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Or.test(e)||e==="0")&&!e.startsWith("url("));function YN(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function QN(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=_m(s,t),l=_m(i,t);return!o||!l?!1:YN(e)||(r==="spring"||uh(r))&&n}const XN=e=>e!==null;function ll(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(XN),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const JN=40;class Ux{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$t.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>JN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HN(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=$t.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!QN(t,n,s,i))if(o)this.options.duration=0;else{c&&c(ll(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const de=(e,t,r)=>e+(t-e)*r;function Xl(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ZN({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Xl(c,l,e+1/3),i=Xl(c,l,e),o=Xl(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function vo(e,t){return r=>r>0?t:e}const Jl=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},e_=[ju,tn,On],t_=e=>e_.find(t=>t.test(e));function Cm(e){const t=t_(e);if(!t)return!1;let r=t.parse(e);return t===On&&(r=ZN(r)),r}const Em=(e,t)=>{const r=Cm(e),n=Cm(t);if(!r||!n)return vo(e,t);const s={...r};return i=>(s.red=Jl(r.red,n.red,i),s.green=Jl(r.green,n.green,i),s.blue=Jl(r.blue,n.blue,i),s.alpha=de(r.alpha,n.alpha,i),tn.transform(s))},r_=(e,t)=>r=>t(e(r)),Hi=(...e)=>e.reduce(r_),_u=new Set(["none","hidden"]);function n_(e,t){return _u.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function s_(e,t){return r=>de(e,t,r)}function jh(e){return typeof e=="number"?s_:typeof e=="string"?rh(e)?vo:Me.test(e)?Em:o_:Array.isArray(e)?Bx:typeof e=="object"?Me.test(e)?Em:i_:vo}function Bx(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>jh(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function i_(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=jh(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function a_(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,s[o]++}return n}const o_=(e,t)=>{const r=Or.createTransformer(t),n=Ri(e),s=Ri(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?_u.has(e)&&!s.values.length||_u.has(t)&&!n.values.length?n_(e,t):Hi(Bx(a_(n,s),s.values),r):vo(e,t)};function zx(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?de(e,t,r):jh(e)(e,t)}const l_=5;function Wx(e,t,r){const n=Math.max(t-l_,0);return yx(r-e(n),t-n)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pm=.001;function c_({duration:e=pe.duration,bounce:t=pe.bounce,velocity:r=pe.velocity,mass:n=pe.mass}){let s,i,o=1-t;o=rr(pe.minDamping,pe.maxDamping,o),e=rr(pe.minDuration,pe.maxDuration,Xt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,p=Cu(u,o),v=Math.exp(-h);return Pm-f/p*v},i=u=>{const h=u*o*e,f=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),w=Cu(Math.pow(u,2),o);return(-s(u)+Pm>0?-1:1)*((f-p)*v)/w}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-.001+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=d_(s,i,l);if(e=Qt(e),isNaN(c))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const u_=12;function d_(e,t,r){let n=r;for(let s=1;s<u_;s++)n=n-e(n)/t(n);return n}function Cu(e,t){return e*Math.sqrt(1-t*t)}const h_=["duration","bounce"],f_=["stiffness","damping","mass"];function Tm(e,t){return t.some(r=>e[r]!==void 0)}function m_(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!Tm(e,f_)&&Tm(e,h_))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*rr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pe.mass,stiffness:s,damping:i}}else{const r=c_(e);t={...t,...r,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Hx(e=pe.visualDuration,t=pe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=m_({...r,velocity:-Xt(r.velocity||0)}),v=f||0,w=u/(2*Math.sqrt(c*d)),j=o-i,m=Xt(Math.sqrt(c/d)),y=Math.abs(j)<5;n||(n=y?pe.restSpeed.granular:pe.restSpeed.default),s||(s=y?pe.restDelta.granular:pe.restDelta.default);let g;if(w<1){const S=Cu(m,w);g=_=>{const k=Math.exp(-w*m*_);return o-k*((v+w*m*j)/S*Math.sin(S*_)+j*Math.cos(S*_))}}else if(w===1)g=S=>o-Math.exp(-m*S)*(j+(v+m*j)*S);else{const S=m*Math.sqrt(w*w-1);g=_=>{const k=Math.exp(-w*m*_),C=Math.min(S*_,300);return o-k*((v+w*m*j)*Math.sinh(C)+S*j*Math.cosh(C))/S}}const b={calculatedDuration:p&&h||null,next:S=>{const _=g(S);if(p)l.done=S>=h;else{let k=0;w<1&&(k=S===0?Qt(v):Wx(g,S,_));const C=Math.abs(k)<=n,N=Math.abs(o-_)<=s;l.done=C&&N}return l.value=l.done?o:_,l},toString:()=>{const S=Math.min(cx(b),vu),_=ux(k=>b.next(S*k).value,S,30);return S+"ms "+_}};return b}function Am({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,v=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let w=r*t;const j=h+w,m=o===void 0?j:o(j);m!==j&&(w=m-h);const y=C=>-w*Math.exp(-C/n),g=C=>m+y(C),b=C=>{const N=y(C),E=g(C);f.done=Math.abs(N)<=u,f.value=f.done?m:E};let S,_;const k=C=>{p(f.value)&&(S=C,_=Hx({keyframes:[f.value,v(f.value)],velocity:Wx(g,C,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let N=!1;return!_&&S===void 0&&(N=!0,b(C),k(C)),S!==void 0&&C>=S?_.next(C-S):(!N&&b(C),f)}}}const p_=Wi(.42,0,1,1),g_=Wi(0,0,.58,1),qx=Wi(.42,0,.58,1),y_=e=>Array.isArray(e)&&typeof e[0]!="number",x_={linear:nt,easeIn:p_,easeInOut:qx,easeOut:g_,circIn:yh,circInOut:_x,circOut:Nx,backIn:gh,backInOut:kx,backOut:jx,anticipate:Sx},Rm=e=>{if(dh(e)){zy(e.length===4);const[t,r,n,s]=e;return Wi(t,r,n,s)}else if(typeof e=="string")return x_[e];return e};function v_(e,t,r){const n=[],s=r||zx,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||nt:t;l=Hi(c,l)}n.push(l)}return n}function w_(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(zy(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=v_(t,n,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=os(e[h],e[h+1],d);return l[h](f)};return r?d=>u(rr(e[0],e[i-1],d)):u}function b_(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=os(0,t,n);e.push(de(r,1,s))}}function j_(e){const t=[0];return b_(t,e.length-1),t}function k_(e,t){return e.map(r=>r*t)}function S_(e,t){return e.map(()=>t||qx).splice(0,e.length-1)}function wo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=y_(n)?n.map(Rm):Rm(n),i={done:!1,value:t[0]},o=k_(r&&r.length===t.length?r:j_(t),e),l=w_(o,t,{ease:Array.isArray(s)?s:S_(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const N_=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ae.update(t,!0),stop:()=>Lr(t),now:()=>Ee.isProcessing?Ee.timestamp:$t.now()}},__={decay:Am,inertia:Am,tween:wo,keyframes:wo,spring:Hx},C_=e=>e/100;class kh extends Ux{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||bh,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=uh(r)?r:__[r]||wo;let c,u;l!==wo&&typeof t[0]!="number"&&(c=Hi(C_,zx(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=cx(d));const{calculatedDuration:h}=d,f=h+s,p=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:v,repeatDelay:w,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,b=i;if(p){const C=Math.min(this.currentTime,d)/h;let N=Math.floor(C),E=C%1;!E&&C>=1&&(E=1),E===1&&N--,N=Math.min(N,p+1),!!(N%2)&&(v==="reverse"?(E=1-E,w&&(E-=w/h)):v==="mirror"&&(b=o)),g=rr(0,1,E)*h}const S=y?{done:!1,value:c[0]}:b.next(g);l&&(S.value=l(S.value));let{done:_}=S;!y&&u!==null&&(_=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return k&&s!==void 0&&(S.value=ll(c,this.options,s)),j&&j(S.value),k&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Xt(t.calculatedDuration):0}get time(){return Xt(this.currentTime)}set time(t){t=Qt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Xt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=N_,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const E_=new Set(["opacity","clipPath","filter","transform"]);function P_(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=hx(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const T_=Yd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bo=10,A_=2e4;function R_(e){return uh(e.type)||e.type==="spring"||!dx(e.ease)}function D_(e,t){const r=new kh({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<A_;)n=r.sample(i),s.push(n.value),i+=bo;return{times:void 0,keyframes:s,duration:i-bo,ease:"linear"}}const Kx={anticipate:Sx,backInOut:kx,circInOut:_x};function M_(e){return e in Kx}class Dm extends Ux{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Vx(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&xo()&&M_(i)&&(i=Kx[i]),R_(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:v,...w}=this.options,j=D_(t,w);t=j.keyframes,t.length===1&&(t[1]=t[0]),n=j.duration,s=j.times,i=j.ease,o="keyframes"}const d=P_(l.owner.current,c,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(gm(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(ll(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Xt(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Xt(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Qt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return nt;const{animation:n}=r;gm(n,t)}return nt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,v=new kh({...p,keyframes:n,duration:s,type:i,ease:o,times:l,isGenerator:!0}),w=Qt(this.time);u.setWithVelocity(v.sample(w-bo).value,v.sample(w).value,bo)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return T_()&&n&&E_.has(n)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const L_={type:"spring",stiffness:500,damping:25,restSpeed:10},O_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),I_={type:"keyframes",duration:.8},F_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$_=(e,{keyframes:t})=>t.length>2?I_:gn.has(e)?e.startsWith("scale")?O_(t[1]):L_:F_;function V_({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Sh=(e,t,r,n={},s,i)=>o=>{const l=ch(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Qt(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};V_(l)||(d={...d,...$_(e,d)}),d.duration&&(d.duration=Qt(d.duration)),d.repeatDelay&&(d.repeatDelay=Qt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=ll(d.keyframes,l);if(f!==void 0)return ae.update(()=>{d.onUpdate(f),d.onComplete()}),new iN([])}return!i&&Dm.supports(d)?new Dm(d):new kh(d)};function U_({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Gx(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&U_(d,h))continue;const v={delay:r,...ch(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const m=xx(e);if(m){const y=window.MotionHandoffAnimation(m,h,ae);y!==null&&(v.startTime=y,w=!0)}}bu(e,h),f.start(Sh(h,f,p,e.shouldReduceMotion&&gx.has(h)?{type:!1}:v,e,w));const j=f.animation;j&&u.push(j)}return l&&Promise.all(u).then(()=>{ae.update(()=>{l&&vN(e,l)})}),u}function Eu(e,t,r={}){var n;const s=ol(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(Gx(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return B_(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function B_(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(z_).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Eu(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function z_(e,t){return e.sortNodePosition(t)}function W_(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Eu(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Eu(e,t,r);else{const s=typeof t=="function"?ol(e,t,r.custom):t;n=Promise.all(Gx(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const H_=Xd.length;function Yx(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Yx(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<H_;r++){const n=Xd[r],s=e.props[n];(Pi(s)||s===!1)&&(t[n]=s)}return t}const q_=[...Qd].reverse(),K_=Qd.length;function G_(e){return t=>Promise.all(t.map(({animation:r,options:n})=>W_(e,r,n)))}function Y_(e){let t=G_(e),r=Mm(),n=!0;const s=c=>(u,d)=>{var h;const f=ol(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:v,...w}=f;u={...u,...w,...v}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=Yx(e.parent)||{},h=[],f=new Set;let p={},v=1/0;for(let j=0;j<K_;j++){const m=q_[j],y=r[m],g=u[m]!==void 0?u[m]:d[m],b=Pi(g),S=m===c?y.isActive:null;S===!1&&(v=j);let _=g===d[m]&&g!==u[m]&&b;if(_&&n&&e.manuallyAnimateOnMount&&(_=!1),y.protectedKeys={...p},!y.isActive&&S===null||!g&&!y.prevProp||il(g)||typeof g=="boolean")continue;const k=Q_(y.prevProp,g);let C=k||m===c&&y.isActive&&!_&&b||j>v&&b,N=!1;const E=Array.isArray(g)?g:[g];let P=E.reduce(s(m),{});S===!1&&(P={});const{prevResolvedValues:A={}}=y,L={...A,...P},B=ee=>{C=!0,f.has(ee)&&(N=!0,f.delete(ee)),y.needsAnimating[ee]=!0;const R=e.getValue(ee);R&&(R.liveStyle=!1)};for(const ee in L){const R=P[ee],F=A[ee];if(p.hasOwnProperty(ee))continue;let V=!1;xu(R)&&xu(F)?V=!lx(R,F):V=R!==F,V?R!=null?B(ee):f.add(ee):R!==void 0&&f.has(ee)?B(ee):y.protectedKeys[ee]=!0}y.prevProp=g,y.prevResolvedValues=P,y.isActive&&(p={...p,...P}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(_&&k)||N)&&h.push(...E.map(ee=>({animation:ee,options:{type:m}})))}if(f.size){const j={};f.forEach(m=>{const y=e.getBaseTarget(m),g=e.getValue(m);g&&(g.liveStyle=!0),j[m]=y??null}),h.push({animation:j})}let w=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(h):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Mm(),n=!0}}}function Q_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lx(t,e):!1}function zr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mm(){return{animate:zr(!0),whileInView:zr(),whileHover:zr(),whileTap:zr(),whileDrag:zr(),whileFocus:zr(),exit:zr()}}let Ur=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};class X_ extends Ur{constructor(t){super(t),t.animationState||(t.animationState=Y_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();il(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let J_=0;class Z_ extends Ur{constructor(){super(...arguments),this.id=J_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eC={animation:{Feature:X_},exit:{Feature:Z_}};function Di(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function qi(e){return{point:{x:e.pageX,y:e.pageY}}}const tC=e=>t=>hh(t)&&e(t,qi(t));function ti(e,t,r,n){return Di(e,t,tC(r),n)}const Lm=(e,t)=>Math.abs(e-t);function rC(e,t){const r=Lm(e.x,t.x),n=Lm(e.y,t.y);return Math.sqrt(r**2+n**2)}class Qx{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ec(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=rC(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=h,{timestamp:w}=Ee;this.history.push({...v,timestamp:w});const{onStart:j,onMove:m}=this.handlers;f||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Zl(f,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=ec(h.type==="pointercancel"?this.lastMoveEventInfo:Zl(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,j),v&&v(h,j)},!hh(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=qi(t),l=Zl(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ee;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,ec(l,this.history)),this.removeListeners=Hi(ti(this.contextWindow,"pointermove",this.handlePointerMove),ti(this.contextWindow,"pointerup",this.handlePointerUp),ti(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lr(this.updatePoint)}}function Zl(e,t){return t?{point:t(e.point)}:e}function Om(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ec({point:e},t){return{point:e,delta:Om(e,Xx(t)),offset:Om(e,nC(t)),velocity:sC(t,.1)}}function nC(e){return e[0]}function Xx(e){return e[e.length-1]}function sC(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Xx(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Qt(t)));)r--;if(!n)return{x:0,y:0};const i=Xt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Jx=1e-4,iC=1-Jx,aC=1+Jx,Zx=.01,oC=0-Zx,lC=0+Zx;function at(e){return e.max-e.min}function cC(e,t,r){return Math.abs(e-t)<=r}function Im(e,t,r,n=.5){e.origin=n,e.originPoint=de(t.min,t.max,e.origin),e.scale=at(r)/at(t),e.translate=de(r.min,r.max,e.origin)-e.originPoint,(e.scale>=iC&&e.scale<=aC||isNaN(e.scale))&&(e.scale=1),(e.translate>=oC&&e.translate<=lC||isNaN(e.translate))&&(e.translate=0)}function ri(e,t,r,n){Im(e.x,t.x,r.x,n?n.originX:void 0),Im(e.y,t.y,r.y,n?n.originY:void 0)}function Fm(e,t,r){e.min=r.min+t.min,e.max=e.min+at(t)}function uC(e,t,r){Fm(e.x,t.x,r.x),Fm(e.y,t.y,r.y)}function $m(e,t,r){e.min=t.min-r.min,e.max=e.min+at(t)}function ni(e,t,r){$m(e.x,t.x,r.x),$m(e.y,t.y,r.y)}function dC(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?de(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?de(r,e,n.max):Math.min(e,r)),e}function Vm(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function hC(e,{top:t,left:r,bottom:n,right:s}){return{x:Vm(e.x,r,s),y:Vm(e.y,t,n)}}function Um(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function fC(e,t){return{x:Um(e.x,t.x),y:Um(e.y,t.y)}}function mC(e,t){let r=.5;const n=at(e),s=at(t);return s>n?r=os(t.min,t.max-n,e.min):n>s&&(r=os(e.min,e.max-s,t.min)),rr(0,1,r)}function pC(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Pu=.35;function gC(e=Pu){return e===!1?e=0:e===!0&&(e=Pu),{x:Bm(e,"left","right"),y:Bm(e,"top","bottom")}}function Bm(e,t,r){return{min:zm(e,t),max:zm(e,r)}}function zm(e,t){return typeof e=="number"?e:e[t]||0}const Wm=()=>({translate:0,scale:1,origin:0,originPoint:0}),In=()=>({x:Wm(),y:Wm()}),Hm=()=>({min:0,max:0}),ye=()=>({x:Hm(),y:Hm()});function ut(e){return[e("x"),e("y")]}function ev({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function yC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function tc(e){return e===void 0||e===1}function Tu({scale:e,scaleX:t,scaleY:r}){return!tc(e)||!tc(t)||!tc(r)}function Gr(e){return Tu(e)||tv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tv(e){return qm(e.x)||qm(e.y)}function qm(e){return e&&e!=="0%"}function jo(e,t,r){const n=e-r,s=t*n;return r+s}function Km(e,t,r,n,s){return s!==void 0&&(e=jo(e,s,n)),jo(e,r,n)+t}function Au(e,t=0,r=1,n,s){e.min=Km(e.min,t,r,n,s),e.max=Km(e.max,t,r,n,s)}function rv(e,{x:t,y:r}){Au(e.x,t.translate,t.scale,t.originPoint),Au(e.y,r.translate,r.scale,r.originPoint)}const Gm=.999999999999,Ym=1.0000000000001;function vC(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$n(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,rv(e,o)),n&&Gr(i.latestValues)&&$n(e,i.latestValues))}t.x<Ym&&t.x>Gm&&(t.x=1),t.y<Ym&&t.y>Gm&&(t.y=1)}function Fn(e,t){e.min=e.min+t,e.max=e.max+t}function Qm(e,t,r,n,s=.5){const i=de(e.min,e.max,s);Au(e,t,r,i,n)}function $n(e,t){Qm(e.x,t.x,t.scaleX,t.scale,t.originX),Qm(e.y,t.y,t.scaleY,t.scale,t.originY)}function nv(e,t){return ev(xC(e.getBoundingClientRect(),t))}function wC(e,t,r){const n=nv(e,r),{scroll:s}=t;return s&&(Fn(n.x,s.offset.x),Fn(n.y,s.offset.y)),n}const sv=({current:e})=>e?e.ownerDocument.defaultView:null,bC=new WeakMap;class jC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qi(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mN(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ut(j=>{let m=this.getAxisMotionValue(j).get()||0;if(Ft.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const g=y.layout.layoutBox[j];g&&(m=at(g)*(parseFloat(m)/100))}}this.originPoint[j]=m}),v&&ae.postRender(()=>v(d,h)),bu(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:j}=h;if(p&&this.currentDirection===null){this.currentDirection=kC(j),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ut(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Qx(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:sv(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ae.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!xa(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=dC(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ln(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=hC(s.layoutBox,r):this.constraints=!1,this.elastic=gC(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ut(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=pC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ln(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=wC(n,s.root,this.visualElement.getTransformPagePoint());let o=fC(s.layout.layoutBox,i);if(r){const l=r(yC(o));this.hasMutatedConstraints=!!l,l&&(o=ev(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ut(d=>{if(!xa(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return bu(this.visualElement,t),n.start(Sh(t,n,0,r,this.visualElement,!1))}stopAnimation(){ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ut(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ut(r=>{const{drag:n}=this.getProps();if(!xa(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-de(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ln(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ut(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=mC({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ut(o=>{if(!xa(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(de(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;bC.set(this.visualElement,this);const t=this.visualElement.current,r=ti(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ln(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ae.read(n);const o=Di(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ut(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Pu,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function xa(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function kC(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class SC extends Ur{constructor(t){super(t),this.removeGroupControls=nt,this.removeListeners=nt,this.controls=new jC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xm=e=>(t,r)=>{e&&ae.postRender(()=>e(t,r))};class NC extends Ur{constructor(){super(...arguments),this.removePointerDownListener=nt}onPointerDown(t){this.session=new Qx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Xm(t),onStart:Xm(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&ae.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ti(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ps={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const r=Jm(e,t.target.x),n=Jm(e,t.target.y);return`${r}% ${n}%`}},_C={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Or.parse(e);if(s.length>5)return n;const i=Or.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=de(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class CC extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;K2(EC),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Oa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ae.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iv(e){const[t,r]=Vy(),n=x.useContext(Hd);return a.jsx(CC,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(Yy),isPresent:t,safeToRemove:r})}const EC={borderRadius:{...Ps,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ps,borderTopRightRadius:Ps,borderBottomLeftRadius:Ps,borderBottomRightRadius:Ps,boxShadow:_C};function PC(e,t,r){const n=Ie(e)?e:Ai(e);return n.start(Sh("",n,t,r)),n.animation}function TC(e){return e instanceof SVGElement&&e.tagName!=="svg"}const AC=(e,t)=>e.depth-t.depth;class RC{constructor(){this.children=[],this.isDirty=!1}add(t){fh(this.children,t),this.isDirty=!0}remove(t){mh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AC),this.isDirty=!1,this.children.forEach(t)}}function DC(e,t){const r=$t.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Lr(n),e(i-t))};return ae.read(n,!0),()=>Lr(n)}const av=["TopLeft","TopRight","BottomLeft","BottomRight"],MC=av.length,Zm=e=>typeof e=="string"?parseFloat(e):e,ep=e=>typeof e=="number"||$.test(e);function LC(e,t,r,n,s,i){s?(e.opacity=de(0,r.opacity!==void 0?r.opacity:1,OC(n)),e.opacityExit=de(t.opacity!==void 0?t.opacity:1,0,IC(n))):i&&(e.opacity=de(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<MC;o++){const l=`border${av[o]}Radius`;let c=tp(t,l),u=tp(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ep(c)===ep(u)?(e[l]=Math.max(de(Zm(c),Zm(u),n),0),(Ft.test(u)||Ft.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=de(t.rotate||0,r.rotate||0,n))}function tp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const OC=ov(0,.5,Nx),IC=ov(.5,.95,nt);function ov(e,t,r){return n=>n<e?0:n>t?1:r(os(e,t,n))}function rp(e,t){e.min=t.min,e.max=t.max}function ct(e,t){rp(e.x,t.x),rp(e.y,t.y)}function np(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sp(e,t,r,n,s){return e-=t,e=jo(e,1/r,n),s!==void 0&&(e=jo(e,1/s,n)),e}function FC(e,t=0,r=1,n=.5,s,i=e,o=e){if(Ft.test(t)&&(t=parseFloat(t),t=de(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=de(i.min,i.max,n);e===i&&(l-=t),e.min=sp(e.min,t,r,l,s),e.max=sp(e.max,t,r,l,s)}function ip(e,t,[r,n,s],i,o){FC(e,t[r],t[n],t[s],t.scale,i,o)}const $C=["x","scaleX","originX"],VC=["y","scaleY","originY"];function ap(e,t,r,n){ip(e.x,t,$C,r?r.x:void 0,n?n.x:void 0),ip(e.y,t,VC,r?r.y:void 0,n?n.y:void 0)}function op(e){return e.translate===0&&e.scale===1}function lv(e){return op(e.x)&&op(e.y)}function lp(e,t){return e.min===t.min&&e.max===t.max}function UC(e,t){return lp(e.x,t.x)&&lp(e.y,t.y)}function cp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cv(e,t){return cp(e.x,t.x)&&cp(e.y,t.y)}function up(e){return at(e.x)/at(e.y)}function dp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class BC{constructor(){this.members=[]}add(t){fh(this.members,t),t.scheduleRender()}remove(t){if(mh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zC(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Yr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Us=typeof window<"u"&&window.MotionDebug!==void 0,rc=["","X","Y","Z"],WC={visibility:"hidden"},hp=1e3;let HC=0;function nc(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function uv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=xx(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ae,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&uv(n)}function dv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=HC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Us&&(Yr.totalNodes=Yr.resolvedTargetDeltas=Yr.recalculatedProjection=0),this.nodes.forEach(GC),this.nodes.forEach(ZC),this.nodes.forEach(eE),this.nodes.forEach(YC),Us&&window.MotionDebug.record(Yr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new RC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ph),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TC(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=DC(f,250),Oa.hasAnimatedSinceResize&&(Oa.hasAnimatedSinceResize=!1,this.nodes.forEach(mp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||iE,{onLayoutAnimationStart:j,onLayoutAnimationComplete:m}=d.getProps(),y=!this.targetLayout||!cv(this.targetLayout,v)||p,g=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const b={...ch(w,"layout"),onPlay:j,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||mp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fp);return}this.isUpdating||this.nodes.forEach(XC),this.isUpdating=!1,this.nodes.forEach(JC),this.nodes.forEach(qC),this.nodes.forEach(KC),this.clearAllSnapshots();const l=$t.now();Ee.delta=rr(0,1e3/60,l-Ee.timestamp),Ee.timestamp=l,Ee.isProcessing=!0,Gl.update.process(Ee),Gl.preRender.process(Ee),Gl.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QC),this.sharedNodes.forEach(rE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!lv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Gr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),aE(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ye();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(oE))){const{scroll:d}=this.root;d&&(Fn(c.x,d.offset.x),Fn(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=ye();if(ct(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ct(c,o),Fn(c.x,h.offset.x),Fn(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=ye();ct(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$n(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gr(d.latestValues)&&$n(c,d.latestValues)}return Gr(this.latestValues)&&$n(c,this.latestValues),c}removeTransform(o){const l=ye();ct(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gr(u.latestValues))continue;Tu(u.latestValues)&&u.updateSnapshot();const d=ye(),h=u.measurePageBox();ct(d,h),ap(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gr(this.latestValues)&&ap(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ni(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),rv(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ni(this.relativeTargetOrigin,this.target,p.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Us&&Yr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tu(this.parent.latestValues)||tv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ct(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;vC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ye());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(np(this.prevProjectionDelta.x,this.projectionDelta.x),np(this.prevProjectionDelta.y,this.projectionDelta.y)),ri(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!dp(this.projectionDelta.x,this.prevProjectionDelta.x)||!dp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Us&&Yr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=In(),this.projectionDelta=In(),this.projectionDeltaWithTransform=In()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=In();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ye(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,j=this.getStack(),m=!j||j.members.length<=1,y=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(sE));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const S=b/1e3;pp(h.x,o.x,S),pp(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ni(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nE(this.relativeTarget,this.relativeTargetOrigin,f,S),g&&UC(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ye()),ct(g,this.relativeTarget)),w&&(this.animationValues=d,LC(d,u,this.latestValues,S,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Oa.hasAnimatedSinceResize=!0,this.currentAnimation=PC(0,hp,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&hv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ye();const h=at(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=at(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ct(l,c),$n(l,d),ri(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BC),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&nc("z",o,u,this.animationValues);for(let d=0;d<rc.length;d++)nc(`rotate${rc[d]}`,o,u,this.animationValues),nc(`skew${rc[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ma(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ma(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Gr(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=zC(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in yo){if(f[w]===void 0)continue;const{correct:j,applyTo:m}=yo[w],y=u.transform==="none"?f[w]:j(f[w],h);if(m){const g=m.length;for(let b=0;b<g;b++)u[m[b]]=y}else u[w]=y}return this.options.layoutId&&(u.pointerEvents=h===this?Ma(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fp),this.root.sharedNodes.clear()}}}function qC(e){e.updateLayout()}function KC(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?ut(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=at(f);f.min=n[h].min,f.max=f.min+p}):hv(i,r.layoutBox,n)&&ut(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=at(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=In();ri(l,n,r.layoutBox);const c=In();o?ri(c,e.applyTransform(s,!0),r.measuredBox):ri(c,n,r.layoutBox);const u=!lv(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=ye();ni(v,r.layoutBox,f.layoutBox);const w=ye();ni(w,n,p.layoutBox),cv(v,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function GC(e){Us&&Yr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function QC(e){e.clearSnapshot()}function fp(e){e.clearMeasurements()}function XC(e){e.isLayoutDirty=!1}function JC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZC(e){e.resolveTargetDelta()}function eE(e){e.calcProjection()}function tE(e){e.resetSkewAndRotation()}function rE(e){e.removeLeadSnapshot()}function pp(e,t,r){e.translate=de(t.translate,0,r),e.scale=de(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function gp(e,t,r,n){e.min=de(t.min,r.min,n),e.max=de(t.max,r.max,n)}function nE(e,t,r,n){gp(e.x,t.x,r.x,n),gp(e.y,t.y,r.y,n)}function sE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iE={duration:.45,ease:[.4,0,.1,1]},yp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xp=yp("applewebkit/")&&!yp("chrome/")?Math.round:nt;function vp(e){e.min=xp(e.min),e.max=xp(e.max)}function aE(e){vp(e.x),vp(e.y)}function hv(e,t,r){return e==="position"||e==="preserve-aspect"&&!cC(up(t),up(r),.2)}function oE(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const lE=dv({attachResizeListener:(e,t)=>Di(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sc={current:void 0},fv=dv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sc.current){const e=new lE({});e.mount(window),e.setOptions({layoutScroll:!0}),sc.current=e}return sc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cE={pan:{Feature:NC},drag:{Feature:SC,ProjectionNode:fv,MeasureLayout:iv}};function wp(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&ae.postRender(()=>i(t,qi(t)))}class uE extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=cN(t,r=>(wp(this.node,r,"Start"),n=>wp(this.node,n,"End"))))}unmount(){}}class dE extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hi(Di(this.node.current,"focus",()=>this.onFocus()),Di(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bp(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&ae.postRender(()=>i(t,qi(t)))}class hE extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=fN(t,r=>(bp(this.node,r,"Start"),(n,{success:s})=>bp(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ru=new WeakMap,ic=new WeakMap,fE=e=>{const t=Ru.get(e.target);t&&t(e)},mE=e=>{e.forEach(fE)};function pE({root:e,...t}){const r=e||document;ic.has(r)||ic.set(r,{});const n=ic.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(mE,{root:e,...t})),n[s]}function gE(e,t,r){const n=pE(t);return Ru.set(e,r),n.observe(e),()=>{Ru.delete(e),n.unobserve(e)}}const yE={some:0,all:1};class xE extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:yE[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return gE(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(vE(t,r))&&this.startObserver()}unmount(){}}function vE({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const wE={inView:{Feature:xE},tap:{Feature:hE},focus:{Feature:dE},hover:{Feature:uE}},bE={layout:{ProjectionNode:fv,MeasureLayout:iv}},Du={current:null},mv={current:!1};function jE(){if(mv.current=!0,!!Gd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Du.current=e.matches;e.addListener(t),t()}else Du.current=!1}const kE=[...$x,Me,Or],SE=e=>kE.find(Fx(e)),jp=new WeakMap;function NE(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Ie(s))e.addValue(n,s);else if(Ie(i))e.addValue(n,Ai(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Ai(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const kp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _E{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=$t.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ae.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=al(r),this.isVariantNode=Ky(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const v=f[p];c[p]!==void 0&&Ie(v)&&v.set(c[p],!1)}}mount(t){this.current=t,jp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),mv.current||jE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Du.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jp.delete(this.current),this.projection&&this.projection.unmount(),Lr(this.notifyUpdate),Lr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=gn.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ae.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ls){const r=ls[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<kp.length;n++){const s=kp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=NE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ai(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Ox(s)||Cx(s))?s=parseFloat(s):!SE(s)&&Or.test(r)&&(s=Dx(t,r)),this.setBaseTarget(t,Ie(s)?s.get():s)),Ie(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=th(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ie(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ph),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class pv extends _E{constructor(){super(...arguments),this.KeyframeResolver=Vx}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ie(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function CE(e){return window.getComputedStyle(e)}class EE extends pv{constructor(){super(...arguments),this.type="html",this.renderInstance=rx}readValueFromInstance(t,r){if(gn.has(r)){const n=wh(r);return n&&n.default||0}else{const n=CE(t),s=(Zy(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nv(t,r)}build(t,r,n){sh(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return lh(t,r,n)}}class PE extends pv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(gn.has(r)){const n=wh(r);return n&&n.default||0}return r=nx.has(r)?r:Jd(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return ax(t,r,n)}build(t,r,n){ih(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){sx(t,r,n,s)}mount(t){this.isSVGTag=oh(t.tagName),super.mount(t)}}const TE=(e,t)=>eh(e)?new PE(t):new EE(t,{allowProjection:e!==x.Fragment}),AE=rN({...eC,...wE,...cE,...bE},TE),O=y2(AE);function gv(e,t){let r=0;r+=10,t.keywords&&t.keywords.forEach(o=>{const l=o.toLowerCase();e.title.toLowerCase().includes(l)&&(r+=15),e.content.toLowerCase().includes(l)&&(r+=10)}),t.categories&&t.categories.includes(e.category)&&(r+=20),t.sources&&t.sources.includes(e.source)&&(r+=15),t.languages&&e.language&&(t.languages.includes(e.language)?r+=15:r-=10),e.tags&&e.tags.length>0&&(t.keywords&&e.tags.forEach(o=>{var l;(l=t.keywords)!=null&&l.some(c=>c.toLowerCase()===o.toLowerCase()||o.toLowerCase().includes(c.toLowerCase())||c.toLowerCase().includes(o.toLowerCase()))&&(r+=5)}),e.tags.length>=3&&(r+=5)),t.excluded_keywords&&t.excluded_keywords.forEach(o=>{const l=o.toLowerCase();e.title.toLowerCase().includes(l)&&(r-=25),e.content.toLowerCase().includes(l)&&(r-=15)});const n=new Date(e.published_at),i=(new Date().getTime()-n.getTime())/(1e3*60*60);return i<6?r+=20:i<24?r+=10:i<48&&(r+=5),Math.min(Math.max(Math.round(r),0),100)}function yv(e,t){return e.map(n=>{const s=gv(n,t);return{...n,relevance_score:s}}).sort((n,s)=>(s.relevance_score||0)-(n.relevance_score||0))}function RE(e){return e===null?"text-gray-400":e>=80?"text-green-400":e>=60?"text-green-300":e>=40?"text-blue-400":e>=20?"text-blue-300":"text-gray-400"}const DE=2*60*1e3;async function xv(e,t=20,r,n=!0){if(!e||e.trim().length<2)return[];try{const s=Od({type:"search",query:e.trim().toLowerCase(),limit:t,userId:r});if(n){const d=Ke.get(s);if(d)return d}const i=e.trim().toLowerCase().split(/\s+/).filter(d=>d.length>=2),o=i.map(d=>`title.ilike.%${d}%,content.ilike.%${d}%`).join(","),{data:l,error:c}=await M.from("articles").select("*").or(o).limit(t);if(c)throw console.error("Search error:",c),c;if(!l||l.length===0)return[];let u=l;if(r){const d=await is(r);d&&(u=yv(u,d))}else u.sort((d,h)=>{const f=d.title.toLowerCase(),p=h.title.toLowerCase(),v=f.includes(e.toLowerCase()),w=p.includes(e.toLowerCase());if(v&&!w)return-1;if(!v&&w)return 1;let j=0,m=0;return i.forEach(y=>{f.includes(y)&&j++,p.includes(y)&&m++}),j!==m?m-j:new Date(h.published_at).getTime()-new Date(d.published_at).getTime()});return n&&Ke.set(s,u,DE),u}catch(s){return console.error("Error in searchArticles:",s),[]}}function ME(){return["blockchain","artificial intelligence","stock market","climate change","web3","startup funding","crypto"]}const cl=({textSize:e="text-xl",iconSize:t=24,className:r="",iconOnly:n=!1})=>a.jsxs("div",{className:`flex items-center ${r}`,children:[a.jsx(Jo,{className:"text-blue-500",size:t}),!n&&a.jsx("span",{className:`ml-2 ${e} font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent`,children:"NewsAI"})]}),LE=()=>{const{user:e}=we(),t=wt(),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState(!1),[d,h]=x.useState(!1),f=x.useRef(null),p=x.useRef(null),v=x.useRef(Si(async m=>{if(m.trim().length<2){l([]);return}h(!0);try{const y=await xv(m);l(y.slice(0,5))}catch(y){console.error("Search error:",y)}finally{h(!1)}},300)).current;x.useEffect(()=>{s.trim().length>=2?(v(s),u(!0)):(l([]),u(!1))},[s,v]),x.useEffect(()=>{const m=y=>{p.current&&f.current&&!p.current.contains(y.target)&&!f.current.contains(y.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const w=m=>{m.preventDefault(),s.trim()&&(t(`/dashboard/search?q=${encodeURIComponent(s.trim())}`),i(""),u(!1))},j=m=>{t(`/dashboard/article/${m}`),i(""),u(!1)};return a.jsxs("nav",{className:"bg-black/40 backdrop-blur-md border-b border-blue-900/40 sticky top-0 z-50",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(Pe,{to:"/dashboard",className:"flex items-center",children:a.jsx(cl,{})})}),a.jsxs("div",{className:"hidden md:block flex-1 max-w-xl mx-8 relative",children:[a.jsxs("form",{onSubmit:w,className:"relative",children:[a.jsx("input",{ref:f,type:"text",placeholder:"Search news...",value:s,onChange:m=>i(m.target.value),onFocus:()=>o.length>0&&u(!0),className:"w-full bg-gray-800/50 border border-gray-700 rounded-full py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-200"}),a.jsx(gu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsx(By,{children:c&&a.jsx(O.div,{ref:p,className:"absolute z-10 mt-2 w-full bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:d?a.jsxs("div",{className:"p-4 text-center text-gray-400",children:[a.jsx("div",{className:"inline-block h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mr-2"}),"Searching..."]}):o.length>0?a.jsxs("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:[o.map(m=>a.jsxs("div",{onClick:()=>j(m.id),className:"p-3 hover:bg-gray-700/50 cursor-pointer border-b border-gray-700 last:border-0",children:[a.jsx("h4",{className:"text-white text-sm font-medium mb-1 line-clamp-1",children:m.title}),a.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[a.jsx("span",{className:"px-2 py-0.5 bg-gray-700 rounded-full mr-2",children:m.category}),a.jsx("span",{children:m.source})]})]},m.id)),a.jsxs("div",{className:"p-3 text-center bg-gray-700/30 text-blue-400 text-sm cursor-pointer hover:bg-gray-700/50",onClick:m=>{m.preventDefault(),t(`/dashboard/search?q=${encodeURIComponent(s)}`),i(""),u(!1)},children:['See all results for "',s,'"']})]}):s.length>=2?a.jsxs("div",{className:"p-4 text-gray-400 text-center",children:['No results found for "',s,'"']}):null})})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-4",children:!e&&a.jsx(Pe,{to:"/login",className:"text-sm font-medium text-white bg-blue-600 px-4 py-2 rounded-full hover:bg-blue-700 transition-colors",children:"Sign In"})}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:r?a.jsx(as,{className:"h-6 w-6"}):a.jsx(QS,{className:"h-6 w-6"})})})]})}),r&&a.jsx(O.div,{className:"md:hidden bg-gray-900 shadow-lg",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},transition:{duration:.3},children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[a.jsxs("form",{onSubmit:w,className:"relative mb-3",children:[a.jsx("input",{type:"text",placeholder:"Search news...",value:s,onChange:m=>i(m.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-md py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-200"}),a.jsx(gu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsx(Pe,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Home"}),a.jsx(Pe,{to:"/dashboard/trending",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Trending"}),a.jsx(Pe,{to:"/dashboard/categories",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Categories"}),a.jsx(Pe,{to:"/dashboard/bookmarks",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Bookmarks"}),a.jsx(Pe,{to:"/dashboard/history",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"History"}),!e&&a.jsx(Pe,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700 text-center",children:"Sign In"})]})})]})},Kt={async addBookmark(e,t,r){try{const{data:n}=await M.from("bookmarks").select("id").eq("user_id",e).eq("article_id",t).single();if(n)return n;const{data:s,error:i}=await M.from("bookmarks").insert({user_id:e,article_id:t,note:r||null}).select().single();if(i)throw console.error("Error adding bookmark:",i),i;return s}catch(n){return console.error("Error in addBookmark:",n),null}},async removeBookmark(e,t){try{const{error:r}=await M.from("bookmarks").delete().match({user_id:e,article_id:t});return r?(console.error("Error removing bookmark:",r),!1):!0}catch(r){return console.error("Error in removeBookmark:",r),!1}},async isBookmarked(e,t){try{const{data:r,error:n}=await M.from("bookmarks").select("id").eq("user_id",e).eq("article_id",t);return n?(console.error("Error checking bookmark:",n),!1):r&&r.length>0}catch(r){return console.error("Error in isBookmarked:",r),!1}},async getUserBookmarks(e,t=!0){try{let r=M.from("bookmarks").select(t?"*, article:articles(*)":"*").eq("user_id",e).order("created_at",{ascending:!1});const{data:n,error:s}=await r;if(s)throw console.error("Error fetching bookmarks:",s),s;return(n||[]).map(i=>t&&i.article?{...i,article:i.article}:i)}catch(r){return console.error("Error in getUserBookmarks:",r),[]}},async updateBookmarkNote(e,t){try{const{data:r,error:n}=await M.from("bookmarks").update({note:t}).eq("id",e).select().single();return n?(console.error("Error updating bookmark note:",n),null):r}catch(r){return console.error("Error in updateBookmarkNote:",r),null}},async getBookmarkStatsByCategory(e){try{const{data:t,error:r}=await M.from("bookmarks").select("article:articles(category)").eq("user_id",e);if(r)throw console.error("Error fetching bookmark stats:",r),r;const n={};return t&&t.forEach(s=>{var o;const i=(o=s.article)==null?void 0:o.category;i&&(n[i]=(n[i]||0)+1)}),n}catch(t){return console.error("Error in getBookmarkStatsByCategory:",t),{}}}},Gt={async recordView(e,t,r){try{const n=new Date;n.setMinutes(n.getMinutes()-5);const{data:s,error:i}=await M.from("article_views").select("id, viewed_at").eq("user_id",e).eq("article_id",t).gte("viewed_at",n.toISOString()).order("viewed_at",{ascending:!1}).limit(1);if(i)console.error("Error checking for recent views:",i);else if(s&&s.length>0)return console.log("Found recent view, not creating duplicate"),s[0];const{data:o,error:l}=await M.from("article_views").insert({user_id:e,article_id:t,view_duration:r||null,viewed_at:new Date().toISOString()}).select().single();return l?(console.error("Error recording article view:",l),null):o}catch(n){return console.error("Error in recordView:",n),null}},async updateViewDuration(e,t){try{const{error:r}=await M.from("article_views").update({view_duration:t}).eq("id",e);return r?(console.error("Error updating view duration:",r),!1):!0}catch(r){return console.error("Error in updateViewDuration:",r),!1}},async getUserHistory(e,t=50,r=!0){try{let n=M.from("article_views").select(r?"*, article:articles(*)":"*").eq("user_id",e).order("viewed_at",{ascending:!1}).limit(t);const{data:s,error:i}=await n;if(i)throw console.error("Error fetching view history:",i),i;return(s||[]).map(o=>r&&o.article?{...o,article:o.article}:o)}catch(n){return console.error("Error in getUserHistory:",n),[]}},async clearHistory(e){try{const{error:t}=await M.from("article_views").delete().eq("user_id",e);return t?(console.error("Error clearing view history:",t),!1):!0}catch(t){return console.error("Error in clearHistory:",t),!1}},async hasViewedArticle(e,t){try{const{data:r,error:n}=await M.from("article_views").select("id").eq("user_id",e).eq("article_id",t).limit(1);return n?(console.error("Error checking article view:",n),!1):r&&r.length>0}catch(r){return console.error("Error in hasViewedArticle:",r),!1}},async getMostViewedCategories(e){try{const{data:t,error:r}=await M.from("article_views").select("article:articles(category)").eq("user_id",e);if(r)throw console.error("Error fetching view categories:",r),r;const n={};return t&&t.forEach(s=>{var o;const i=(o=s.article)==null?void 0:o.category;i&&(n[i]=(n[i]||0)+1)}),n}catch(t){return console.error("Error in getMostViewedCategories:",t),{}}},async getArticleViewCount(e){try{const{count:t,error:r}=await M.from("article_views").select("id",{count:"exact",head:!0}).eq("article_id",e);return r?(console.error("Error fetching article view count:",r),0):t||0}catch(t){return console.error("Error in getArticleViewCount:",t),0}},async getCategoryViewCounts(){try{const{data:e,error:t}=await M.from("article_views").select("article:articles(category)").order("viewed_at",{ascending:!1});if(t)throw console.error("Error fetching category view counts:",t),t;const r={};e&&e.forEach(s=>{var i;if((i=s.article)!=null&&i.category){const o=s.article.category;r[o]||(r[o]=new Set),r[o].add(s.article.id||"unknown")}});const n={};return Object.entries(r).forEach(([s,i])=>{n[s]=i.size}),n}catch(e){return console.error("Error in getCategoryViewCounts:",e),{}}}},OE=()=>{var b,S,_;const[e,t]=x.useState(!1),[r,n]=x.useState(!1),{isAdmin:s,profile:i,user:o,signOut:l}=we(),c=wt(),u=x.useRef(null),d=x.useRef(null),[h,f]=x.useState(0),[p,v]=x.useState(0),w=()=>{t(!e)},j=async()=>{await l(),c("/")};x.useEffect(()=>{function k(C){u.current&&d.current&&!u.current.contains(C.target)&&!d.current.contains(C.target)&&n(!1)}return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]),x.useEffect(()=>{if(!o)return;(async()=>{try{const C=await Kt.getUserBookmarks(o.id,!1);f(C.length);const N=await Gt.getUserHistory(o.id,100,!1);v(N.length)}catch(C){console.error("Error fetching counts:",C)}})()},[o]);const m=e?"w-16":"w-64",y=({isActive:k})=>`flex items-center py-3 px-4 rounded-lg transition-colors ${k?"bg-blue-600/20 text-blue-400":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200"}`,g="h-5 w-5";return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`absolute top-0 bottom-0 right-0 w-8 -mr-8 bg-blue-500/10 blur-[18px] rounded-full pointer-events-none z-10 transition-all duration-300 ${e?"opacity-30":"opacity-50"}`}),a.jsx(O.aside,{className:`${m} bg-gray-900/50 border-r border-blue-900/30 h-[calc(100vh-4rem)] sticky top-16 transition-all duration-300 overflow-hidden rounded-tr-2xl rounded-br-2xl relative z-20`,layout:!0,children:a.jsxs("div",{className:"h-full flex flex-col py-4 px-2",children:[a.jsx("div",{className:"px-2 mb-6",children:a.jsx(cl,{iconOnly:e})}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsxs(Ut,{to:"/dashboard",end:!0,className:y,children:[a.jsx(qS,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Home"})]}),a.jsxs(Ut,{to:"/dashboard/trending",className:y,children:[a.jsx(tl,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Trending"})]}),a.jsx(Ut,{to:"/dashboard/categories",className:y,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bi,{className:g}),!e&&a.jsx("span",{className:"ml-3 flex-1",children:"Categories"})]})}),a.jsx(Ut,{to:"/dashboard/bookmarks",className:y,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Dy,{className:g}),!e&&a.jsx("span",{className:"ml-3 flex-1",children:"Bookmarks"}),h>0&&a.jsx("span",{className:`${e?"ml-0":"ml-2"} px-1.5 py-0.5 text-xs bg-blue-900/60 text-blue-300 rounded-full`,children:h})]})}),a.jsxs(Ut,{to:"/dashboard/preferences",className:y,children:[a.jsx(po,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Preferences"})]}),s&&a.jsxs(Ut,{to:"/dashboard/admin",className:y,children:[a.jsx(fo,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Admin"})]})]}),a.jsxs("div",{className:"mt-auto mb-3 px-2 relative",children:[a.jsxs("button",{ref:d,onClick:()=>n(!r),className:`w-full flex ${e?"justify-center":"justify-start"} items-center p-2 rounded-lg transition-colors hover:bg-gray-800/70 text-gray-300`,children:[a.jsx("div",{className:`rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center flex-shrink-0 ${e?"h-9 w-9":"h-10 w-10"}`,children:i!=null&&i.avatar_url?a.jsx("img",{src:i.avatar_url,alt:(i==null?void 0:i.username)||"User",className:`rounded-full object-cover ${e?"h-9 w-9":"h-10 w-10"}`}):a.jsx("span",{className:"text-white font-semibold",children:((b=i==null?void 0:i.username)==null?void 0:b[0])||((S=o==null?void 0:o.email)==null?void 0:S[0])||a.jsx(yu,{className:e?"h-5 w-5":"h-6 w-6"})})}),!e&&a.jsxs("div",{className:"ml-3 overflow-hidden",children:[a.jsx("p",{className:"text-sm font-medium line-clamp-1",children:(i==null?void 0:i.username)||((_=o==null?void 0:o.email)==null?void 0:_.split("@")[0])||"User"}),(i==null?void 0:i.role)&&a.jsx("p",{className:"text-xs text-gray-400 capitalize",children:i.role})]})]}),r&&a.jsxs("div",{ref:u,className:`absolute ${e?"left-16 bottom-0":"bottom-full left-0 mb-1"} w-48 bg-gray-800 rounded-md shadow-lg py-1 border border-gray-700 z-50`,children:[a.jsxs(Ut,{to:"/dashboard/profile",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[a.jsx(yu,{className:"h-4 w-4 inline mr-2"}),"Profile"]}),a.jsxs(Ut,{to:"/dashboard/preferences",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[a.jsx(po,{className:"h-4 w-4 inline mr-2"}),"News Preferences"]}),(i==null?void 0:i.role)==="admin"&&a.jsxs(Ut,{to:"/dashboard/admin",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[a.jsx(fo,{className:"h-4 w-4 inline mr-2"}),"Admin Dashboard"]}),a.jsxs("button",{onClick:()=>{n(!1),j()},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[a.jsx(GS,{className:"h-4 w-4 inline mr-2"}),"Sign out"]})]})]}),a.jsx("button",{onClick:w,className:"mx-auto flex items-center justify-center p-2 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors",children:e?a.jsx(Ly,{className:"h-5 w-5 text-gray-400"}):a.jsx(My,{className:"h-5 w-5 text-gray-400"})})]})})]})},IE=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-gray-100",children:[a.jsx(LE,{}),a.jsxs("div",{className:"flex relative",children:[a.jsx(OE,{}),a.jsx(O.main,{className:"flex-1 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(X1,{})})]})]}),FE=()=>a.jsxs("nav",{className:"flex justify-between items-center py-6 relative z-20",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(cl,{textSize:"text-2xl",iconSize:32})}),a.jsxs("div",{className:"flex items-center space-x-4 relative z-20",children:[a.jsx(Pe,{to:"/login",className:"text-gray-300 hover:text-white transition-colors font-medium relative z-20",children:"Sign In"}),a.jsx(Pe,{to:"/login?signup=true",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-full transition-colors font-medium relative z-20",children:"Sign Up"})]})]}),$E=()=>{const e=[{icon:a.jsx($d,{className:"h-5 w-5 text-blue-400"}),value:"100+",label:"News Sources"},{icon:a.jsx(Ve,{className:"h-5 w-5 text-purple-400"}),value:"15min",label:"Update Frequency"},{icon:a.jsx(Wd,{className:"h-5 w-5 text-green-400"}),value:"10k+",label:"Active Users"}];return a.jsx("div",{className:"py-4 mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4 relative z-10",children:e.map((t,r)=>a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8+r*.1},className:"flex items-center space-x-3 bg-gray-800/50 backdrop-blur-sm rounded-lg px-4 py-3 border border-gray-700/50",children:[a.jsx("div",{className:"p-2 rounded-md bg-gray-700/50",children:t.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-white",children:t.value}),a.jsx("div",{className:"text-xs text-gray-400",children:t.label})]})]},r))})},VE=({text:e,className:t="",as:r="span",delay:n=0,duration:s=.5,animate:i=!0,gradient:o=!1,gradientFrom:l="from-blue-400",gradientTo:c="to-purple-500"})=>{const u=o?`text-transparent bg-clip-text bg-gradient-to-r ${l} ${c}`:"",d=`${t} ${u}`.trim();if(!i)return a.jsx(r,{className:d,children:e});const h={hidden:{opacity:0},visible:(p=1)=>({opacity:1,transition:{staggerChildren:.03,delayChildren:n*p}})},f={visible:{opacity:1,y:0,transition:{type:"spring",damping:12,stiffness:100}},hidden:{opacity:0,y:20,transition:{type:"spring",damping:12,stiffness:100}}};return a.jsx(O.div,{style:{overflow:"hidden",display:"inline-block"},variants:h,initial:"hidden",animate:"visible",className:d,children:e.split("").map((p,v)=>a.jsx(O.span,{variants:f,style:{position:"relative",display:"inline-block",zIndex:10},children:p===" "?" ":p},`${p}-${v}`))})},UE=()=>a.jsxs("div",{className:"mt-24 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8 relative z-20",children:[a.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight",children:[a.jsx("span",{className:"block mb-2",children:"Stay ahead with"}),a.jsx(VE,{text:"AI-powered news",gradient:!0,gradientFrom:"from-blue-400",gradientTo:"to-purple-500",className:"text-4xl sm:text-5xl lg:text-6xl font-bold",delay:.3}),a.jsx("span",{className:"block mt-2",children:"tailored for you"})]}),a.jsx("p",{className:"text-xl text-gray-300 max-w-xl",children:"SophIQ intelligently aggregates and ranks news that matters to you, cutting through the noise in fast-paced industries."}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 relative z-20",children:[a.jsxs(Pe,{to:"/login?signup=true",className:"inline-flex items-center justify-center px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-lg relative z-20",children:["Get Started",a.jsx(Ci,{className:"ml-2 h-5 w-5"})]}),a.jsx("a",{href:"#features",className:"inline-flex items-center justify-center px-8 py-3 border border-gray-600 hover:border-gray-400 text-gray-300 hover:text-white rounded-lg transition-colors text-lg relative z-20",children:"Learn More"})]}),a.jsx($E,{})]}),a.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative z-10",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500/20 to-purple-500/20 rounded-2xl blur-xl"}),a.jsxs("div",{className:"relative bg-gray-800/80 border border-gray-700/50 rounded-2xl overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"p-4 bg-gray-900/80 border-b border-gray-700/50",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]})}),a.jsx("img",{src:"https://images.unsplash.com/photo-1639322537504-6427a16b0a28?q=80&w=1000&auto=format&fit=crop",alt:"SophIQ Dashboard Preview",className:"w-full h-auto"})]})]})]}),BE=({icon:e,title:t,description:r,index:n})=>a.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"bg-gray-800/50 border border-gray-700/50 rounded-xl p-6 hover:border-blue-500/50 transition-all hover:bg-gray-800/80 hover:shadow-lg group relative z-10",children:[a.jsx("div",{className:"p-3 bg-gray-700/30 rounded-lg inline-block mb-4 group-hover:bg-blue-900/30 transition-colors",children:e}),a.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-blue-400 transition-colors",children:t}),a.jsx("p",{className:"text-gray-300",children:r})]}),zE=()=>{const e=[{icon:a.jsx(fo,{className:"h-8 w-8 text-blue-500"}),title:"AI-Powered Relevance",description:"Our algorithm learns your preferences and ranks news based on what matters most to you."},{icon:a.jsx(WS,{className:"h-8 w-8 text-purple-500"}),title:"Multiple Sources",description:"Aggregate trending news from diverse sources for a comprehensive information landscape."},{icon:a.jsx(i2,{className:"h-8 w-8 text-green-500"}),title:"Real-Time Updates",description:"Fresh news delivered every 15 minutes to keep you on top of rapidly changing markets."},{icon:a.jsx(ZS,{className:"h-8 w-8 text-red-500"}),title:"Personalized Filters",description:"Define your criteria during onboarding to filter out noise and focus on what's important."},{icon:a.jsx(Wd,{className:"h-8 w-8 text-yellow-500"}),title:"Industry Focused",description:"Specialized for traders, Web3 professionals, executives, and market analysts."},{icon:a.jsx(Jo,{className:"h-8 w-8 text-indigo-500"}),title:"Smart Dashboard",description:"Intuitive interface that adapts to your usage patterns and information needs."}];return a.jsx("section",{id:"features",className:"py-24 bg-gray-900 relative z-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center max-w-3xl mx-auto mb-16",children:a.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Intelligent. Tailored. Powerful."}),a.jsx("p",{className:"text-xl text-gray-300",children:"Designed for professionals who need accurate, relevant news without the noise."})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>a.jsx(BE,{icon:t.icon,title:t.title,description:t.description,index:r},r))})]})})},WE=()=>a.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-900/30 to-purple-900/30 relative z-10",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"space-y-8 relative z-20",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Ready to transform your news experience?"}),a.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Join SophIQ today and stay informed with news that actually matters to you and your industry."}),a.jsx("div",{className:"relative z-20",children:a.jsxs(Pe,{to:"/login?signup=true",className:"inline-flex items-center justify-center px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-lg relative z-20",children:["Create Your Account",a.jsx(Ci,{className:"ml-2 h-5 w-5"})]})})]})})}),HE=()=>a.jsx("footer",{className:"py-12 bg-black",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsx(cl,{textSize:"text-xl",className:"mb-4 md:mb-0"}),a.jsxs("div",{className:"text-gray-400",children:["© ",new Date().getFullYear()," NewsAI. All rights reserved."]})]})})}),qE=({type:e="wave",color:t="text-gray-900",position:r="bottom",className:n=""})=>{const s=()=>{switch(e){case"wave":return a.jsx("path",{fill:"currentColor",fillOpacity:"1",d:"M0,224L60,213.3C120,203,240,181,360,181.3C480,181,600,203,720,208C840,213,960,203,1080,181.3C1200,160,1320,128,1380,112L1440,96L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"});case"curve":return a.jsx("path",{fill:"currentColor",fillOpacity:"1",d:"M0,288L48,272C96,256,192,224,288,213.3C384,203,480,213,576,229.3C672,245,768,267,864,261.3C960,256,1056,224,1152,218.7C1248,213,1344,235,1392,245.3L1440,256L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"});case"angle":return a.jsx("path",{fill:"currentColor",fillOpacity:"1",d:"M0,320L1440,160L1440,320L0,320Z"});default:return a.jsx("path",{fill:"currentColor",fillOpacity:"1",d:"M0,224L60,213.3C120,203,240,181,360,181.3C480,181,600,203,720,208C840,213,960,203,1080,181.3C1200,160,1320,128,1380,112L1440,96L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})}},i=r==="top"?"rotate(180deg)":"rotate(0)";return a.jsx("div",{className:`absolute ${r}-0 left-0 right-0 w-full overflow-hidden leading-none z-10 pointer-events-none ${n}`,style:{transform:i},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:t,children:s()})})},KE=({opacity:e=.05,size:t="20px",className:r="",zIndex:n=0})=>a.jsx("div",{className:`absolute inset-0 bg-grid-white pointer-events-none ${r}`,style:{opacity:e,backgroundSize:t,backgroundImage:"radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px)",zIndex:n}}),GE=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-900 to-black text-white",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx(KE,{zIndex:0}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-48",children:[a.jsx(FE,{}),a.jsx(UE,{})]}),a.jsx(qE,{type:"wave",color:"text-gray-900",position:"bottom"})]}),a.jsx(zE,{}),a.jsx(WE,{}),a.jsx(HE,{})]});function Z(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function nr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vv(e,t){const r=+Z(e);return nr(e,r+t)}const wv=6048e5,YE=864e5,Nh=6e4,_h=36e5,va=43200,Sp=1440;function Ts(e,t){return vv(e,t*_h)}let QE={};function Ki(){return QE}function Mi(e,t){var l,c,u,d;const r=Ki(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Z(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ko(e){return Mi(e,{weekStartsOn:1})}function bv(e){const t=Z(e),r=t.getFullYear(),n=nr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ko(n),i=nr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ko(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Np(e){const t=Z(e);return t.setHours(0,0,0,0),t}function So(e){const t=Z(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function XE(e,t){const r=Np(e),n=Np(t),s=+r-So(r),i=+n-So(n);return Math.round((s-i)/YE)}function JE(e){const t=bv(e),r=nr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ko(r)}function Ia(e,t){return vv(e,t*Nh)}function Fa(e,t){const r=Z(e),n=Z(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function ZE(e){return nr(e,Date.now())}function e4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function t4(e){if(!e4(e)&&typeof e!="number")return!1;const t=Z(e);return!isNaN(Number(t))}function r4(e,t){const r=Z(e),n=Z(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function n4(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function s4(e,t){return+Z(e)-+Z(t)}function i4(e){const t=Z(e);return t.setHours(23,59,59,999),t}function a4(e){const t=Z(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function o4(e){const t=Z(e);return+i4(t)==+a4(t)}function l4(e,t){const r=Z(e),n=Z(t),s=Fa(r,n),i=Math.abs(r4(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Fa(r,n)===-s;o4(Z(e))&&i===1&&Fa(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function c4(e,t,r){const n=s4(e,t)/1e3;return n4(r==null?void 0:r.roundingMethod)(n)}function u4(e){const t=Z(e),r=nr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const d4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h4=(e,t,r)=>{let n;const s=d4[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ac(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const f4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},p4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g4={date:ac({formats:f4,defaultWidth:"full"}),time:ac({formats:m4,defaultWidth:"full"}),dateTime:ac({formats:p4,defaultWidth:"full"})},y4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x4=(e,t,r,n)=>y4[e];function As(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const v4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},k4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N4=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_4={ordinalNumber:N4,era:As({values:v4,defaultWidth:"wide"}),quarter:As({values:w4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:As({values:b4,defaultWidth:"wide"}),day:As({values:j4,defaultWidth:"wide"}),dayPeriod:As({values:k4,defaultWidth:"wide",formattingValues:S4,defaultFormattingWidth:"wide"})};function Rs(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?E4(l,h=>h.test(o)):C4(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function C4(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function E4(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function P4(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const T4=/^(\d+)(th|st|nd|rd)?/i,A4=/\d+/i,R4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D4={any:[/^b/i,/^(a|c)/i]},M4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L4={any:[/1/i,/2/i,/3/i,/4/i]},O4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B4={ordinalNumber:P4({matchPattern:T4,parsePattern:A4,valueCallback:e=>parseInt(e,10)}),era:Rs({matchPatterns:R4,defaultMatchWidth:"wide",parsePatterns:D4,defaultParseWidth:"any"}),quarter:Rs({matchPatterns:M4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rs({matchPatterns:O4,defaultMatchWidth:"wide",parsePatterns:I4,defaultParseWidth:"any"}),day:Rs({matchPatterns:F4,defaultMatchWidth:"wide",parsePatterns:$4,defaultParseWidth:"any"}),dayPeriod:Rs({matchPatterns:V4,defaultMatchWidth:"any",parsePatterns:U4,defaultParseWidth:"any"})},jv={code:"en-US",formatDistance:h4,formatLong:g4,formatRelative:x4,localize:_4,match:B4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z4(e){const t=Z(e);return XE(t,u4(t))+1}function W4(e){const t=Z(e),r=+ko(t)-+JE(t);return Math.round(r/wv)+1}function kv(e,t){var d,h,f,p;const r=Z(e),n=r.getFullYear(),s=Ki(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=nr(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Mi(o,t),c=nr(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Mi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function H4(e,t){var l,c,u,d;const r=Ki(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=kv(e,t),i=nr(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Mi(i,t)}function q4(e,t){const r=Z(e),n=+Mi(r,t)-+H4(r,t);return Math.round(n/wv)+1}function Y(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const cr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Y(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Y(r+1,2)},d(e,t){return Y(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Y(e.getHours()%12||12,t.length)},H(e,t){return Y(e.getHours(),t.length)},m(e,t){return Y(e.getMinutes(),t.length)},s(e,t){return Y(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Y(s,t.length)}},bn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_p={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return cr.y(e,t)},Y:function(e,t,r,n){const s=kv(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Y(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Y(i,t.length)},R:function(e,t){const r=bv(e);return Y(r,t.length)},u:function(e,t){const r=e.getFullYear();return Y(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Y(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Y(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return cr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Y(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=q4(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Y(s,t.length)},I:function(e,t,r){const n=W4(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Y(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):cr.d(e,t)},D:function(e,t,r){const n=z4(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Y(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Y(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Y(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Y(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=bn.noon:n===0?s=bn.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=bn.evening:n>=12?s=bn.afternoon:n>=4?s=bn.morning:s=bn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return cr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):cr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Y(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Y(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):cr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):cr.s(e,t)},S:function(e,t){return cr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ep(n);case"XXXX":case"XX":return Qr(n);case"XXXXX":case"XXX":default:return Qr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ep(n);case"xxxx":case"xx":return Qr(n);case"xxxxx":case"xxx":default:return Qr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cp(n,":");case"OOOO":default:return"GMT"+Qr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cp(n,":");case"zzzz":default:return"GMT"+Qr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Y(n,t.length)},T:function(e,t,r){const n=e.getTime();return Y(n,t.length)}};function Cp(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Y(i,2)}function Ep(e,t){return e%60===0?(e>0?"-":"+")+Y(Math.abs(e)/60,2):Qr(e,t)}function Qr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Y(Math.trunc(n/60),2),i=Y(n%60,2);return r+s+t+i}const Pp=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Sv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},K4=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Pp(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Pp(n,t)).replace("{{time}}",Sv(s,t))},G4={p:Sv,P:K4},Y4=/^D+$/,Q4=/^Y+$/,X4=["D","DD","YY","YYYY"];function J4(e){return Y4.test(e)}function Z4(e){return Q4.test(e)}function e3(e,t,r){const n=t3(e,t,r);if(console.warn(n),X4.includes(e))throw new RangeError(n)}function t3(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const r3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s3=/^'([^]*?)'?$/,i3=/''/g,a3=/[a-zA-Z]/;function pt(e,t,r){var d,h,f,p;const n=Ki(),s=n.locale??jv,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Z(e);if(!t4(l))throw new RangeError("Invalid time value");let c=t.match(n3).map(v=>{const w=v[0];if(w==="p"||w==="P"){const j=G4[w];return j(v,s.formatLong)}return v}).join("").match(r3).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:o3(v)};if(_p[w])return{isToken:!0,value:v};if(w.match(a3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(Z4(w)||J4(w))&&e3(w,t,String(e));const j=_p[w[0]];return j(l,w,s.localize,u)}).join("")}function o3(e){const t=e.match(s3);return t?t[1].replace(i3,"'"):e}function l3(e,t,r){const n=Ki(),s=(r==null?void 0:r.locale)??n.locale??jv,i=2520,o=Fa(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Z(t),u=Z(e)):(c=Z(e),u=Z(t));const d=c4(u,c),h=(So(u)-So(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Sp){const v=Math.round(f/60);return s.formatDistance("aboutXHours",v,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<va){const v=Math.round(f/Sp);return s.formatDistance("xDays",v,l)}else if(f<va*2)return p=Math.round(f/va),s.formatDistance("aboutXMonths",p,l)}if(p=l4(u,c),p<12){const v=Math.round(f/va);return s.formatDistance("xMonths",v,l)}else{const v=p%12,w=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",w,l):v<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function No(e,t){return l3(e,ZE(e),t)}function rn(e,t){const n=h3(e);let s;if(n.date){const c=f3(n.date,2);s=m3(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=p3(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=g3(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const wa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h3(e){const t={},r=e.split(wa.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],wa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wa.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=wa.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function f3(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function m3(e,t){if(t===null)return new Date(NaN);const r=e.match(c3);if(!r)return new Date(NaN);const n=!!r[4],s=Ds(r[1]),i=Ds(r[2])-1,o=Ds(r[3]),l=Ds(r[4]),c=Ds(r[5])-1;if(n)return b3(t,l,c)?y3(t,l,c):new Date(NaN);{const u=new Date(0);return!v3(t,i,o)||!w3(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Ds(e){return e?parseInt(e):1}function p3(e){const t=e.match(u3);if(!t)return NaN;const r=oc(t[1]),n=oc(t[2]),s=oc(t[3]);return j3(r,n,s)?r*_h+n*Nh+s*1e3:NaN}function oc(e){return e&&parseFloat(e.replace(",","."))||0}function g3(e){if(e==="Z")return 0;const t=e.match(d3);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return k3(n,s)?r*(n*_h+s*Nh):NaN}function y3(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const x3=[31,null,31,30,31,30,31,31,30,31,30,31];function Nv(e){return e%400===0||e%4===0&&e%100!==0}function v3(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(x3[t]||(Nv(e)?29:28))}function w3(e,t){return t>=1&&t<=(Nv(e)?366:365)}function b3(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function j3(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function k3(e,t){return t>=0&&t<=59}function ul(){const{user:e}=we(),[t,r]=x.useState([]),[n,s]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(new Set),u=x.useCallback(async p=>{if(!e){r([]);return}s(!0),o(null);try{const v=await Gt.getUserHistory(e.id,p);r(v);const w=new Set;v.forEach(j=>{j.article_id&&w.add(j.article_id)}),c(w)}catch(v){console.error("Error fetching view history:",v),o("Failed to load view history")}finally{s(!1)}},[e]),d=x.useCallback(async p=>{if(!e)return null;if(l.has(p))return console.log("Article already in recently viewed, skipping duplicate record"),null;try{const v=await Gt.recordView(e.id,p);return v&&c(w=>new Set(w).add(p)),v}catch(v){return console.error("Error recording view:",v),null}},[e,l]),h=x.useCallback(async()=>{if(!e)return!1;s(!0),o(null);try{const p=await Gt.clearHistory(e.id);return p&&(r([]),c(new Set)),p}catch(p){return console.error("Error clearing history:",p),o("Failed to clear history"),!1}finally{s(!1)}},[e]),f=x.useCallback(async p=>{if(!e)return!1;if(l.has(p))return!0;try{return await Gt.hasViewedArticle(e.id,p)}catch(v){return console.error("Error checking if article was viewed:",v),!1}},[e,l]);return x.useEffect(()=>{e?u():(r([]),c(new Set))},[e,u]),{history:t,loading:n,error:i,recordView:d,fetchHistory:u,clearHistory:h,hasViewed:f}}const _v=({isOpen:e,onClose:t,title:r,children:n,size:s="md"})=>{const i=x.useRef(null);x.useEffect(()=>{const l=u=>{i.current&&!i.current.contains(u.target)&&t()},c=u=>{u.key==="Escape"&&t()};return e&&(document.addEventListener("mousedown",l),document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",c),document.body.style.overflow="auto"}},[e,t]);const o={sm:"max-w-md",md:"max-w-xl",lg:"max-w-3xl",xl:"max-w-5xl"};return a.jsx(By,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(O.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:t}),a.jsxs(O.div,{ref:i,className:`relative ${o[s]} w-full bg-gray-800/95 rounded-xl shadow-2xl overflow-hidden border border-gray-700/70 max-h-[90vh] flex flex-col`,initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3},children:[r&&a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-900/50 sticky top-0 z-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:r}),a.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-700/70 transition-colors text-gray-400 hover:text-white",children:a.jsx(as,{className:"h-5 w-5"})})]}),a.jsx("div",{className:`flex-1 overflow-y-auto ${r?"":"pt-4"} custom-scrollbar`,children:n})]})]})})};function S3(e){const{user:t}=we(),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState(null);x.useEffect(()=>{if(!t||!e)return;(async()=>{i(!0);try{const h=await Kt.isBookmarked(t.id,e);n(h),l(null)}catch(h){console.error("Error checking bookmark status:",h),l("Failed to check bookmark status")}finally{i(!1)}})()},[t,e]);const c=x.useCallback(async(d,h)=>{if(!t)return!1;i(!0),l(null);try{if(r){const f=await Kt.removeBookmark(t.id,d.id);return n(!1),f}else{const f=await Kt.addBookmark(t.id,d.id,h);return n(!0),!!f}}catch(f){return console.error("Error toggling bookmark:",f),l("Failed to update bookmark"),!1}finally{i(!1)}},[t,r]),u=x.useCallback(async d=>{if(!t)return!1;try{return await Kt.isBookmarked(t.id,d)}catch(h){return console.error("Error checking article bookmark:",h),!1}},[t]);return{isBookmarked:r,loading:s,error:o,toggleBookmark:c,checkArticleBookmark:u}}const dl=({article:e,className:t="",iconSize:r=18,asIcon:n=!0,showText:s=!1})=>{const{user:i}=we(),{isBookmarked:o,toggleBookmark:l,loading:c}=S3(e.id),[u,d]=x.useState(!1),h=async p=>{if(p.stopPropagation(),p.preventDefault(),!i){alert("Please sign in to bookmark articles");return}await l(e)&&(d(!0),setTimeout(()=>d(!1),500))},f=a.jsxs(a.Fragment,{children:[c?a.jsx(Oy,{className:"h-5 w-5 animate-spin"}):o?a.jsx(O.div,{animate:u?{scale:[1,1.3,1]}:{},transition:{duration:.3},children:a.jsx(Ei,{size:r,className:"text-blue-400"})}):a.jsx(Dy,{size:r}),s&&a.jsx("span",{className:"ml-2",children:o?"Bookmarked":"Bookmark"})]});return n?a.jsx("button",{onClick:h,className:`p-2 rounded-full focus:outline-none hover:bg-gray-700/50 transition-colors ${t}`,"aria-label":o?"Remove bookmark":"Add bookmark",children:f}):a.jsx("button",{onClick:h,className:`flex items-center px-3 py-1.5 rounded-md focus:outline-none hover:bg-gray-700/50 transition-colors ${t}`,"aria-label":o?"Remove bookmark":"Add bookmark",children:f})},hl=({article:e,isOpen:t,onClose:r})=>{const n=wt(),{user:s}=we(),{recordView:i}=ul(),[o,l]=x.useState([]),[c,u]=x.useState(0),[d,h]=x.useState(!1),[f,p]=x.useState(null),[v,w]=x.useState(!1);x.useEffect(()=>{(async()=>{t&&e&&s&&!v&&(await i(e.id),w(!0))})(),t||w(!1)},[t,e,s,i,v]),x.useEffect(()=>{t&&e&&(async()=>{if(!(!e||!s)){h(!0);try{let C=f;if(C||(C=await is(s.id),C&&p(C)),C){const N=gv(e,C);u(N),l(m(e,C))}}catch(C){console.error("Error calculating relevance:",C)}finally{h(!1)}}})()},[e,s,t,f]);const j=()=>{e&&(r(),n(`/dashboard/article/${e.id}`))},m=(k,C)=>{const N=[];if(C.keywords&&C.keywords.length>0){const X=C.keywords.filter(le=>k.title.toLowerCase().includes(le.toLowerCase())||k.content.toLowerCase().includes(le.toLowerCase()));X.length>0&&N.push({label:"Keyword Matches",score:X.length*10,description:`Matches ${X.length} of your keywords`})}if(C.categories&&C.categories.includes(k.category)&&N.push({label:"Category Match",score:20,description:`Matches your preferred category: ${k.category}`}),C.sources&&C.sources.includes(k.source)&&N.push({label:"Source Match",score:15,description:`From your preferred source: ${k.source}`}),k.tags&&k.tags.length>0&&C.keywords&&C.keywords.length>0){const X=k.tags.filter(le=>{var ee;return(ee=C.keywords)==null?void 0:ee.some(R=>le.toLowerCase().includes(R.toLowerCase())||R.toLowerCase().includes(le.toLowerCase()))});X.length>0&&N.push({label:"Tag Matches",score:X.length*5,description:"Article tags match your interests"})}const E=new Date(k.published_at),A=(new Date().getTime()-E.getTime())/(1e3*60*60);let L=0,B="";return A<6?(L=20,B="Published within the last 6 hours"):A<24?(L=10,B="Published within the last 24 hours"):A<48&&(L=5,B="Published within the last 48 hours"),L>0&&N.push({label:"Freshness",score:L,description:B}),N.push({label:"Base Score",score:10,description:"Default relevance value"}),N};if(!e)return null;const y=pt(new Date(e.published_at),"MMMM dd, yyyy"),g=_(e.content),b=Math.min(Math.max(c/100*100,10),100),S=k=>k>=80?"text-green-400":k>=60?"text-green-300":k>=40?"text-blue-400":k>=20?"text-blue-300":"text-gray-400";function _(k){const C=k.split(/[.!?]+/).filter(E=>E.trim().length>0),N=Math.min(C.length,2);return C.slice(0,N).join(". ")+"."}return a.jsx(_v,{isOpen:t,onClose:r,size:"lg",children:a.jsxs("div",{className:"p-6",children:[e.image_url&&a.jsx("div",{className:"h-48 mb-4 overflow-hidden rounded-lg",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-400 mb-4",children:[a.jsx("span",{className:"px-3 py-1 bg-blue-900/60 text-blue-200 rounded-full",children:e.category}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),y]}),a.jsxs("span",{children:["Source: ",e.source]})]}),a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Summary"}),a.jsx("p",{className:"text-gray-300",children:g})]}),s&&a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6",children:[a.jsxs("h3",{className:"flex items-center text-lg font-semibold text-white mb-3",children:[a.jsx(Fd,{className:"h-5 w-5 mr-2 text-blue-400"}),"Relevance for You"]}),d?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-lg mb-2",children:[a.jsx("span",{className:"text-gray-400",children:"Match Score"}),a.jsxs("span",{className:`${S(c)} font-bold text-xl`,children:[c,"%"]})]}),a.jsx("div",{className:"h-2.5 bg-gray-700 rounded-full overflow-hidden mb-2",children:a.jsx(O.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",initial:{width:0},animate:{width:`${b}%`},transition:{duration:.5}})}),c>=70&&a.jsxs("div",{className:"flex items-center gap-2 text-yellow-300 text-sm mt-1",children:[a.jsx(tl,{className:"h-4 w-4"}),a.jsx("span",{children:"This article is a top match for your preferences"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-md font-medium text-gray-300 mb-2",children:"Match Breakdown"}),o.map((k,C)=>a.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-700/50 last:border-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($y,{className:`h-4 w-4 mr-2 ${k.score>10?"text-yellow-400":"text-gray-500"}`}),a.jsx("span",{className:"text-gray-300",children:k.label})]}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"text-sm font-semibold text-white",children:["+",k.score]}),a.jsx("span",{className:"text-xs text-gray-500",children:k.description})]})]},C))]})]})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-400 mb-2",children:[a.jsx(t2,{className:"h-4 w-4 mr-1"}),"Tags"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(k=>a.jsx("span",{className:"px-3 py-1 bg-gray-700/60 text-gray-300 rounded-full text-sm",children:k},k))})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-6 pt-4 border-t border-gray-700 gap-2",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:j,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Read Full Article",a.jsx(Mr,{className:"h-4 w-4 ml-2"})]}),a.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:["View Source",a.jsx(Zo,{className:"h-4 w-4 ml-2"})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(dl,{article:e,asIcon:!1,showText:!0,className:"text-gray-300"})})]})]})})},Cv=({article:e,index:t,showRelevanceScore:r=!0})=>{const{user:n}=we(),s=wt(),{recordView:i}=ul(),[o,l]=x.useState(!1),c=pt(new Date(e.published_at),"MMM dd, yyyy"),u=p=>{p.preventDefault(),n&&i(e.id),l(!0)},d=p=>{p.preventDefault(),s(`/dashboard/article/${e.id}`)},h=p=>p?p>=80?"text-green-400":p>=60?"text-green-300":p>=40?"text-blue-400":p>=20?"text-blue-300":"text-gray-400":"text-gray-400",f=p=>p?p>=80?"bg-green-900/60":p>=60?"bg-green-800/60":p>=40?"bg-blue-900/60":p>=20?"bg-blue-800/60":"bg-gray-800/60":"bg-gray-800/60";return a.jsxs(a.Fragment,{children:[a.jsxs(O.div,{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl overflow-hidden shadow-lg border border-gray-700/50 hover:border-blue-500/50 transition-all h-full flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.05},whileHover:{y:-5,transition:{duration:.2}},children:[a.jsxs("div",{className:"relative h-48 overflow-hidden cursor-pointer",onClick:u,children:[e.image_url?a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-transform hover:scale-105"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900/40 to-purple-900/40 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"SophIQ"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent",children:a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-900/60 backdrop-blur-sm rounded-full text-blue-200",children:e.category}),r&&e.relevance_score&&a.jsxs("span",{className:`px-2 py-1 ${f(e.relevance_score)} backdrop-blur-sm rounded-full flex items-center ${h(e.relevance_score)}`,children:[a.jsx(Fd,{className:"h-3 w-3 mr-1"}),e.relevance_score,"%"]})]})})}),r&&e.relevance_score&&e.relevance_score>=70&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-600/80 to-amber-600/80 rounded-lg text-xs text-white font-medium shadow-lg backdrop-blur-sm",children:[a.jsx(tl,{className:"h-3 w-3"}),a.jsx("span",{children:"Top Match"})]})})]}),a.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[a.jsxs("div",{className:"mb-4 cursor-pointer flex-grow",onClick:u,children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-white line-clamp-2 hover:text-blue-400 transition-colors",children:e.title}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-3",children:e.content})]}),a.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[a.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[a.jsx(Ve,{className:"h-3 w-3 mr-1"}),c]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(dl,{article:e}),a.jsx("button",{onClick:d,className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",children:a.jsx(Zo,{className:"h-4 w-4 text-gray-400"})})]})]})]}),a.jsx("div",{className:"px-4 py-2 bg-gray-900/50 border-t border-gray-700/50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",e.source]}),r&&e.relevance_score&&a.jsxs("div",{className:"flex items-center",children:[a.jsx($y,{className:`h-3 w-3 mr-1 ${h(e.relevance_score)}`}),a.jsxs("span",{className:`text-xs ${h(e.relevance_score)}`,children:[e.relevance_score,"% relevance"]})]})]})})]}),a.jsx(hl,{article:e,isOpen:o,onClose:()=>l(!1)})]})},vt=({size:e="w-12 h-12",color:t="border-blue-500"})=>a.jsx("div",{className:"flex justify-center items-center",children:a.jsx(O.div,{className:`${e} border-4 border-t-transparent rounded-full ${t}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})});var Mu=new Map,ba=new WeakMap,Tp=0,N3=void 0;function _3(e){return e?(ba.has(e)||(Tp+=1,ba.set(e,Tp.toString())),ba.get(e)):"0"}function C3(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?_3(e.root):e[t]}`).toString()}function E3(e){const t=C3(e);let r=Mu.get(t);if(!r){const n=new Map;let s;const i=new IntersectionObserver(o=>{o.forEach(l=>{var c;const u=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=n.get(l.target))==null||c.forEach(d=>{d(u,l)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},Mu.set(t,r)}return r}function P3(e,t,r={},n=N3){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:o}=E3(r),l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),Mu.delete(s))}}function T3({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:s,triggerOnce:i,skip:o,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[h,f]=x.useState(null),p=x.useRef(u),[v,w]=x.useState({inView:!!l,entry:void 0});p.current=u,x.useEffect(()=>{if(o||!h)return;let g;return g=P3(h,(b,S)=>{w({inView:b,entry:S}),p.current&&p.current(b,S),S.isIntersecting&&i&&g&&(g(),g=void 0)},{root:s,rootMargin:n,threshold:e,trackVisibility:r,delay:t},c),()=>{g&&g()}},[Array.isArray(e)?e.toString():e,h,s,n,i,o,r,c,t]);const j=(d=v.entry)==null?void 0:d.target,m=x.useRef(void 0);!h&&j&&!i&&!o&&m.current!==j&&(m.current=j,w({inView:!!l,entry:void 0}));const y=[f,v.inView,v.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const fl=({articles:e,loading:t,title:r,loadMore:n,hasMore:s=!1,categories:i=[],onFilterChange:o,totalCount:l,onArticleRemoved:c})=>{var y;const{ref:u,inView:d}=T3({threshold:0,triggerOnce:!1}),[h,f]=x.useState(!1),[p,v]=x.useState({category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"});Kp.useEffect(()=>{d&&s&&n&&!t&&n()},[d,s,n,t]);const w=x.useCallback(g=>{const b={...p,...g};v(b),o&&o(b)},[p,o]),j=x.useCallback(()=>{f(!h)},[h]);if(t&&e.length===0)return a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(vt,{}),a.jsx("p",{className:"mt-4 text-gray-400",children:"Loading articles..."})]});const m=i.reduce((g,b)=>(b.id.includes("ai")||b.id.includes("machine_learning")||b.id.includes("llm")||b.id.includes("generative_ai")||b.id.includes("artificial_intelligence")?(g.ai||(g.ai={id:"ai",name:"AI & Machine Learning",subcategories:[]}),g.ai.subcategories.push(b)):(g.main||(g.main=[]),g.main.push(b)),g),{});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r&&a.jsxs(O.h2,{className:"text-2xl font-bold text-white flex items-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[r,l!==void 0&&a.jsxs("span",{className:"ml-3 text-base font-normal text-gray-400",children:["(",l," ",l===1?"article":"articles",")"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:j,className:`px-3 py-2 rounded-lg flex items-center text-sm ${h?"bg-blue-700/40 text-blue-300":"bg-gray-800 text-gray-300"} hover:bg-gray-700 transition-colors`,children:[a.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Filters"]}),o&&a.jsx("button",{onClick:()=>{const g={category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"};v(g),o(g)},className:"p-2 rounded-lg bg-gray-800 text-gray-300 hover:bg-gray-700",title:"Reset filters",children:a.jsx(J,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex border border-gray-700 rounded-lg overflow-hidden",children:[a.jsx("button",{onClick:()=>w({layout:"grid"}),className:`p-2 ${p.layout==="grid"?"bg-gray-700 text-white":"bg-gray-800 text-gray-400"}`,title:"Grid view",children:a.jsx(HS,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>w({layout:"compact"}),className:`p-2 ${p.layout==="compact"?"bg-gray-700 text-white":"bg-gray-800 text-gray-400"}`,title:"Compact view",children:a.jsx(Bi,{className:"h-4 w-4"})})]})]})]}),h&&a.jsx(O.div,{className:"bg-gray-800/70 backdrop-blur-sm p-4 rounded-lg border border-gray-700/50",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>w({category:void 0}),className:`px-3 py-1 text-sm rounded-full ${p.category?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white"}`,children:"All"}),(y=m.main)==null?void 0:y.map(g=>a.jsx("button",{onClick:()=>w({category:g.id}),className:`px-3 py-1 text-sm rounded-full ${p.category===g.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:g.name},g.id)),m.ai&&a.jsxs("div",{className:"flex flex-col gap-2 w-full mt-2",children:[a.jsx("div",{className:"text-sm font-medium text-blue-400 border-b border-gray-700 pb-1",children:m.ai.name}),a.jsx("div",{className:"flex flex-wrap gap-2 pl-2",children:m.ai.subcategories.map(g=>a.jsx("button",{onClick:()=>w({category:g.id}),className:`px-3 py-1 text-sm rounded-full ${p.category===g.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:g.name},g.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Sort By"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>w({sortBy:"relevance"}),className:`px-3 py-1 text-sm rounded-full flex items-center ${p.sortBy==="relevance"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(VS,{className:"h-3 w-3 mr-1"}),"Relevance"]}),a.jsxs("button",{onClick:()=>w({sortBy:"date"}),className:`px-3 py-1 text-sm rounded-full flex items-center ${p.sortBy==="date"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx($S,{className:"h-3 w-3 mr-1"}),"Newest"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Time Frame"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>w({timeFrame:"day"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="day"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Today"}),a.jsx("button",{onClick:()=>w({timeFrame:"week"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="week"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Week"}),a.jsx("button",{onClick:()=>w({timeFrame:"month"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="month"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Month"}),a.jsx("button",{onClick:()=>w({timeFrame:"all"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="all"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All Time"})]})]})]})}),a.jsx("div",{className:`grid gap-6 ${p.layout==="compact"?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:e.map((g,b)=>a.jsx(Cv,{article:g,index:b,showRelevanceScore:p.sortBy==="relevance"},g.id))}),e.length===0&&!t&&a.jsx("div",{className:"text-center py-12 bg-gray-800/30 rounded-lg",children:a.jsx("p",{className:"text-gray-400",children:"No articles found matching your criteria"})}),t&&e.length>0&&a.jsx("div",{className:"flex justify-center my-8",children:a.jsx(vt,{size:"w-8 h-8"})}),s&&a.jsx("div",{ref:u,className:"h-10"})]})},A3=({article:e})=>{const t=wt(),r=()=>{t(`/dashboard/article/${e.id}`)},n=e.relevance_score||0,s=RE(n);return a.jsx(O.div,{className:"rounded-xl overflow-hidden bg-gradient-to-r from-blue-900/40 to-purple-900/40 mb-8 border border-blue-500/30",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.01},children:a.jsxs("div",{className:"flex flex-col md:flex-row cursor-pointer",onClick:r,children:[e.image_url?a.jsx("div",{className:"w-full md:w-1/3 h-48 md:h-auto",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}):a.jsx("div",{className:"w-full md:w-1/3 bg-blue-900/20 flex items-center justify-center py-12",children:a.jsx(Iy,{className:"h-16 w-16 text-blue-500/40"})}),a.jsxs("div",{className:"w-full md:w-2/3 p-6 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-900/60 rounded-lg text-sm text-blue-200",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{children:"Top Recommendation"})]}),a.jsxs("div",{className:`px-2.5 py-1.5 rounded-lg text-sm font-medium ${s}`,children:[n,"% Match"]})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors",children:e.title}),a.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2",children:e.content})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:[e.category," • ",e.source]}),a.jsxs("button",{className:"flex items-center text-blue-400 hover:text-blue-300 transition-colors",onClick:i=>{i.stopPropagation(),r()},children:["Read More",a.jsx(Ci,{className:"h-4 w-4 ml-1"})]})]})]})]})})};async function on(e){try{const{limit:t=9,category:r,tags:n,search:s,sortBy:i="published_at",fromDate:o,toDate:l,page:c=1,excludeUserPreferences:u,useCache:d=!0}=e,h=Od({type:"articles",limit:t,category:r,tags:n,search:s,sortBy:i,fromDate:o,toDate:l,page:c,excludeUserPreferences:u});if(d){const g=Ke.get(h);if(g)return console.log("Using cached article data"),g}const f=(c-1)*t,p=M.from("articles").select("*",{count:"exact",head:!0});if(r&&p.eq("category",r),n&&n.length>0&&p.contains("tags",n),s&&p.or(`title.ilike.%${s}%,content.ilike.%${s}%`),o&&p.gte("published_at",o),l&&p.lte("published_at",l),u){const g=await is(u);g!=null&&g.categories&&g.categories.length>0&&p.not("category","in",`(${g.categories.join(",")})`)}const{count:v}=await p;let w=M.from("articles").select("*").range(f,f+t-1);if(r&&(w=w.eq("category",r)),n&&n.length>0&&(w=w.contains("tags",n)),s&&(w=w.or(`title.ilike.%${s}%,content.ilike.%${s}%`)),o&&(w=w.gte("published_at",o)),l&&(w=w.lte("published_at",l)),u){const g=await is(u);g!=null&&g.categories&&g.categories.length>0&&w.not("category","in",`(${g.categories.join(",")})`)}if(i==="random")w=w.order("id",{ascending:!1});else{const g="desc",b=i==="relevance_score"?"relevance_score":"published_at";w=w.order(b,{ascending:g==="asc"})}const{data:j,error:m}=await w;if(m)throw m;const y={articles:j||[],totalCount:v||0};return d&&Ke.set(h,y),y}catch(t){return console.error("Error fetching articles:",t),{articles:[],totalCount:0}}}async function R3(e,t={}){try{const{limit:r=9,category:n,fromDate:s,page:i=1,useCache:o=!0}=t,l=Od({type:"rankedArticles",userId:e,limit:r,category:n,fromDate:s,page:i});if(o){const w=Ke.get(l);if(w)return console.log("Using cached ranked article data"),w}const c=await is(e);if(!c)return on({limit:r,category:n,fromDate:s,page:i,sortBy:"published_at",useCache:o});const u=await on({limit:100,category:n,fromDate:s,page:1,sortBy:"published_at",useCache:o});if(!u||!u.articles||u.articles.length===0)return{articles:[],totalCount:0};const d=u.articles,h=yv(d,c),f=(i-1)*r,v={articles:h.slice(f,Math.min(f+r,h.length)),totalCount:h.length};return o&&Ke.set(l,v),v}catch(r){return console.error("Error in rankArticlesForUser:",r),{articles:[],totalCount:0}}}async function D3(e,t=!0){try{const r=`article-${e}`;if(t){const i=Ke.get(r);if(i)return i}const{data:n,error:s}=await M.from("articles").select("*").eq("id",e).single();if(s)throw s;return t&&n&&Ke.set(r,n),n}catch(r){return console.error("Error fetching article by ID:",r),null}}async function M3(e,t=3,r=!0){try{const n=`related-${e.id}-${t}`;if(r){const l=Ke.get(n);if(l)return l}let s=M.from("articles").select("*").eq("category",e.category).neq("id",e.id);if(e.tags&&e.tags.length>0){const{data:l}=await s.contains("tags",e.tags).limit(t);if(l&&l.length>=t)return r&&Ke.set(n,l),l;const c=t-((l==null?void 0:l.length)||0);if(c>0){const{data:u}=await M.from("articles").select("*").eq("category",e.category).neq("id",e.id).not("id","in",`(${(l||[]).map(h=>h.id).join(",")})`).limit(c),d=[...l||[],...u||[]];return r&&Ke.set(n,d),d}return r&&l&&Ke.set(n,l),l||[]}const{data:i,error:o}=await s.limit(t);if(o)throw o;return r&&i&&Ke.set(n,i),i||[]}catch(n){return console.error("Error fetching related articles:",n),[]}}function ml(){return[{id:"business",name:"Business"},{id:"technology",name:"Technology"},{id:"science",name:"Science"},{id:"health",name:"Health"},{id:"stocks",name:"Stock Market"},{id:"web3",name:"Web3"},{id:"artificial_intelligence",name:"Artificial Intelligence"},{id:"machine_learning",name:"Machine Learning"},{id:"llm",name:"LLMs"},{id:"generative_ai",name:"Generative AI"},{id:"ai_ethics",name:"AI Ethics"},{id:"ai_research",name:"AI Research"},{id:"general",name:"General"}]}const ur=9,L3=()=>{const{user:e,profile:t,isAdmin:r}=we(),[n,s]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[h,f]=x.useState(null),[p,v]=x.useState({category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"}),[w,j]=x.useState({personalized:!0,trending:!0,recent:!0,discover:!0}),[m,y]=x.useState(1),[g,b]=x.useState(!0),[S,_]=x.useState(0),[k,C]=x.useState(e?"for-you":"trending"),[N,E]=x.useState(null),P=x.useRef(!1),A=ml(),L=x.useCallback(Si(K=>{v(K),y(1),b(!0)},300),[]),B=x.useCallback(async()=>{if(!P.current){P.current=!0,E(null);try{const ce=(()=>{if(p.timeFrame==="all")return;const H=new Date;if(p.timeFrame==="day"){const z=new Date(H);return z.setDate(H.getDate()-1),z.toISOString()}else if(p.timeFrame==="week"){const z=new Date(H);return z.setDate(H.getDate()-7),z.toISOString()}else if(p.timeFrame==="month"){const z=new Date(H);return z.setMonth(H.getMonth()-1),z.toISOString()}})();if(k==="trending"){j(z=>({...z,trending:!0}));const H=await on({limit:ur,sortBy:"relevance_score",category:p.category,fromDate:ce,page:m});H.articles.length<ur?b(!1):b(!0),o(m===1?H.articles:z=>[...z,...H.articles]),_(H.totalCount),j(z=>({...z,trending:!1}))}else if(k==="recent"){j(z=>({...z,recent:!0}));const H=await on({limit:ur,sortBy:"published_at",category:p.category,fromDate:ce,page:m});H.articles.length<ur?b(!1):b(!0),c(m===1?H.articles:z=>[...z,...H.articles]),_(H.totalCount),j(z=>({...z,recent:!1}))}else if(k==="discover"){j(z=>({...z,discover:!0}));const H=await on({limit:ur,sortBy:"random",category:p.category,fromDate:ce,excludeUserPreferences:e==null?void 0:e.id,page:m});H.articles.length<ur?b(!1):b(!0),d(m===1?H.articles:z=>[...z,...H.articles]),_(H.totalCount),j(z=>({...z,discover:!1}))}else if(e&&k==="for-you"){j(H=>({...H,personalized:!0}));try{const H=new Date;H.setMonth(H.getMonth()-1);const{articles:z,totalCount:vs}=await R3(e.id,{limit:ur,category:p.category,fromDate:p.timeFrame==="all"?H.toISOString():ce,page:m});if(z.length<ur?b(!1):b(!0),m===1){if(s(z),z.length>0){const Je=[...z].sort((or,Ch)=>(Ch.relevance_score||0)-(or.relevance_score||0))[0];Je&&(Je.relevance_score||0)>=70?f(Je):f(null)}}else s(Je=>{const or=[...Je,...z];return Array.from(new Map(or.map(Eh=>[Eh.id,Eh])).values())});_(vs)}catch(H){console.error("Error fetching personalized articles:",H),E("Could not load personalized articles. Please try again.")}finally{j(H=>({...H,personalized:!1}))}}}catch(K){console.error("Error fetching articles:",K),E("Failed to load articles. Please try refreshing the page."),j({personalized:!1,trending:!1,recent:!1,discover:!1})}finally{P.current=!1}}},[k,p,m,e]);x.useEffect(()=>{B()},[B]),x.useEffect(()=>{y(1),k!=="for-you"&&f(null)},[k]);const X=()=>{!w[k]&&!P.current&&y(K=>K+1)},le=K=>{L(K)},ee=()=>{switch(k){case"for-you":return w.personalized;case"trending":return w.trending;case"recent":return w.recent;case"discover":return w.discover;default:return!1}},R=()=>{switch(k){case"for-you":return n.filter(K=>!h||K.id!==h.id);case"trending":return i;case"recent":return l;case"discover":return u;default:return[]}},F=K=>`px-4 py-2 rounded-lg flex items-center text-sm transition-colors ${k===K?"bg-blue-600 text-white font-medium":"text-gray-400 hover:text-gray-200 hover:bg-gray-800/70"}`,V=()=>{E(null),B()};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs(O.div,{className:"relative overflow-hidden rounded-2xl h-64 bg-gradient-to-r from-blue-900 to-purple-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"absolute inset-0 bg-grid-white/5 bg-[size:20px_20px]"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/90 to-transparent"}),a.jsxs("div",{className:"relative h-full flex flex-col justify-end p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:e?`Welcome back, ${(t==null?void 0:t.username)||"User"}`:"Discover the latest news with SophIQ"}),a.jsx("p",{className:"text-gray-300 max-w-2xl",children:"Stay informed with the most relevant news tailored to your interests, curated by our advanced AI ranking system."})]})]}),N&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300 flex items-center justify-between",children:[a.jsx("div",{children:N}),a.jsx("button",{onClick:V,className:"px-3 py-1 bg-red-800/40 hover:bg-red-800/60 rounded-md text-red-200 transition-colors",children:"Try Again"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e&&a.jsxs("button",{onClick:()=>C("for-you"),className:F("for-you"),children:[a.jsx(e2,{className:"h-4 w-4 mr-2"}),"For You"]}),a.jsxs("button",{onClick:()=>C("trending"),className:F("trending"),children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),"Trending"]}),a.jsxs("button",{onClick:()=>C("recent"),className:F("recent"),children:[a.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Recent"]}),a.jsxs("button",{onClick:()=>C("discover"),className:F("discover"),children:[a.jsx(J,{className:"h-4 w-4 mr-2"}),"Discover"]})]}),k==="for-you"&&h&&h.relevance_score>=70&&a.jsx(A3,{article:h}),a.jsx(fl,{articles:R(),loading:ee(),title:k==="for-you"?"Personalized For You":k==="trending"?"Trending Articles":k==="recent"?"Recently Published":"Discover New Topics",loadMore:X,hasMore:g,categories:A,onFilterChange:le,totalCount:S})]})},O3=()=>{const e=ar(),[t,r]=x.useState(!e.search.includes("signup=true")),[n,s]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(""),{signIn:p,signUp:v,user:w}=we(),j=wt();x.useEffect(()=>{w&&j("/")},[w,j]),x.useEffect(()=>{r(!e.search.includes("signup=true"))},[e.search]);const m=async g=>{g.preventDefault(),f(""),d(!0);try{if(t){const{error:b}=await p(n,i);if(b)throw b;j("/")}else{if(!l.trim())throw new Error("Username is required");const{error:b}=await v(n,i,l);if(b)throw b;j("/onboarding")}}catch(b){f(b.message||"An error occurred")}finally{d(!1)}},y=()=>{r(!t),j(t?"/login?signup=true":"/login",{replace:!0})};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-black px-4",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-white/5 bg-[size:20px_20px]"}),a.jsxs(Pe,{to:"/",className:"absolute top-8 left-8 flex items-center text-gray-400 hover:text-white transition-colors",children:[a.jsx(Id,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(O.div,{className:"max-w-md w-full bg-gray-800/70 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-gray-700/50 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:a.jsx(Jo,{className:"h-8 w-8 text-white"})})}),a.jsx("h1",{className:"text-2xl font-bold text-center text-white mb-2",children:t?"Sign in to SophIQ":"Create a SophIQ account"}),a.jsx("p",{className:"text-center text-gray-400 mb-6",children:t?"Your personalized AI-powered news aggregator":"Join SophIQ and get news tailored to your interests"}),a.jsxs("div",{className:"flex mb-8 bg-gray-900/70 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>r(!0),className:`flex-1 py-2 rounded-md transition-colors ${t?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-200"}`,children:"Sign In"}),a.jsx("button",{onClick:()=>r(!1),className:`flex-1 py-2 rounded-md transition-colors ${t?"text-gray-400 hover:text-gray-200":"bg-blue-600 text-white"}`,children:"Sign Up"})]}),h&&a.jsx("div",{className:"bg-red-900/40 border border-red-800 text-red-200 px-4 py-3 rounded-lg mb-6",children:h}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[!t&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-400 mb-1",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(yu,{className:"h-5 w-5 text-gray-500"})}),a.jsx("input",{id:"username",type:"text",value:l,onChange:g=>c(g.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"johndoe",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(YS,{className:"h-5 w-5 text-gray-500"})}),a.jsx("input",{id:"email",type:"email",value:n,onChange:g=>s(g.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(KS,{className:"h-5 w-5 text-gray-500"})}),a.jsx("input",{id:"password",type:"password",value:i,onChange:g=>o(g.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0,minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 flex items-center justify-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Oy,{className:"h-5 w-5 mr-2 animate-spin"}),t?"Signing in...":"Creating account..."]}):a.jsx(a.Fragment,{children:t?"Sign in":"Create account"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:y,className:"text-blue-400 hover:text-blue-300 focus:outline-none",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})},I3=()=>{const{user:e}=we(),t=wt(),[r,n]=x.useState(0),[s,i]=x.useState({keywords:[],categories:[],sources:[],excluded_keywords:[]}),[o,l]=x.useState(""),[c,u]=x.useState(""),d=[{id:"business",name:"Business"},{id:"crypto",name:"Cryptocurrency"},{id:"stocks",name:"Stock Market"},{id:"technology",name:"Technology"},{id:"web3",name:"Web3"},{id:"science",name:"Science"},{id:"health",name:"Health"}],h=[{id:"bloomberg",name:"Bloomberg"},{id:"cnn",name:"CNN"},{id:"bbc-news",name:"BBC News"},{id:"reuters",name:"Reuters"},{id:"techcrunch",name:"TechCrunch"},{id:"the-verge",name:"The Verge"},{id:"wired",name:"Wired"}],f=()=>{o&&!s.keywords.includes(o)&&(i({...s,keywords:[...s.keywords,o]}),l(""))},p=k=>{i({...s,keywords:s.keywords.filter(C=>C!==k)})},v=()=>{c&&!s.excluded_keywords.includes(c)&&(i({...s,excluded_keywords:[...s.excluded_keywords,c]}),u(""))},w=k=>{i({...s,excluded_keywords:s.excluded_keywords.filter(C=>C!==k)})},j=k=>{s.categories.includes(k)?i({...s,categories:s.categories.filter(C=>C!==k)}):i({...s,categories:[...s.categories,k]})},m=k=>{s.sources.includes(k)?i({...s,sources:s.sources.filter(C=>C!==k)}):i({...s,sources:[...s.sources,k]})},y=async()=>{if(e)try{const{error:k}=await M.from("user_preferences").upsert({user_id:e.id,keywords:s.keywords,categories:s.categories,sources:s.sources,excluded_keywords:s.excluded_keywords,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(k){console.error("Error saving preferences:",k);return}t("/dashboard")}catch(k){console.error("Error in handleComplete:",k)}},g=[{title:"Interests",description:"What topics are you most interested in?",component:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Add keywords to track"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),placeholder:"e.g., Bitcoin, AI, Investment",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:k=>k.key==="Enter"&&f()}),a.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),s.keywords.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Your keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map(k=>a.jsxs("div",{className:"bg-blue-900/40 px-3 py-1 rounded-full text-blue-200 text-sm flex items-center",children:[k,a.jsx("button",{onClick:()=>p(k),className:"ml-2 text-blue-300 hover:text-blue-100",children:"×"})]},k))})]})]})},{title:"Categories",description:"Choose categories you want to follow",component:a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:d.map(k=>a.jsxs("button",{onClick:()=>j(k.id),className:`p-3 rounded-lg border ${s.categories.includes(k.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:k.name}),s.categories.includes(k.id)&&a.jsx(Oe,{className:"h-4 w-4"})]},k.id))})})},{title:"Sources",description:"Select your preferred news sources",component:a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(k=>a.jsxs("button",{onClick:()=>m(k.id),className:`p-3 rounded-lg border ${s.sources.includes(k.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:k.name}),s.sources.includes(k.id)&&a.jsx(Oe,{className:"h-4 w-4"})]},k.id))})})},{title:"Exclusions",description:"What topics would you like to exclude?",component:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Add keywords to exclude"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"e.g., Politics, Sports",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:k=>k.key==="Enter"&&v()}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),s.excluded_keywords.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Your excluded keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.excluded_keywords.map(k=>a.jsxs("div",{className:"bg-red-900/40 px-3 py-1 rounded-full text-red-200 text-sm flex items-center",children:[k,a.jsx("button",{onClick:()=>w(k),className:"ml-2 text-red-300 hover:text-red-100",children:"×"})]},k))})]})]})}],b=()=>{r<g.length-1&&n(r+1)},S=()=>{r>0&&n(r-1)},_=(r+1)/g.length*100;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white",children:[a.jsx("div",{className:"w-full h-2 bg-gray-800",children:a.jsx(O.div,{className:"h-full bg-blue-600",initial:{width:"0%"},animate:{width:`${_}%`},transition:{duration:.5}})}),a.jsx("div",{className:"max-w-2xl mx-auto p-6 md:py-12",children:a.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:g[r].title}),a.jsx("p",{className:"text-gray-400",children:g[r].description})]}),a.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 shadow-xl",children:g[r].component}),a.jsxs("div",{className:"flex justify-between pt-4",children:[a.jsxs("button",{onClick:S,disabled:r===0,className:`px-4 py-2 rounded-lg flex items-center ${r===0?"opacity-50 cursor-not-allowed bg-gray-800 text-gray-500":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(My,{className:"h-5 w-5 mr-1"}),"Back"]}),r<g.length-1?a.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:["Next",a.jsx(Ly,{className:"h-5 w-5 ml-1"})]}):a.jsx("button",{onClick:y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Complete"})]})]},r)})]})},F3=()=>{const{id:e}=O1(),{user:t}=we(),{recordView:r}=ul(),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState([]),[u,d]=x.useState(null),[h,f]=x.useState(!1),[p,v]=x.useState(0),[w,j]=x.useState(null),[m,y]=x.useState(null),[g,b]=x.useState(!1);x.useEffect(()=>(n&&t&&!g&&((async()=>{const N=await r(n.id);N&&(y(N.id),b(!0)),j(new Date)})(),(async()=>{const N=await Gt.getArticleViewCount(n.id);v(N)})()),()=>{if(n&&w&&m&&t){const C=Math.round((new Date().getTime()-w.getTime())/1e3);C>=5&&Gt.updateViewDuration(m,C)}}),[n,t,r,g]),x.useEffect(()=>{async function k(){if(e)try{o(!0);const C=await D3(e);if(C){s(C);const N=await M3(C,3);c(N)}}catch(C){console.error("Error fetching article:",C)}finally{o(!1)}}k(),b(!1)},[e]);const S=k=>{d(k),f(!0)};if(i)return a.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)]",children:a.jsx(vt,{})});if(!n)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Article Not Found"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"The article you're looking for doesn't exist or has been removed."}),a.jsx(Pe,{to:"/dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Home"})]});const _=pt(new Date(n.published_at),"MMMM dd, yyyy");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[a.jsxs(Pe,{to:"/dashboard",className:"flex items-center text-gray-400 hover:text-blue-400 transition-colors mb-6",children:[a.jsx(Id,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(O.article,{className:"bg-gray-800/60 rounded-xl overflow-hidden shadow-xl border border-gray-700/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[n.image_url&&a.jsx("div",{className:"h-72 overflow-hidden",children:a.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-400 mb-4",children:[a.jsx("span",{className:"px-3 py-1 bg-blue-900/60 text-blue-200 rounded-full",children:n.category}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),_]}),a.jsxs("span",{children:["Source: ",n.source]}),p>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"h-4 w-4 mr-1 text-gray-500"}),a.jsxs("span",{className:"text-gray-500",children:[p," ",p===1?"view":"views"]})]})]}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:n.title}),a.jsx("div",{className:"prose prose-invert max-w-none mb-8",children:n.content.split(`
`).map((k,C)=>a.jsx("p",{className:"mb-4 text-gray-300 leading-relaxed",children:k},C))}),n.tags&&n.tags.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(k=>a.jsx("span",{className:"px-3 py-1 bg-gray-700/60 text-gray-300 rounded-full text-sm",children:k},k))})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between border-t border-gray-700 pt-6 gap-3",children:[a.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center",children:["Read Original Article",a.jsx(Zo,{className:"h-4 w-4 ml-1"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700/50 transition-colors text-gray-400 hover:text-white",children:a.jsx(n2,{className:"h-5 w-5"})}),a.jsx(dl,{article:n}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700/50 transition-colors text-gray-400 hover:text-white",children:a.jsx(JS,{className:"h-5 w-5"})})]})]})]})]}),l.length>0&&a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Related Articles"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(k=>a.jsxs(O.div,{className:"bg-gray-800/60 rounded-lg overflow-hidden shadow-lg border border-gray-700/50 hover:border-blue-500/50 transition-all cursor-pointer",whileHover:{y:-5,transition:{duration:.2}},onClick:()=>S(k),children:[a.jsx("div",{className:"h-40 overflow-hidden",children:k.image_url?a.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900/40 to-purple-900/40"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white line-clamp-2 mb-2",children:k.title}),a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx(Ve,{className:"h-3 w-3 mr-1"}),pt(new Date(k.published_at),"MMM dd, yyyy")]})]})]},k.id))})]})]}),a.jsx(hl,{article:u,isOpen:h,onClose:()=>f(!1)})]})},st={async triggerAggregation(e={}){try{const{data:t,error:r}=await M.functions.invoke("aggregate-news",{body:e});if(r)throw console.error("Error from Supabase function:",r),new Error(r.message||"Error calling the aggregation function");return t}catch(t){if(console.error("Error triggering aggregation:",t),typeof t=="object"&&t!==null&&"response"in t)try{const r=t.response;if(typeof r=="string"){const n=JSON.parse(r);if(n.error)throw new Error(n.error)}}catch{}throw t}},async triggerCryptoAggregation(e={}){try{const{data:t,error:r}=await M.functions.invoke("fetch-crypto-news",{body:e});if(r)throw console.error("Error from fetch-crypto-news function:",r),new Error(r.message||"Error calling the crypto news function");return t}catch(t){throw console.error("Error triggering crypto aggregation:",t),t}},async triggerCoindeskAggregation(e={}){try{const{data:t,error:r}=await M.functions.invoke("fetch-coindesk-news",{body:e});if(r)throw console.error("Error from fetch-coindesk-news function:",r),new Error(r.message||"Error calling the CoinDesk news function");return t}catch(t){throw console.error("Error triggering CoinDesk aggregation:",t),t}},async triggerCryptoPanicAggregation(e={}){try{const{data:t,error:r}=await M.functions.invoke("fetch-cryptopanic-news",{body:e});if(r)throw console.error("Error from fetch-cryptopanic-news function:",r),new Error(r.message||"Error calling the CryptoPanic news function");return t}catch(t){throw console.error("Error triggering CryptoPanic aggregation:",t),t}},async triggerFireCrawlAggregation(e={}){try{const{data:t,error:r}=await M.functions.invoke("fetch-firecrawl-news",{body:e});if(r)throw console.error("Error from fetch-firecrawl-news function:",r),new Error(r.message||"Error calling the FireCrawl news function");return t}catch(t){throw console.error("Error triggering FireCrawl aggregation:",t),t}},async triggerScheduledAggregation(){try{const{data:e,error:t}=await M.functions.invoke("scheduled-aggregation",{body:{manual:!0}});if(t)throw console.error("Error from scheduled-aggregation function:",t),new Error(t.message||"Error calling the scheduled aggregation function");return e}catch(e){throw console.error("Error triggering scheduled aggregation:",e),e}},async createCrawlJob(e){try{const{data:t,error:r}=await M.functions.invoke("create-crawl-job",{body:e});if(r)throw console.error("Error from create-crawl-job function:",r),new Error(r.message||"Error calling the create crawl job function");return t}catch(t){throw console.error("Error creating crawl job:",t),t}},async createCrawlJobsFromTable(e={}){try{const{data:t,error:r}=await M.functions.invoke("create-crawl-jobs-from-table",{body:e});if(r)throw console.error("Error from create-crawl-jobs-from-table function:",r),new Error(r.message||"Error calling the create crawl jobs function");return t}catch(t){throw console.error("Error creating crawl jobs:",t),t}},async runCryptoCrawler(){try{const{data:e,error:t}=await M.functions.invoke("supadata-crypto-crawler",{body:{}});if(t)throw console.error("Error from supadata-crypto-crawler function:",t),new Error(t.message||"Error calling the crypto crawler function");return e}catch(e){throw console.error("Error running crypto crawler:",e),e}},async getAggregationStatus(){try{const{data:e,error:t}=await M.from("system_settings").select("*").eq("id","aggregation_status").maybeSingle();return t?(console.error("Error getting aggregation status:",t),{id:"aggregation_status",last_run:null,status:"never_run",articles_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):e||{id:"aggregation_status",last_run:null,status:"never_run",articles_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(e){return console.error("Error getting aggregation status:",e),null}},async getAggregationLogs(e={}){try{const{limit:t=100,status:r,type:n,offset:s=0}=e;let i=M.from("aggregation_logs").select("*").order("created_at",{ascending:!1}).range(s,s+t-1);r&&(i=i.eq("status",r)),n&&(i=i.eq("event_type",n));const{data:o,error:l}=await i;if(l)throw console.error("Error fetching aggregation logs:",l),l;return o||[]}catch(t){return console.error("Error in getAggregationLogs:",t),[]}},async createAggregationLog(e){try{const{data:t,error:r}=await M.from("aggregation_logs").insert({event_type:e.event_type,status:e.status,details:e.details}).select().single();if(r)throw console.error("Error creating aggregation log:",r),r;return t}catch(t){return console.error("Error in createAggregationLog:",t),null}},async getSchedule(){try{const{data:e,error:t}=await M.from("system_settings").select("*").eq("id","aggregation_status").single();if(t){if(t.code==="PGRST116")return{id:"aggregation_status",enabled:!0,frequency:"15min",next_scheduled:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};throw t}return e}catch(e){return console.error("Error getting aggregation schedule:",e),null}},async updateSchedule(e){try{const{data:t,error:r}=await M.from("system_settings").upsert({id:"aggregation_status",...e,updated_at:new Date().toISOString()}).select();if(r)throw r;return await this.createAggregationLog({event_type:"schedule_update",status:"success",details:{frequency:e.frequency,enabled:e.enabled,next_scheduled:e.next_scheduled}}),t}catch(t){throw console.error("Error updating aggregation schedule:",t),t}},async updateCoindeskSettings(e){try{const{data:t,error:r}=await M.from("system_settings").update({coindesk_enabled:e.enabled,coindesk_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"coindesk_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating CoinDesk settings:",t),t}},async updateCryptoPanicSettings(e){try{const{data:t,error:r}=await M.from("system_settings").update({cryptopanic_enabled:e.enabled,cryptopanic_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"cryptopanic_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating CryptoPanic settings:",t),t}},async updateFireCrawlSettings(e){try{const{data:t,error:r}=await M.from("system_settings").update({firecrawl_enabled:e.enabled,firecrawl_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"firecrawl_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating FireCrawl settings:",t),t}}},Ev=({status:e,onRefresh:t})=>{const[r,n]=x.useState(!1),[s,i]=x.useState("idle"),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(null),[v,w]=x.useState(!1),[j,m]=x.useState(null),[y,g]=x.useState(!0),[b,S]=x.useState(!1),[_,k]=x.useState(null),C=async()=>{try{if(j&&new Date<j){const P=Math.ceil((j.getTime()-new Date().getTime())/1e3/60);l(`Please wait approximately ${P} minutes before trying again to avoid rate limiting`);return}n(!0),i("running"),l(null),h(!0),p(null),w(!1);const E=await st.triggerAggregation({forceUpdate:c,singleCategory:y});p(E),i("completed"),setTimeout(()=>{t(),i("idle")},1e3)}catch(E){console.error("Error triggering aggregation:",E),i("error");let P="An unknown error occurred";try{if(typeof E=="object"&&E!==null)if(E.subType==="supabase-function"&&E.response)try{const L=JSON.parse(E.response);P=L.error||"Error calling Edge Function",console.log("Supabase function error details:",L)}catch{P=E.response}else if(E.response&&typeof E.response.json=="function"){const L=await E.response.json();P=L.error||L.message||P}else E.error?P=E.error:E.message&&(P=E.message)}catch{P=String(E)}l(P);const A=P.toLowerCase();if(A.includes("rate limit")||A.includes("too many fetch errors")||A.includes("too many requests")||A.includes("api issues")||A.includes("try again later")||A.includes("check api key")){w(!0);const L=Ia(new Date,15);m(L)}}finally{n(!1)}},N=async()=>{try{S(!0),l(null),k(null);const E=await st.triggerScheduledAggregation();k(E),t()}catch(E){console.error("Error testing scheduled function:",E),l(E instanceof Error?E.message:"Unknown error testing scheduled function")}finally{S(!1)}};return a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"News Aggregation Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 mb-1",children:"Last Aggregation"}),a.jsx("p",{className:"text-lg font-semibold text-white",children:e!=null&&e.last_run?pt(rn(e.last_run),"MMM dd, yyyy HH:mm:ss"):"Never Run"}),(e==null?void 0:e.last_run)&&a.jsx("p",{className:"text-sm text-gray-400",children:No(rn(e.last_run),{addSuffix:!0})})]}),a.jsx($3,{status:e==null?void 0:e.status,count:e==null?void 0:e.articles_count})]}),(e==null?void 0:e.next_scheduled)&&a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 flex items-center",children:[a.jsx(It,{className:"h-4 w-4 text-blue-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-300",children:"Next scheduled run:"}),a.jsx("p",{className:"text-white",children:pt(rn(e.next_scheduled),"MMM dd, yyyy HH:mm:ss")}),a.jsx("p",{className:"text-xs text-gray-400",children:No(rn(e.next_scheduled),{addSuffix:!0})})]})]}),(e==null?void 0:e.error_message)&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300 flex items-start mt-3",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"Error Details:"}),a.jsx("p",{children:e.error_message})]})]}),o&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300 flex items-start mt-3",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"Error Details:"}),a.jsx("p",{children:o}),v&&a.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 rounded",children:[a.jsx("p",{className:"font-medium text-yellow-300",children:"NewsAPI Rate Limit Exceeded"}),a.jsx("p",{className:"mt-1",children:"The NewsAPI has rate limits on how many requests can be made. Please wait before trying again."}),j&&a.jsxs("p",{className:"mt-1 flex items-center text-yellow-200",children:[a.jsx(Ve,{className:"h-4 w-4 mr-1"}),"Try again after: ",pt(j,"HH:mm:ss")]}),a.jsx("p",{className:"mt-2 text-xs text-gray-300",children:"For more frequent updates, consider upgrading to a premium NewsAPI account with higher rate limits."})]})]})]}),d&&f&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/70 border border-gray-700/30 rounded-md p-3 text-sm text-gray-300 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"font-medium flex items-center",children:[a.jsx(r2,{className:"h-4 w-4 mr-2"}),"Aggregation Results"]}),a.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-200",children:"Hide"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:f.message}),f.count>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Added ",f.count," new articles"]}),f.categories&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mt-2 mb-1",children:"Categories:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(f.categories).map(([E,P])=>a.jsxs("span",{className:"px-2 py-1 bg-gray-700/60 rounded-full text-xs",children:[E,": ",P]},E))})]}),f.languages&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mt-2 mb-1",children:"Languages:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(f.languages).map(([E,P])=>a.jsxs("span",{className:"px-2 py-1 bg-gray-700/60 rounded-full text-xs",children:[E,": ",P]},E))})]})]}):a.jsx("p",{children:"No new articles were found to add"}),f.errors&&f.errors.length>0&&a.jsx("div",{className:"mt-2",children:a.jsxs("p",{className:"text-yellow-400 font-medium",children:["Encountered ",f.errors.length," errors during insertion"]})})]})]}),d&&_&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/70 border border-gray-700/30 rounded-md p-3 text-sm text-gray-300 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"font-medium flex items-center",children:[a.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Scheduled Function Test Results"]}),a.jsx("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-gray-200",children:"Hide"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:_.message}),_.status==="skipped"&&a.jsxs("p",{className:"text-yellow-400",children:["Aggregation was skipped: ",_.reason]}),_.result&&a.jsx("p",{children:_.result.count>0?`Added ${_.result.count} new articles`:"No new articles were added"}),_.nextScheduled&&a.jsxs("div",{className:"flex items-center text-blue-300 mt-2",children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Next scheduled: ",new Date(_.nextScheduled).toLocaleString()]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[a.jsx("p",{className:"text-gray-300 mb-3",children:"Manual Actions"}),a.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"force-update",checked:c,onChange:E=>u(E.target.checked),className:"h-4 w-4 rounded border-gray-600 text-blue-600 focus:ring-blue-600 bg-gray-700"}),a.jsx("label",{htmlFor:"force-update",className:"ml-2 text-sm text-gray-300",children:"Force Update (bypass duplicate check)"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"single-category",checked:y,onChange:E=>g(E.target.checked),className:"h-4 w-4 rounded border-gray-600 text-blue-600 focus:ring-blue-600 bg-gray-700"}),a.jsx("label",{htmlFor:"single-category",className:"ml-2 text-sm text-gray-300",children:"Single Category (avoid rate limiting)"})]}),a.jsx("button",{onClick:C,disabled:r||j&&new Date<j,className:`px-4 py-2 rounded-lg flex items-center ${r||j&&new Date<j?"bg-gray-700 cursor-not-allowed text-gray-400":s==="running"?"bg-blue-900/40 cursor-wait":s==="completed"?"bg-green-600 hover:bg-green-700":s==="error"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Running manual aggregation..."]}):j&&new Date<j?a.jsxs(a.Fragment,{children:[a.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Rate limited (try again later)"]}):s==="completed"?a.jsxs(a.Fragment,{children:[a.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Aggregation completed"]}):s==="error"?a.jsxs(a.Fragment,{children:[a.jsx(rl,{className:"h-4 w-4 mr-2"}),"Error, try again"]}):a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2"}),"Run Manual Aggregation Now"]})})]}),a.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg border border-gray-700/30 space-y-3",children:[a.jsxs("h4",{className:"text-sm font-medium text-white flex items-center",children:[a.jsx(Ve,{className:"h-4 w-4 mr-2 text-blue-400"}),"Test Scheduled Function"]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Run the scheduled aggregation function manually to test that it's working correctly."}),a.jsx("button",{onClick:N,disabled:b,className:`px-4 py-2 rounded-lg flex items-center text-sm ${b?"bg-blue-900/40 cursor-wait text-gray-300":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:b?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Test Scheduled Function"]})})]})]}),j&&new Date<j&&a.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["NewsAPI rate limit reached. Can run again in approximately ",Math.ceil((j.getTime()-new Date().getTime())/1e3/60)," minutes."]}),a.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[a.jsx("p",{children:"Note: The free NewsAPI plan has strict rate limits. To avoid hitting these limits, aggregations are now limited to fewer categories and articles per run."}),a.jsx("p",{className:"mt-1",children:"Each aggregation request uses only 1 randomly selected category and collects a small number of articles to stay within rate limits."})]})]})]})]})},$3=({status:e,count:t})=>{if(!e)return null;switch(e){case"success":return a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"px-3 py-1 bg-green-900/40 text-green-300 rounded-full text-sm flex items-center",children:[a.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Success"]}),t!==void 0&&a.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[t," articles added"]})]});case"partial_success":return a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"px-3 py-1 bg-yellow-900/40 text-yellow-300 rounded-full text-sm flex items-center",children:[a.jsx(Tt,{className:"h-3 w-3 mr-1"}),"Partial Success"]}),t!==void 0&&a.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[t," articles added"]})]});case"error":return a.jsxs("span",{className:"px-3 py-1 bg-red-900/40 text-red-300 rounded-full text-sm flex items-center",children:[a.jsx(rl,{className:"h-3 w-3 mr-1"}),"Failed"]});case"never_run":return a.jsxs("span",{className:"px-3 py-1 bg-yellow-900/40 text-yellow-300 rounded-full text-sm flex items-center",children:[a.jsx(Tt,{className:"h-3 w-3 mr-1"}),"Never Run"]});default:return a.jsx("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm",children:"Unknown"})}},V3=({usersCount:e,articlesCount:t,systemStatus:r,onRefresh:n})=>a.jsxs(O.div,{className:"space-y-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:e})]}),a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Total Articles"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:t})]}),a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Last Aggregation"}),a.jsx("p",{className:"text-xl font-bold text-white",children:r!=null&&r.last_run?pt(new Date(r.last_run),"MMM dd, yyyy HH:mm"):"Never"}),(r==null?void 0:r.last_run)&&a.jsx("p",{className:"text-sm text-gray-400",children:No(new Date(r.last_run),{addSuffix:!0})})]})]}),a.jsx("div",{children:a.jsx(Ev,{status:r,onRefresh:n})})]}),U3=({initialUsers:e,loading:t})=>{const[r,n]=x.useState(e||[]),[s,i]=x.useState(t||!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState({}),[f,p]=x.useState(null),[v,w]=x.useState(!1);x.useEffect(()=>{e?n(e):j()},[e]),x.useEffect(()=>{r.length>0&&m()},[r]);const j=async()=>{try{i(!0),l(null);const{data:_,error:k}=await M.from("profiles").select("*").order("created_at",{ascending:!1});if(k)throw console.error("Error fetching users:",k),l(`Error fetching users: ${k.message}`),k;n(_||[]),console.log(`Fetched ${(_==null?void 0:_.length)||0} users`)}catch(_){const k=_ instanceof Error?_.message:"An unknown error occurred";l(k),console.error("Error in fetchUsers:",_)}finally{i(!1)}},m=async()=>{const _={};try{const k=r.slice(0,10);for(const C of k){const N=await Kt.getUserBookmarks(C.id,!1),E=await Gt.getUserHistory(C.id,100,!1);_[C.id]={bookmarks:N.length,history:E.length}}h(_)}catch(k){console.error("Error fetching user stats:",k)}},y=async()=>{u(!0),await j(),await m(),u(!1)},g=_=>{p(_),w(!0)},b=async _=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{i(!0);const{error:k}=await M.rpc("delete_user",{user_id:_});if(k)throw k;n(r.filter(C=>C.id!==_))}catch(k){console.error("Error deleting user:",k),alert("Failed to delete user. Please try again.")}finally{i(!1)}},S=async _=>{console.log("Edit user:",_)};return s?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"User Management"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("p",{className:"text-gray-400",children:["Total: ",r.length," users"]}),a.jsx("button",{onClick:y,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",disabled:c,title:"Refresh user list",children:a.jsx(J,{className:`h-4 w-4 text-gray-300 ${c?"animate-spin":""}`})})]})]}),o&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-red-300",children:[a.jsx("h3",{className:"font-medium mb-1",children:"Error"}),a.jsx("p",{children:o})]}),r.length===0&&!s?a.jsx("div",{className:"text-center py-10 bg-gray-800/50 rounded-lg",children:a.jsx("p",{className:"text-gray-400",children:"No users found."})}):a.jsx(O.div,{className:"overflow-x-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-900/30",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Login"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map(_=>{var k;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center mr-3",children:_.avatar_url?a.jsx("img",{src:_.avatar_url,alt:"",className:"h-10 w-10 rounded-full"}):a.jsx("span",{className:"text-white font-medium",children:((k=_.username)==null?void 0:k[0])||"U"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:_.username}),a.jsx("div",{className:"text-xs text-gray-400",children:_.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.role==="admin"?"bg-purple-900/40 text-purple-300":"bg-blue-900/40 text-blue-300"}`,children:_.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:_.created_at?new Date(_.created_at).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:_.last_login?new Date(_.last_login).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex space-x-3 text-xs",children:d[_.id]?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"flex items-center text-blue-300",children:[a.jsx(Ei,{className:"h-3.5 w-3.5 mr-1"}),d[_.id].bookmarks]}),a.jsxs("span",{className:"flex items-center text-gray-400",children:[a.jsx(Ve,{className:"h-3.5 w-3.5 mr-1"}),d[_.id].history]})]}):a.jsx("span",{className:"text-gray-500",children:"Loading..."})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"View User Data",onClick:()=>g(_),children:a.jsx(Vd,{className:"h-4 w-4 text-gray-400"})}),a.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"Edit User",onClick:()=>S(_.id),children:a.jsx(Fy,{className:"h-4 w-4 text-gray-400"})}),a.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"Delete User",onClick:()=>b(_.id),children:a.jsx(zd,{className:"h-4 w-4 text-gray-400"})})]})})]},_.id)})})]})}),v&&f&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-3xl w-full max-h-[80vh] overflow-auto",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["User Details: ",f.username]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{children:"This feature is not fully implemented in the demo."}),a.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded-lg",onClick:()=>w(!1),children:"Close"})]})]})})]})},B3=({articlesCount:e})=>a.jsxs(O.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Articles Management"}),a.jsxs("p",{className:"text-gray-400",children:["Total: ",e]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:"Article management is available through Supabase directly."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Supabase provides a powerful interface for managing database records, including filtering, sorting, and bulk operations that are perfect for content management."})]})]}),z3=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState("all"),[o,l]=x.useState(!1),[c,u]=x.useState(null);x.useEffect(()=>{d()},[s]);const d=async()=>{try{n(!0),u(null);const v={};s==="success"?v.status="success":s==="error"?v.status="error":s==="scheduled"&&(v.type="scheduled_aggregation");const w=await st.getAggregationLogs(v);t(w)}catch(v){console.error("Error fetching aggregation logs:",v),u(v instanceof Error?v.message:"Failed to fetch logs")}finally{n(!1)}},h=async()=>{l(!0),await d(),l(!1)},f=v=>{switch(v){case"success":return a.jsx(Oe,{className:"h-4 w-4 text-green-400"});case"error":return a.jsx(rl,{className:"h-4 w-4 text-red-400"});case"running":return a.jsx(J,{className:"h-4 w-4 text-blue-400 animate-spin"});case"skipped":return a.jsx(Ve,{className:"h-4 w-4 text-yellow-400"});default:return a.jsx(Ve,{className:"h-4 w-4 text-gray-400"})}},p=v=>{if(!v.details)return"No details available";const w=v.details;switch(v.event_type){case"aggregation":return v.status==="success"?`${w.count||w.articles_count||0} articles added`:w.error||"Error during aggregation";case"crypto_aggregation":return v.status==="success"?`${w.count||0} crypto articles added`:w.error||"Error during crypto aggregation";case"scheduled_aggregation":if(v.status==="success"){const j=w.generalNewsCount||0,m=w.cryptoNewsCount||0;return`Scheduled: ${j+m} articles added (${j} general, ${m} crypto)`}else return v.status==="skipped"?`Scheduled run skipped: ${w.reason}`:w.error||"Error during scheduled aggregation";case"schedule_update":return`Schedule updated: ${w.frequency||"unknown frequency"}, ${w.enabled?"enabled":"disabled"}`;case"migration":return`Migration: ${w.migration||"unknown migration"}`;case"system_migration":return w.message||"System migration";default:return typeof w=="object"?Object.entries(w).map(([j,m])=>`${j}: ${m}`).join(", "):String(w)}};return a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Aggregation Logs"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>i("all"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="all"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"All"}),a.jsx("button",{onClick:()=>i("success"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="success"?"bg-green-900/40 text-green-300":"text-gray-400 hover:text-white"}`,children:"Success"}),a.jsx("button",{onClick:()=>i("error"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="error"?"bg-red-900/40 text-red-300":"text-gray-400 hover:text-white"}`,children:"Errors"}),a.jsx("button",{onClick:()=>i("scheduled"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="scheduled"?"bg-blue-900/40 text-blue-300":"text-gray-400 hover:text-white"}`,children:"Scheduled"})]}),a.jsx("button",{onClick:h,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",disabled:o||r,title:"Refresh logs",children:a.jsx(J,{className:`h-4 w-4 text-gray-300 ${o?"animate-spin":""}`})})]})]}),c&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-4 text-red-300",children:[a.jsx("h3",{className:"font-medium mb-1",children:"Error"}),a.jsx("p",{children:c})]}),r&&!o?a.jsx("div",{className:"flex justify-center py-6",children:a.jsx(J,{className:"h-6 w-6 text-blue-500 animate-spin"})}):e.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No logs found"}):a.jsx(O.div,{className:"overflow-x-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-900/30",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Event"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Time"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Details"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:e.map(v=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:f(v.status)})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-white capitalize",children:v.event_type==="scheduled_aggregation"?a.jsxs("span",{className:"flex items-center",children:[a.jsx(It,{className:"h-4 w-4 mr-1 text-blue-400"}),"scheduled"]}):v.event_type.replace(/_/g," ")})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-400",children:pt(rn(v.created_at),"MMM dd, HH:mm:ss")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:v.status==="success"?a.jsx("span",{children:p(v)}):a.jsx("span",{className:"text-red-400",children:p(v)})})]},v.id))})]})})]})},W3=({systemStatus:e,onRefresh:t})=>a.jsxs(O.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsx("div",{children:a.jsx(Ev,{status:e,onRefresh:t})}),a.jsx(z3,{}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"API Configuration"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"NewsAPI.org API Key"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:"efc7d919e7af413ba5a7f4a3ebdb3862",readOnly:!0,className:"flex-1 bg-gray-800 border border-gray-700 rounded-l-lg px-3 py-2 text-gray-300"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r-lg",children:"Update"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Edge Function URL: https://yvprahxaturmpzcdzddb.supabase.co/functions/v1/aggregate-news"})]})})]})]}),H3=({onUpdate:e})=>{const[t,r]=x.useState(!0),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState("15min"),[u,d]=x.useState(!1),[h,f]=x.useState(!1),[p,v]=x.useState(null),[w,j]=x.useState(null),m=[{value:"15min",label:"Every 15 minutes"},{value:"30min",label:"Every 30 minutes"},{value:"1hour",label:"Every hour"},{value:"3hours",label:"Every 3 hours"},{value:"6hours",label:"Every 6 hours"},{value:"12hours",label:"Every 12 hours"},{value:"24hours",label:"Once a day"}];x.useEffect(()=>{y()},[]);const y=async()=>{try{r(!0),v(null);const S=await st.getSchedule();S&&(s(S),o(S.enabled),c(S.frequency||"15min"));const _=await st.getAggregationLogs({limit:10,type:"scheduled_aggregation"});if(_.length>0){const k=_.find(C=>C.status==="success");k&&j(k.created_at)}}catch(S){console.error("Error fetching schedule:",S),v(S instanceof Error?S.message:"Failed to fetch schedule")}finally{r(!1)}},g=S=>{const _=new Date;switch(S){case"15min":return Ia(_,15).toISOString();case"30min":return Ia(_,30).toISOString();case"1hour":return Ts(_,1).toISOString();case"3hours":return Ts(_,3).toISOString();case"6hours":return Ts(_,6).toISOString();case"12hours":return Ts(_,12).toISOString();case"24hours":return Ts(_,24).toISOString();default:return Ia(_,15).toISOString()}},b=async()=>{try{d(!0),v(null);const S={enabled:i,frequency:l,next_scheduled:i?g(l):null};await st.updateSchedule(S),await y(),e(),f(!0),setTimeout(()=>f(!1),3e3)}catch(S){console.error("Error updating schedule:",S),v(S instanceof Error?S.message:"Failed to update schedule")}finally{d(!1)}};return t?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(J,{className:"h-6 w-6 text-blue-500 animate-spin"})}):a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg space-y-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Aggregation Schedule"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable Scheduled Aggregation"}),a.jsx("button",{onClick:()=>o(!i),className:`relative inline-flex h-6 w-11 items-center rounded-full ${i?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${i?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Aggregation Frequency"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:m.map(S=>a.jsxs("button",{onClick:()=>c(S.value),disabled:!i,className:`flex justify-between items-center w-full p-3 rounded-lg transition-colors ${i?l===S.value?"bg-blue-900/40 border-blue-500/70 text-blue-200 border":"bg-gray-800/40 border border-gray-700 text-gray-300 hover:bg-gray-700/70":"bg-gray-800/40 text-gray-500 cursor-not-allowed border border-gray-700/50"}`,children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ve,{className:"h-4 w-4 mr-2"}),S.label]}),l===S.value&&i&&a.jsx(Oe,{className:"h-4 w-4"})]},S.value))})]}),w&&a.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center text-gray-300 mb-2",children:[a.jsx(Ve,{className:"h-4 w-4 mr-2 text-green-400"}),a.jsx("span",{className:"text-sm font-medium",children:"Last Automated Run"})]}),a.jsx("p",{className:"text-white",children:pt(rn(w),"MMM dd, yyyy HH:mm:ss")})]}),i&&(n==null?void 0:n.next_scheduled)&&a.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center text-gray-300 mb-2",children:[a.jsx(It,{className:"h-4 w-4 mr-2 text-blue-400"}),a.jsx("span",{className:"text-sm font-medium",children:"Next Scheduled Run"})]}),a.jsx("p",{className:"text-lg text-white",children:pt(rn(n.next_scheduled),"MMM dd, yyyy HH:mm:ss")})]}),p&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{children:p})]}),a.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-md p-3 text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-2",children:"About Automated Aggregation:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"Articles will be automatically fetched according to the schedule you set"}),a.jsx("li",{children:"The system will automatically adjust for rate limits to avoid API issues"}),a.jsx("li",{children:"Each automated run fetches a small batch of articles to stay within API limits"}),a.jsx("li",{children:"The schedule works with Supabase's built-in cron scheduler"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[a.jsx("button",{onClick:b,disabled:u,className:`px-4 py-2 rounded-lg flex items-center ${u?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:u?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsx(a.Fragment,{children:"Save Schedule"})}),h&&a.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 text-sm text-green-400 flex items-center",children:[a.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Schedule saved successfully"]})]})]})]})},q3=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),i(null);const{data:b,error:S}=await M.from("system_settings").select("coindesk_enabled, coindesk_api_key, coindesk_last_run, coindesk_rate_limited").eq("id","aggregation_status").single();if(S)throw S;l({enabled:b.coindesk_enabled||!1,api_key:b.coindesk_api_key||"",last_run:b.coindesk_last_run,rate_limited:b.coindesk_rate_limited||!1})}catch(b){console.error("Error fetching CoinDesk settings:",b),i(b instanceof Error?b.message:"Failed to load CoinDesk settings")}finally{t(!1)}},m=async()=>{try{n(!0),i(null),await st.updateCoindeskSettings({enabled:o.enabled,api_key:o.api_key}),h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(b){console.error("Error saving CoinDesk settings:",b),i(b instanceof Error?b.message:"Failed to save settings")}finally{n(!1)}},y=()=>{l(b=>({...b,enabled:!b.enabled}))},g=async()=>{try{p(!0),i(null),w(null);const b=await st.triggerCoindeskAggregation();w(b),await j()}catch(b){console.error("Error running CoinDesk aggregation:",b),i(b instanceof Error?b.message:"Failed to run CoinDesk aggregation")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"CoinDesk API Configuration"}),a.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:a.jsx(J,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"CoinDesk settings saved successfully"]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700/50",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable CoinDesk API"}),a.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"CoinDesk API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:b=>l(S=>({...S,api_key:b.target.value})),placeholder:"Enter your CoinDesk API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),a.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?a.jsx(Ud,{className:"h-5 w-5"}):a.jsx(Mr,{className:"h-5 w-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Required to use the CoinDesk API. You can get a key by signing up at"," ",a.jsx("a",{href:"https://api.coindesk.com/sign-up",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"api.coindesk.com"})]})]}),o.last_run&&a.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",a.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&a.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 24 hours."]})]}),a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"About the CoinDesk API"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[a.jsx("li",{children:"The CoinDesk API has strict rate limits for free accounts"}),a.jsx("li",{children:"Rate limits are typically 10 requests per day"}),a.jsx("li",{children:"If rate limited, the system will automatically disable requests for 24 hours"}),a.jsx("li",{children:"Enable this option only if you have a valid API key"})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx("button",{onClick:m,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),a.jsx("button",{onClick:g,disabled:f||!o.enabled||!o.api_key||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||!o.api_key||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2"}),"Run CoinDesk Aggregation"]})})]})]})}),v&&a.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),a.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?a.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from CoinDesk"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added from CoinDesk"}),v.status==="skipped"&&a.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[a.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),a.jsx("p",{className:"text-sm mt-1",children:v.reason||"CoinDesk API is disabled in system settings"})]}),v.error&&a.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},K3=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),i(null);const{data:b,error:S}=await M.from("system_settings").select("cryptopanic_enabled, cryptopanic_api_key, cryptopanic_last_run, cryptopanic_rate_limited").eq("id","aggregation_status").single();if(S)throw S;l({enabled:b.cryptopanic_enabled||!1,api_key:b.cryptopanic_api_key||"",last_run:b.cryptopanic_last_run,rate_limited:b.cryptopanic_rate_limited||!1})}catch(b){console.error("Error fetching CryptoPanic settings:",b),i(b instanceof Error?b.message:"Failed to load CryptoPanic settings")}finally{t(!1)}},m=async()=>{try{n(!0),i(null);const{error:b}=await M.from("system_settings").update({cryptopanic_enabled:o.enabled,cryptopanic_api_key:o.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status");if(b)throw b;h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(b){console.error("Error saving CryptoPanic settings:",b),i(b instanceof Error?b.message:"Failed to save settings")}finally{n(!1)}},y=()=>{l(b=>({...b,enabled:!b.enabled}))},g=async()=>{try{p(!0),i(null),w(null);const b=await st.triggerCryptoPanicAggregation();w(b),await j()}catch(b){console.error("Error running CryptoPanic aggregation:",b),i(b instanceof Error?b.message:"Failed to run CryptoPanic aggregation")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"CryptoPanic API Configuration"}),a.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:a.jsx(J,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"CryptoPanic settings saved successfully"]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700/50",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable CryptoPanic API"}),a.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"CryptoPanic API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:b=>l(S=>({...S,api_key:b.target.value})),placeholder:"Enter your CryptoPanic API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),a.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?a.jsx(Ud,{className:"h-5 w-5"}):a.jsx(Mr,{className:"h-5 w-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Required to use the CryptoPanic API. You can get a key by signing up at"," ",a.jsx("a",{href:"https://cryptopanic.com/developers/api/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"cryptopanic.com/developers/api"})]})]}),o.last_run&&a.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",a.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&a.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 1 hour."]})]}),a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"About the CryptoPanic API"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[a.jsx("li",{children:"Free API tier has rate limits of 5 requests per second"}),a.jsx("li",{children:"PRO API tier has higher rate limits of 10 requests per second"}),a.jsx("li",{children:"If rate limited, the system will automatically disable requests for 1 hour"}),a.jsx("li",{children:"The API provides trending cryptocurrency news from multiple sources"})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx("button",{onClick:m,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),a.jsx("button",{onClick:g,disabled:f||!o.enabled||!o.api_key||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||!o.api_key||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2"}),"Run CryptoPanic Aggregation"]})})]})]})}),v&&a.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),a.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?a.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from CryptoPanic"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added from CryptoPanic"}),v.status==="skipped"&&a.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[a.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),a.jsx("p",{className:"text-sm mt-1",children:v.reason||"CryptoPanic API is disabled in system settings"})]}),v.error&&a.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},G3=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),i(null);const{data:b,error:S}=await M.from("system_settings").select("firecrawl_enabled, firecrawl_api_key, firecrawl_last_run, firecrawl_rate_limited").eq("id","aggregation_status").single();if(S)throw S;l({enabled:b.firecrawl_enabled||!1,api_key:b.firecrawl_api_key||"",last_run:b.firecrawl_last_run,rate_limited:b.firecrawl_rate_limited||!1})}catch(b){console.error("Error fetching FireCrawl settings:",b),i(b instanceof Error?b.message:"Failed to load FireCrawl settings")}finally{t(!1)}},m=async()=>{try{n(!0),i(null),await st.updateFireCrawlSettings({enabled:o.enabled,api_key:o.api_key}),h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(b){console.error("Error saving FireCrawl settings:",b),i(b instanceof Error?b.message:"Failed to save settings")}finally{n(!1)}},y=()=>{l(b=>({...b,enabled:!b.enabled}))},g=async()=>{try{p(!0),i(null),w(null);const b=await st.triggerFireCrawlAggregation();w(b),await j()}catch(b){console.error("Error running FireCrawl aggregation:",b),i(b instanceof Error?b.message:"Failed to run FireCrawl aggregation")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"FireCrawl API Configuration"}),a.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:a.jsx(J,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"FireCrawl settings saved successfully"]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700/50",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable FireCrawl API"}),a.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"FireCrawl API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:b=>l(S=>({...S,api_key:b.target.value})),placeholder:"Enter your FireCrawl API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),a.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?a.jsx(Ud,{className:"h-5 w-5"}):a.jsx(Mr,{className:"h-5 w-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Default key is provided, but for production use, get your own key from"," ",a.jsx("a",{href:"https://firecrawl.dev",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"firecrawl.dev"})]})]}),o.last_run&&a.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",a.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&a.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 1 hour."]})]}),a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"About FireCrawl"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[a.jsx("li",{children:"Crawls multiple crypto news sources including Tree of Alpha and TradingView"}),a.jsx("li",{children:"Extracts structured news data from web pages"}),a.jsx("li",{children:"Automatically runs every 15 minutes to keep your feed updated"}),a.jsx("li",{children:"Focuses on Bitcoin, Ethereum, Solana, TON, and XRP news"})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx("button",{onClick:m,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),a.jsx("button",{onClick:g,disabled:f||!o.enabled||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2"}),"Run FireCrawl Aggregation"]})})]})]})}),v&&a.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),a.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?a.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from FireCrawl"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added from FireCrawl"}),v.status==="skipped"&&a.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[a.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),a.jsx("p",{className:"text-sm mt-1",children:v.reason||"FireCrawl API is disabled in system settings"})]}),v.error&&a.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},Y3=()=>{const[e,t]=x.useState("SophIQ"),[r,n]=x.useState("all"),[s,i]=x.useState(!1),[o,l]=x.useState(!1),c=()=>{i(!0),setTimeout(()=>{i(!1),alert("Settings saved successfully")},1e3)},u=()=>{l(!0)},d=()=>{alert("This feature is not implemented in the demo"),l(!1)};return a.jsxs(O.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(q3,{}),a.jsx(K3,{}),a.jsx(G3,{})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"System Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Site Name"}),a.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Default User Preferences"}),a.jsxs("select",{value:r,onChange:h=>n(h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"business",children:"Business"}),a.jsx("option",{value:"technology",children:"Technology"}),a.jsx("option",{value:"web3",children:"Web3"})]})]}),a.jsx("button",{onClick:c,disabled:s,className:`px-4 py-2 ${s?"bg-blue-700/60 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white rounded-lg transition-colors`,children:s?"Saving...":"Save Settings"})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Danger Zone"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 border border-red-800/30 rounded-lg bg-red-900/20",children:[a.jsx("h4",{className:"text-red-300 font-medium mb-2",children:"Clear All Articles"}),a.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"This will permanently delete all articles from the database. This action cannot be undone."}),o?a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Delete"}),a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]}):a.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear Articles"})]})})]})]})},Q3=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState({name:"",url:"",type:"rss",article_limit:50}),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(!1),[j,m]=x.useState(null);x.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0),i(null);const{data:N,error:E}=await M.from("crypto_crawl_sites").select("*").order("name");if(E)throw E;t(N||[])}catch(N){console.error("Error fetching crypto sources:",N),i(N instanceof Error?N.message:"Failed to fetch sources")}finally{n(!1)}},g=N=>{l({...N})},b=()=>{l(null)},S=async()=>{if(o)try{n(!0),i(null);const{error:N}=await M.from("crypto_crawl_sites").update({name:o.name,url:o.url,type:o.type,article_limit:o.article_limit,updated_at:new Date().toISOString()}).eq("id",o.id);if(N)throw N;await y(),l(null),p(!0),setTimeout(()=>p(!1),3e3)}catch(N){console.error("Error updating source:",N),i(N instanceof Error?N.message:"Failed to update source")}finally{n(!1)}},_=async N=>{if(window.confirm("Are you sure you want to delete this source?"))try{n(!0),i(null);const{error:E}=await M.from("crypto_crawl_sites").delete().eq("id",N);if(E)throw E;await y()}catch(E){console.error("Error deleting source:",E),i(E instanceof Error?E.message:"Failed to delete source")}finally{n(!1)}},k=async()=>{var N,E,P;try{if(n(!0),i(null),!((N=c.name)!=null&&N.trim())||!((E=c.url)!=null&&E.trim())||!((P=c.type)!=null&&P.trim())){i("Name, URL, and type are required"),n(!1);return}const{error:A}=await M.from("crypto_crawl_sites").insert({name:c.name.trim(),url:c.url.trim(),type:c.type,article_limit:c.article_limit||50});if(A)throw A;u({name:"",url:"",type:"rss",article_limit:50}),h(!1),await y(),p(!0),setTimeout(()=>p(!1),3e3)}catch(A){console.error("Error adding source:",A),i(A instanceof Error?A.message:"Failed to add source")}finally{n(!1)}},C=async()=>{try{w(!0),i(null),m(null);const N=await st.triggerCryptoAggregation();m(N)}catch(N){console.error("Error running crypto aggregation:",N),i(N instanceof Error?N.message:"Failed to run crypto aggregation")}finally{w(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Crypto News Sources"}),a.jsx("div",{className:"flex space-x-3",children:a.jsx("button",{onClick:y,disabled:r,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh sources",children:a.jsx(J,{className:`h-4 w-4 text-gray-300 ${r?"animate-spin":""}`})})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),f&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"Changes saved successfully"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-gray-900/30 border-b border-gray-700/50 flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium text-white",children:"Configured Sources"}),a.jsx("button",{onClick:()=>h(!d),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:d?a.jsxs(a.Fragment,{children:[a.jsx(as,{className:"h-4 w-4 mr-1"}),"Cancel"]}):a.jsxs(a.Fragment,{children:[a.jsx(mo,{className:"h-4 w-4 mr-1"}),"Add Source"]})})]}),d&&a.jsxs("div",{className:"p-4 border-b border-gray-700/50 bg-gray-800/30",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Add New Source"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:c.name||"",onChange:N=>u({...c,name:N.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",placeholder:"CoinDesk"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Type"}),a.jsxs("select",{value:c.type||"rss",onChange:N=>u({...c,type:N.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",children:[a.jsx("option",{value:"rss",children:"RSS Feed"}),a.jsx("option",{value:"api",children:"API"}),a.jsx("option",{value:"html",children:"HTML Scraper"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"URL"}),a.jsx("input",{type:"text",value:c.url||"",onChange:N=>u({...c,url:N.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",placeholder:"https://example.com/rss"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Limit"}),a.jsx("input",{type:"number",value:c.article_limit||50,onChange:N=>u({...c,article_limit:parseInt(N.target.value)}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",min:"1",max:"100"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:k,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[r?a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(mo,{className:"h-4 w-4 mr-2"}),"Add Source"]})})]}),r&&e.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Loading sources..."})]}):e.length===0?a.jsx("div",{className:"p-6 text-center text-gray-400",children:"No sources configured yet. Add your first source to get started."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-900/40",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"URL"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Limit"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:e.map(N=>a.jsx("tr",{children:(o==null?void 0:o.id)===N.id?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("input",{type:"text",value:o.name,onChange:E=>l({...o,name:E.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsxs("select",{value:o.type,onChange:E=>l({...o,type:E.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white",children:[a.jsx("option",{value:"rss",children:"RSS Feed"}),a.jsx("option",{value:"api",children:"API"}),a.jsx("option",{value:"html",children:"HTML Scraper"})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"text",value:o.url,onChange:E=>l({...o,url:E.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("input",{type:"number",value:o.article_limit,onChange:E=>l({...o,article_limit:parseInt(E.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white",min:"1",max:"100"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:S,className:"p-1 rounded text-green-400 hover:bg-gray-700",title:"Save",children:a.jsx(Oe,{className:"h-5 w-5"})}),a.jsx("button",{onClick:b,className:"p-1 rounded text-red-400 hover:bg-gray-700",title:"Cancel",children:a.jsx(as,{className:"h-5 w-5"})})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-white",children:N.name})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-700",children:N.type})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:a.jsx("div",{className:"max-w-xs truncate",children:N.url})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300",children:N.article_limit}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>g(N),className:"p-1 rounded text-blue-400 hover:bg-gray-700",title:"Edit",children:a.jsx(Fy,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>_(N.id),className:"p-1 rounded text-red-400 hover:bg-gray-700",title:"Delete",children:a.jsx(s2,{className:"h-5 w-5"})})]})})]})},N.id))})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 p-6",children:[a.jsxs("h3",{className:"font-medium text-white mb-4 flex items-center",children:[a.jsx(Vd,{className:"h-5 w-5 mr-2 text-blue-400"}),"Crypto News Aggregation"]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Manually trigger the crypto news aggregation process to fetch the latest articles from all configured sources."}),a.jsx("button",{onClick:C,disabled:v,className:`px-4 py-2 rounded-lg flex items-center ${v?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:v?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2 animate-spin"}),"Fetching crypto news..."]}):a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"h-4 w-4 mr-2"}),"Run Crypto Aggregation Now"]})}),j&&a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-800/70 border border-gray-700/30 rounded-lg text-sm",children:[a.jsx("h4",{className:"font-medium text-white mb-2",children:"Aggregation Results"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-gray-300",children:j.message}),j.count>0?a.jsxs("p",{className:"text-green-400",children:["Added ",j.count," new articles"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added"}),j.sources&&Object.keys(j.sources).length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 mt-2 mb-1",children:"Articles by source:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(j.sources).map(([N,E])=>a.jsxs("div",{className:"bg-gray-900/40 px-3 py-1 rounded-md text-xs flex justify-between",children:[a.jsx("span",{children:N}),a.jsx("span",{className:"text-blue-400",children:E})]},N))})]}),j.errors&&j.errors.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-red-400",children:"Errors:"}),a.jsx("div",{className:"bg-red-900/20 p-2 rounded-md text-red-300 mt-1 text-xs",children:j.errors.map((N,E)=>a.jsxs("div",{className:"mb-1 last:mb-0",children:[N.source,": ",N.error]},E))})]})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 p-6",children:[a.jsx("h3",{className:"font-medium text-white mb-4",children:"About Crypto News Aggregation"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[a.jsx("p",{children:"The crypto news aggregator fetches articles from RSS feeds of popular cryptocurrency news sites."}),a.jsx("p",{children:"Features of the aggregation system:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-400",children:[a.jsx("li",{children:"Automatically runs with the scheduled aggregation every 15 minutes"}),a.jsx("li",{children:"Fetches from multiple sources in a single run"}),a.jsx("li",{children:"Deduplicates articles to avoid storing the same article twice"}),a.jsx("li",{children:"Extracts metadata like images, tags, and publication dates"}),a.jsx("li",{children:"Categorizes articles based on content"})]}),a.jsxs("div",{className:"bg-blue-900/30 border border-blue-700/30 rounded-md p-3 flex items-start mt-2",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-300",children:"Supported RSS Types"}),a.jsx("p",{className:"mt-1 text-gray-300",children:"The system supports standard RSS feeds and Atom feeds. API integrations can be added for sources that provide structured data APIs."})]})]})]})]})]})]})]})},te={DASHBOARD:"dashboard",USERS:"users",ARTICLES:"articles",AGGREGATION:"aggregation",SCHEDULE:"schedule",CRYPTO:"crypto",SETTINGS:"settings"},X3=()=>{const{isAdmin:e,loading:t}=we(),[r,n]=x.useState(te.DASHBOARD),[s,i]=x.useState([]),[o,l]=x.useState(0),[c,u]=x.useState(!0),[d,h]=x.useState(null),[f,p]=x.useState(null);x.useEffect(()=>{e&&v()},[e,r]);async function v(){u(!0),p(null);try{const w=await st.getAggregationStatus();if(h(w),r===te.USERS||r===te.DASHBOARD){console.log("Fetching users for admin dashboard");const{data:j,error:m}=await M.from("profiles").select("*").order("created_at",{ascending:!1});if(m)throw console.error("Error fetching users:",m),p(`Error fetching users: ${m.message}`),m;i(j||[]),console.log(`Fetched ${(j==null?void 0:j.length)||0} users`)}if(r===te.ARTICLES||r===te.DASHBOARD){const{count:j,error:m}=await M.from("articles").select("*",{count:"exact",head:!0});if(m)throw console.error("Error counting articles:",m),p(`Error counting articles: ${m.message}`),m;l(j||0)}}catch(w){console.error("Error fetching admin data:",w instanceof Error?w.message:w),f||p("Error fetching admin data. Please try again.")}finally{u(!1)}}return t?a.jsx(vt,{}):e?a.jsxs("div",{className:"space-y-6",children:[a.jsx(O.h1,{className:"text-3xl font-bold text-white",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Admin Dashboard"}),f&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-red-300",children:[a.jsx("h3",{className:"font-medium mb-1",children:"Error"}),a.jsx("p",{children:f})]}),a.jsxs("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap text-sm font-medium text-center border-b border-gray-700",children:[a.jsx(Wr,{isActive:r===te.DASHBOARD,onClick:()=>n(te.DASHBOARD),icon:a.jsx(fo,{className:"h-4 w-4 mr-2"}),label:"Dashboard"}),a.jsx(Wr,{isActive:r===te.USERS,onClick:()=>n(te.USERS),icon:a.jsx(Wd,{className:"h-4 w-4 mr-2"}),label:"Users"}),a.jsx(Wr,{isActive:r===te.ARTICLES,onClick:()=>n(te.ARTICLES),icon:a.jsx(BS,{className:"h-4 w-4 mr-2"}),label:"Articles"}),a.jsx(Wr,{isActive:r===te.AGGREGATION,onClick:()=>n(te.AGGREGATION),icon:a.jsx(Ve,{className:"h-4 w-4 mr-2"}),label:"Manual"}),a.jsx(Wr,{isActive:r===te.SCHEDULE,onClick:()=>n(te.SCHEDULE),icon:a.jsx(It,{className:"h-4 w-4 mr-2"}),label:"Scheduler"}),a.jsx(Wr,{isActive:r===te.CRYPTO,onClick:()=>n(te.CRYPTO),icon:a.jsx(Vd,{className:"h-4 w-4 mr-2"}),label:"Crypto News"}),a.jsx(Wr,{isActive:r===te.SETTINGS,onClick:()=>n(te.SETTINGS),icon:a.jsx(po,{className:"h-4 w-4 mr-2"}),label:"Settings"})]}),a.jsx("div",{className:"p-6",children:c?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):a.jsxs(a.Fragment,{children:[r===te.DASHBOARD&&a.jsx(V3,{usersCount:s.length,articlesCount:o,systemStatus:d,onRefresh:v}),r===te.USERS&&a.jsx(U3,{initialUsers:s}),r===te.ARTICLES&&a.jsx(B3,{articlesCount:o}),r===te.AGGREGATION&&a.jsx(W3,{systemStatus:d,onRefresh:v}),r===te.SCHEDULE&&a.jsx(H3,{onUpdate:v}),r===te.CRYPTO&&a.jsx(Q3,{}),r===te.SETTINGS&&a.jsx(Y3,{})]})})]})]}):a.jsx(rs,{to:"/dashboard",replace:!0})},Wr=({isActive:e,onClick:t,icon:r,label:n})=>a.jsxs("button",{onClick:t,className:`px-5 py-3 flex items-center ${e?"bg-blue-900/30 text-blue-400 border-b-2 border-blue-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-300"}`,children:[r,n]}),J3=({userId:e,onSaved:t})=>{const[r,n]=x.useState(null),[s,i]=x.useState(!0),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,h]=x.useState(!1),[f,p]=x.useState(""),[v,w]=x.useState(""),j=MS(),m=LS(),y=DS();x.useEffect(()=>{(async()=>{try{i(!0),u(null);const A=await is(e);n(A||_i(e))}catch(A){console.error("Error fetching user preferences:",A),u("Failed to load your preferences. Please try again.")}finally{i(!1)}})()},[e]);const g=()=>{var A;if(!f.trim()||!r)return;const P=f.trim().toLowerCase();if((A=r.keywords)!=null&&A.includes(P)){p("");return}n({...r,keywords:[...r.keywords||[],P]}),p("")},b=P=>{var A;r&&n({...r,keywords:((A=r.keywords)==null?void 0:A.filter(L=>L!==P))||[]})},S=()=>{var A;if(!v.trim()||!r)return;const P=v.trim().toLowerCase();if((A=r.excluded_keywords)!=null&&A.includes(P)){w("");return}n({...r,excluded_keywords:[...r.excluded_keywords||[],P]}),w("")},_=P=>{var A;r&&n({...r,excluded_keywords:((A=r.excluded_keywords)==null?void 0:A.filter(L=>L!==P))||[]})},k=P=>{if(!r)return;const A=r.categories||[];A.includes(P)?n({...r,categories:A.filter(L=>L!==P)}):n({...r,categories:[...A,P]})},C=P=>{if(!r)return;const A=r.sources||[];A.includes(P)?n({...r,sources:A.filter(L=>L!==P)}):n({...r,sources:[...A,P]})},N=P=>{if(!r)return;const A=r.languages||[];if(A.includes(P)){if(A.length<=1)return;n({...r,languages:A.filter(L=>L!==P)})}else n({...r,languages:[...A,P]})},E=async()=>{if(r)try{l(!0),u(null),h(!1);const P={...r,user_id:e};await Ni(P)?(RS(e),h(!0),setTimeout(()=>h(!1),3e3),t&&t()):u("Failed to save preferences. Please try again.")}catch(P){console.error("Error saving preferences:",P),u("An error occurred while saving your preferences.")}finally{l(!1)}};return s?a.jsx("div",{className:"flex justify-center py-6",children:a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):r?a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Keywords to Track"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:f,onChange:P=>p(P.target.value),placeholder:"e.g., Bitcoin, AI, Investment",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",onKeyDown:P=>P.key==="Enter"&&g()}),a.jsxs("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[a.jsx(mo,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.keywords&&r.keywords.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:r.keywords.map(P=>a.jsxs("div",{className:"bg-blue-900/40 px-3 py-1 rounded-full text-blue-200 text-sm flex items-center",children:[P,a.jsx("button",{onClick:()=>b(P),className:"ml-2 text-blue-300 hover:text-blue-100",children:a.jsx(as,{className:"h-3 w-3"})})]},P))}):a.jsx("p",{className:"text-sm text-gray-400",children:"No keywords added yet. Add keywords to track specific topics."})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Categories"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:j.map(P=>{var A,L;return a.jsxs("button",{onClick:()=>k(P.id),className:`p-3 rounded-lg border ${(A=r.categories)!=null&&A.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:P.name}),((L=r.categories)==null?void 0:L.includes(P.id))&&a.jsx(Oe,{className:"h-4 w-4"})]},P.id)})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Language Preferences"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select the languages you want to see articles in."}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:y.map(P=>{var A,L,B,X,le,ee;return a.jsxs("button",{onClick:()=>N(P.id),disabled:((A=r.languages)==null?void 0:A.length)===1&&((L=r.languages)==null?void 0:L.includes(P.id)),className:`p-3 rounded-lg border ${(B=r.languages)!=null&&B.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} ${((X=r.languages)==null?void 0:X.length)===1&&((le=r.languages)!=null&&le.includes(P.id))?"opacity-70 cursor-not-allowed":""} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:P.name}),((ee=r.languages)==null?void 0:ee.includes(P.id))&&a.jsx(Oe,{className:"h-4 w-4"})]},P.id)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"You must select at least one language."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"News Sources"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:m.map(P=>{var A,L;return a.jsxs("button",{onClick:()=>C(P.id),className:`p-3 rounded-lg border ${(A=r.sources)!=null&&A.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:P.name}),((L=r.sources)==null?void 0:L.includes(P.id))&&a.jsx(Oe,{className:"h-4 w-4"})]},P.id)})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Excluded Keywords"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:v,onChange:P=>w(P.target.value),placeholder:"e.g., Politics, Sports",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",onKeyDown:P=>P.key==="Enter"&&S()}),a.jsxs("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[a.jsx(mo,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.excluded_keywords&&r.excluded_keywords.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:r.excluded_keywords.map(P=>a.jsxs("div",{className:"bg-red-900/40 px-3 py-1 rounded-full text-red-200 text-sm flex items-center",children:[P,a.jsx("button",{onClick:()=>_(P),className:"ml-2 text-red-300 hover:text-red-100",children:a.jsx(as,{className:"h-3 w-3"})})]},P))}):a.jsx("p",{className:"text-sm text-gray-400",children:"No excluded keywords added yet. Add keywords you want to avoid seeing."})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-700 flex justify-between items-center",children:[a.jsx("button",{onClick:E,disabled:o,className:`px-6 py-2 rounded-lg flex items-center ${o?"bg-blue-700/50 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})}),c&&a.jsx("p",{className:"text-sm text-red-400",children:c}),d&&a.jsxs(O.p,{className:"text-sm text-green-400 flex items-center",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0},children:[a.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Preferences saved successfully"]})]})]}):a.jsx("div",{className:"text-center py-6 text-red-400",children:a.jsx("p",{children:"Failed to load preferences. Please refresh the page and try again."})})},Z3=()=>{const{user:e,loading:t}=we();return t?a.jsx("div",{className:"flex items-center justify-center min-h-[70vh]",children:a.jsx(vt,{})}):e?a.jsx("div",{className:"max-w-4xl mx-auto py-8",children:a.jsxs(O.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[a.jsx("div",{className:"p-3 bg-blue-900/30 rounded-lg",children:a.jsx(po,{className:"h-6 w-6 text-blue-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"News Preferences"})]}),a.jsxs("div",{className:"bg-gray-800/70 rounded-xl border border-gray-700/50 overflow-hidden shadow-lg",children:[a.jsxs("div",{className:"p-6 border-b border-gray-700/50",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Customize Your News Experience"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Adjust your preferences to get news that's relevant to you. These settings will be used to rank and prioritize articles in your feed."})]}),a.jsx("div",{className:"p-6",children:a.jsx(J3,{userId:e.id})})]})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please Sign In"}),a.jsx("p",{className:"text-gray-400",children:"You need to be logged in to view and edit your preferences."})]})},Ap=12,Rp=()=>{var C;const e=ar(),t=wt(),r=new URLSearchParams(e.search),[n,s]=x.useState([]),[i,o]=x.useState(!0),[l,c]=x.useState({category:r.get("category")||void 0,sortBy:r.get("sortBy")||"relevance",layout:r.get("layout")||"grid",timeFrame:r.get("timeFrame")||"all"}),[u,d]=x.useState(1),[h,f]=x.useState(!0),[p,v]=x.useState(0),[w,j]=x.useState(null),m=x.useRef(!1),y=x.useRef(l),g=ml();x.useEffect(()=>{y.current=l},[l]);const b=x.useCallback(Si(N=>{const E=new URLSearchParams;N.category&&E.set("category",N.category),N.sortBy&&E.set("sortBy",N.sortBy),N.layout&&E.set("layout",N.layout),N.timeFrame&&E.set("timeFrame",N.timeFrame),t(`${e.pathname}?${E.toString()}`,{replace:!0})},300),[t,e.pathname]);x.useEffect(()=>{b(l)},[l,b]);const S=x.useCallback(async()=>{if(!m.current){m.current=!0;try{o(!0),j(null);const E=(()=>{if(y.current.timeFrame==="all")return;const L=new Date;if(y.current.timeFrame==="day"){const B=new Date(L);return B.setDate(L.getDate()-1),B.toISOString()}else if(y.current.timeFrame==="week"){const B=new Date(L);return B.setDate(L.getDate()-7),B.toISOString()}else if(y.current.timeFrame==="month"){const B=new Date(L);return B.setMonth(L.getMonth()-1),B.toISOString()}})(),P=y.current.sortBy==="relevance"?"relevance_score":y.current.sortBy==="date"?"published_at":"source",A=await on({limit:Ap,category:y.current.category,sortBy:P,fromDate:E,page:u});s(u===1?A.articles:L=>[...L,...A.articles]),v(A.totalCount),f(A.articles.length===Ap)}catch(N){console.error("Error fetching articles:",N),j("Failed to load articles. Please try again.")}finally{o(!1),m.current=!1}}},[u]);x.useEffect(()=>{S()},[S]),x.useEffect(()=>{d(1)},[l]);const _=x.useCallback(Si(N=>{c(N)},300),[]),k=()=>{!i&&!m.current&&d(N=>N+1)};return a.jsxs("div",{className:"space-y-6",children:[w&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[w,a.jsx("button",{onClick:()=>S(),className:"ml-4 underline hover:text-red-200",children:"Retry"})]}),a.jsx(fl,{articles:n,loading:i,title:l.category?`${((C=g.find(N=>N.id===l.category))==null?void 0:C.name)||"Filtered"} Articles`:"All Articles",hasMore:h,loadMore:k,categories:g,onFilterChange:_,totalCount:p})]})},eP=()=>{var w;const{user:e}=we(),[t,r]=x.useState([]),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState({}),h=ml(),f=x.useCallback(async()=>{if(e){s(!0),o(null);try{const m=(await Kt.getUserBookmarks(e.id)).filter(g=>g.article).map(g=>g.article);r(m);const y={};m.forEach(g=>{y[g.category]=(y[g.category]||0)+1}),d(y)}catch(j){console.error("Error fetching bookmarks:",j),o("Failed to load your bookmarks")}finally{s(!1)}}},[e]);x.useEffect(()=>{f()},[f]);const p=async()=>{if(!(!e||!window.confirm("Are you sure you want to remove all your bookmarks?"))){s(!0);try{for(const j of t)await Kt.removeBookmark(e.id,j.id);r([]),d({})}catch(j){console.error("Error clearing bookmarks:",j),o("Failed to clear bookmarks")}finally{s(!1)}}},v=()=>l?t.filter(j=>j.category===l):t;return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[a.jsx(Ei,{className:"h-7 w-7 mr-3 text-blue-400"}),"Your Bookmarks"]}),t.length>0&&a.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-300 rounded-lg transition-colors",children:[a.jsx(zd,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),i&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[i,a.jsx("button",{onClick:f,className:"ml-4 underline hover:text-red-200",children:"Try Again"})]}),Object.keys(u).length>0&&a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>c(null),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${l===null?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(Bd,{className:"h-3.5 w-3.5 mr-2"}),"All Categories",a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-gray-700/70 rounded-md",children:t.length})]}),Object.entries(u).sort(([j,m],[y,g])=>g-m).map(([j,m])=>{var y;return a.jsxs("button",{onClick:()=>c(j),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l===j?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[((y=h.find(g=>g.id===j))==null?void 0:y.name)||j,a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-gray-700/70 rounded-md",children:m})]},j)})]}),n?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):t.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"No bookmarks yet"}),a.jsx("p",{className:"text-gray-400",children:"When you bookmark articles, they'll appear here for easy access."})]}):a.jsx(fl,{articles:v(),loading:!1,title:l?`${((w=h.find(j=>j.id===l))==null?void 0:w.name)||l} Bookmarks`:"",onArticleRemoved:f})]}):a.jsxs("div",{className:"py-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign in to see your bookmarks"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to view and manage your bookmarks."})]})},tP=()=>{const{user:e}=we(),{history:t,loading:r,error:n,fetchHistory:s,clearHistory:i}=ul(),[o,l]=x.useState({}),[c,u]=x.useState("all"),[d,h]=x.useState(null),[f,p]=x.useState(!1);x.useEffect(()=>{const m={};t.forEach(g=>{const b=new Date(g.viewed_at).toISOString().split("T")[0];m[b]||(m[b]=[]),m[b].push(g)});const y={};Object.keys(m).sort((g,b)=>b.localeCompare(g)).forEach(g=>{y[g]=m[g]}),l(y)},[t]),x.useEffect(()=>{e&&(async()=>await s(100))()},[e,c,s]);const v=x.useCallback(async()=>{!e||!window.confirm("Are you sure you want to clear your browsing history?")||await i()},[e,i]),w=m=>{h(m),p(!0)};if(!e)return a.jsxs("div",{className:"py-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign in to see your history"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to view your article history."})]});const j=m=>{const y=new Date(m.split("T")[0]),g=new Date,b=new Date;return b.setDate(b.getDate()-1),y.toDateString()===g.toDateString()?"Today":y.toDateString()===b.toDateString()?"Yesterday":pt(y,"MMMM d, yyyy")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[a.jsx(Ve,{className:"h-7 w-7 mr-3 text-blue-400"}),"Browsing History"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(o).length>0&&a.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-300 rounded-lg transition-colors",children:[a.jsx(zd,{className:"h-4 w-4 mr-2"}),"Clear History"]})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.jsxs("button",{onClick:()=>u("all"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="all"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(Bi,{className:"h-3.5 w-3.5 mr-2"}),"All Time"]}),a.jsxs("button",{onClick:()=>u("today"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="today"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(It,{className:"h-3.5 w-3.5 mr-2"}),"Today"]}),a.jsxs("button",{onClick:()=>u("week"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="week"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(It,{className:"h-3.5 w-3.5 mr-2"}),"This Week"]})]}),n&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[n,a.jsx("button",{onClick:()=>s(),className:"ml-4 underline hover:text-red-200",children:"Try Again"})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):Object.keys(o).length===0?a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"py-16 text-center",children:[a.jsx("div",{className:"mb-4 inline-flex p-4 bg-gray-800/50 rounded-full",children:a.jsx(zS,{className:"h-8 w-8 text-gray-500"})}),a.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"No browsing history"}),a.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Articles you view will appear here. Start exploring content to build your history."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(o).map(([m,y])=>a.jsxs("div",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:j(m)}),a.jsx("div",{className:"space-y-2",children:y.map(g=>a.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-800/70 border border-gray-700/50 rounded-lg p-4 hover:border-blue-500/30 transition-colors",children:g.article&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.article.image_url&&a.jsx("div",{className:"w-full sm:w-40 h-28 flex-shrink-0 overflow-hidden rounded-lg cursor-pointer",onClick:()=>w(g.article),children:a.jsx("img",{src:g.article.image_url,alt:g.article.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),a.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-1 hover:text-blue-400 transition-colors cursor-pointer",onClick:()=>w(g.article),children:g.article.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-gray-400 mb-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-700/60",children:g.article.category}),a.jsx("span",{children:g.article.source}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Viewed ",No(new Date(g.viewed_at),{addSuffix:!0})]}),g.view_duration&&a.jsxs("div",{className:"text-gray-500",children:[Math.floor(g.view_duration/60)>0?`${Math.floor(g.view_duration/60)}m ${g.view_duration%60}s`:`${g.view_duration}s`," view time"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(Pe,{to:`/dashboard/article/${g.article.id}`,className:"p-1.5 rounded-md hover:bg-gray-700/70 transition-colors text-gray-400 hover:text-white",children:a.jsx(Zo,{className:"h-4 w-4"})}),a.jsx(dl,{article:g.article})]})]})]})},g.id))})]},m))}),d&&a.jsx(hl,{article:d,isOpen:f,onClose:()=>p(!1)})]})},rP=({isOpen:e,onClose:t,categoryId:r,categoryName:n})=>{const[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(null),[d,h]=x.useState("date"),[f,p]=x.useState(null),[v,w]=x.useState(!1);x.useEffect(()=>{e&&r&&j()},[e,r,d]);const j=async()=>{try{l(!0),u(null);const g=await on({category:r,limit:12,sortBy:d==="relevance"?"relevance_score":"published_at"});i(g.articles)}catch(g){console.error("Error fetching category articles:",g),u("Failed to load articles for this category.")}finally{l(!1)}},m=g=>{p(g),w(!0)},y=()=>{w(!1),p(null)};return a.jsxs(a.Fragment,{children:[a.jsx(_v,{isOpen:e,onClose:t,size:"xl",title:`${n} Articles`,children:a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>h("date"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${d==="date"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Newest First"}),a.jsx("button",{onClick:()=>h("relevance"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${d==="relevance"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Relevance"})]}),o&&a.jsx(J,{className:"h-4 w-4 animate-spin text-blue-400"})]})}),c&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-sm text-red-300",children:[c,a.jsx("button",{onClick:j,className:"ml-2 underline hover:text-red-200",children:"Retry"})]}),o&&s.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):s.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-400",children:"No articles found in this category."})}):a.jsx(O.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.map((g,b)=>a.jsx("div",{onClick:()=>m(g),className:"cursor-pointer",children:a.jsx(Cv,{article:g,index:b,showRelevanceScore:d==="relevance"})},g.id))})]})}),f&&a.jsx(hl,{article:f,isOpen:v,onClose:y})]})},Dp={business:a.jsx($d,{className:"h-8 w-8 text-blue-400"}),technology:a.jsxs("svg",{className:"h-8 w-8 text-purple-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),a.jsx("polyline",{points:"15 3 21 3 21 9"}),a.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),science:a.jsx("svg",{className:"h-8 w-8 text-green-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),health:a.jsx("svg",{className:"h-8 w-8 text-red-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),stocks:a.jsxs("svg",{className:"h-8 w-8 text-green-500",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),a.jsx("polyline",{points:"16 7 22 7 22 13"})]}),web3:a.jsxs("svg",{className:"h-8 w-8 text-yellow-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),a.jsx("polyline",{points:"17 2 12 7 7 2"})]}),artificial_intelligence:a.jsx(pu,{className:"h-8 w-8 text-indigo-400"}),machine_learning:a.jsx(XS,{className:"h-8 w-8 text-blue-500"}),llm:a.jsx(Jo,{className:"h-8 w-8 text-purple-500"}),generative_ai:a.jsx(Iy,{className:"h-8 w-8 text-amber-400"}),ai_ethics:a.jsx(Bd,{className:"h-8 w-8 text-red-400"}),ai_research:a.jsx(US,{className:"h-8 w-8 text-cyan-400"}),general:a.jsx(Bi,{className:"h-8 w-8 text-gray-400"})},Mp={business:"from-blue-900/30 to-blue-700/20",technology:"from-purple-900/30 to-indigo-700/20",science:"from-green-900/30 to-emerald-700/20",health:"from-red-900/30 to-rose-700/20",stocks:"from-green-900/30 to-teal-700/20",web3:"from-yellow-900/30 to-amber-700/20",artificial_intelligence:"from-indigo-900/30 to-violet-700/20",machine_learning:"from-blue-900/30 to-cyan-700/20",llm:"from-purple-900/30 to-fuchsia-700/20",generative_ai:"from-amber-900/30 to-orange-700/20",ai_ethics:"from-red-900/30 to-pink-700/20",ai_research:"from-cyan-900/30 to-sky-700/20",general:"from-gray-800/50 to-gray-700/30"},nP=()=>{const e=wt(),{user:t,isAdmin:r}=we(),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState({}),[u,d]=x.useState([]),[h,f]=x.useState(!1),[p,v]=x.useState(null),w=ml(),j={aiCategories:w.filter(N=>["artificial_intelligence","machine_learning","llm","generative_ai","ai_ethics","ai_research"].includes(N.id)),mainCategories:w.filter(N=>!["artificial_intelligence","machine_learning","llm","generative_ai","ai_ethics","ai_research","general"].includes(N.id))};x.useEffect(()=>{g()},[]),x.useEffect(()=>{t&&(b(),r&&S())},[t,r]);const m=(N,E)=>{E.stopPropagation();const P=w.find(A=>A.id===N);P&&(v(P),f(!0))},y=N=>{e(`/dashboard/category/${N}`)},g=async()=>{try{s(!0),o(null);const N={};w.forEach(E=>{N[E.id]={count:0}});for(const E of w){const{count:P,error:A}=await M.from("articles").select("*",{count:"exact",head:!0}).eq("category",E.id);if(A){console.error(`Error fetching count for category ${E.id}:`,A);continue}N[E.id]={count:P||0}}c(N)}catch(N){console.error("Error fetching category data:",N),o("Failed to load categories. Please try again.")}finally{s(!1)}},b=async()=>{if(t)try{const{data:N,error:E}=await M.from("user_preferences").select("categories").eq("user_id",t.id).single();if(E&&E.code!=="PGRST116"){console.error("Error fetching user preferences:",E);return}N!=null&&N.categories&&d(N.categories);const P=await Kt.getBookmarkStatsByCategory(t.id),A=await Gt.getMostViewedCategories(t.id);c(L=>{const B={...L};return Object.entries(P).forEach(([X,le])=>{B[X]&&(B[X]={...B[X],bookmarkCount:le})}),Object.entries(A).forEach(([X,le])=>{B[X]&&(B[X]={...B[X],viewCount:le})}),B})}catch(N){console.error("Error fetching user category data:",N)}},S=async()=>{if(r)try{console.log("Admin would fetch additional analytics here")}catch(N){console.error("Error fetching admin category analytics:",N)}},_=N=>u.includes(N),k=N=>Dp[N]||Dp.general,C=N=>Mp[N]||Mp.general;return n?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(vt,{})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx(O.h1,{className:"text-3xl font-bold text-white mb-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"News Categories"}),a.jsx("p",{className:"text-gray-400",children:"Browse news articles by category to find content relevant to your interests."})]}),i&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[i,a.jsx("button",{onClick:g,className:"ml-4 underline hover:text-red-200",children:"Retry"})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center border-b border-gray-700 pb-2",children:[a.jsx(pu,{className:"h-6 w-6 mr-2 text-indigo-400"}),"AI & Machine Learning"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.aiCategories.map((N,E)=>{var P,A,L,B,X;return a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:E*.1},className:`bg-gradient-to-br ${C(N.id)} rounded-xl border border-gray-700/50 overflow-hidden hover:border-blue-500/30 transition-all shadow-lg`,onClick:()=>y(N.id),whileHover:{scale:1.02,transition:{duration:.2}},children:a.jsxs("div",{className:"p-6 h-full flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:k(N.id)}),t&&_(N.id)&&a.jsx("span",{className:"bg-blue-900/60 text-blue-300 px-3 py-1 rounded-full text-xs font-medium",children:"Preferred"})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:N.name}),a.jsxs("div",{className:"mt-auto pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:((P=l[N.id])==null?void 0:P.count)||0}),a.jsx("div",{className:"text-sm text-gray-400",children:"articles"})]}),t&&a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-4",children:[((A=l[N.id])==null?void 0:A.viewCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Mr,{className:"h-3 w-3 mr-1 text-gray-500"}),(L=l[N.id])==null?void 0:L.viewCount," views"]}),((B=l[N.id])==null?void 0:B.bookmarkCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ei,{className:"h-3 w-3 mr-1 text-blue-500"}),(X=l[N.id])==null?void 0:X.bookmarkCount," bookmarks"]})]}),a.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 text-white rounded-lg transition-colors text-sm",onClick:le=>m(N.id,le),children:["Browse ",N.name,a.jsx(Ci,{className:"ml-2 h-4 w-4"})]})]})]})},N.id)})})]}),a.jsxs("section",{className:"space-y-4 mt-8",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center border-b border-gray-700 pb-2",children:[a.jsx(Bi,{className:"h-6 w-6 mr-2 text-blue-400"}),"Other Categories"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.mainCategories.map((N,E)=>{var P,A,L,B,X;return a.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:E*.1},className:`bg-gradient-to-br ${C(N.id)} rounded-xl border border-gray-700/50 overflow-hidden hover:border-blue-500/30 transition-all shadow-lg`,onClick:()=>y(N.id),whileHover:{scale:1.02,transition:{duration:.2}},children:a.jsxs("div",{className:"p-6 h-full flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:k(N.id)}),t&&_(N.id)&&a.jsx("span",{className:"bg-blue-900/60 text-blue-300 px-3 py-1 rounded-full text-xs font-medium",children:"Preferred"})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:N.name}),a.jsxs("div",{className:"mt-auto pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:((P=l[N.id])==null?void 0:P.count)||0}),a.jsx("div",{className:"text-sm text-gray-400",children:"articles"})]}),t&&a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-4",children:[((A=l[N.id])==null?void 0:A.viewCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Mr,{className:"h-3 w-3 mr-1 text-gray-500"}),(L=l[N.id])==null?void 0:L.viewCount," views"]}),((B=l[N.id])==null?void 0:B.bookmarkCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ei,{className:"h-3 w-3 mr-1 text-blue-500"}),(X=l[N.id])==null?void 0:X.bookmarkCount," bookmarks"]})]}),a.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 text-white rounded-lg transition-colors text-sm",onClick:le=>m(N.id,le),children:["Browse ",N.name,a.jsx(Ci,{className:"ml-2 h-4 w-4"})]})]})]})},N.id)})})]}),a.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx(pu,{className:"h-6 w-6 mr-2 text-indigo-400"}),"Popular AI Topics"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:["gpt-4","chatgpt","llama","diffusion models","deep learning","computer vision","nlp","agi","ai ethics","transformers","neural networks","ai research","generative ai","multimodal ai","reinforcement learning","ai alignment","prompt engineering"].map((N,E)=>a.jsx(O.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.05},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm text-gray-300 transition-colors",onClick:()=>e(`/dashboard/search?q=${N}`),children:N},N))})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx($d,{className:"h-6 w-6 mr-2 text-blue-400"}),"Other Popular Topics"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:["blockchain","investment","startups","crypto","fintech","web development","climate","data science","remote work","funding"].map((N,E)=>a.jsx(O.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.05},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm text-gray-300 transition-colors",onClick:()=>e(`/dashboard/search?q=${N}`),children:N},N))})]}),p&&a.jsx(rP,{isOpen:h,onClose:()=>f(!1),categoryId:p.id,categoryName:p.name})]})},Lp=12,sP=()=>{const e=ar(),t=wt(),{user:r}=we(),[n,s]=x.useState(""),[i,o]=x.useState([]),[l,c]=x.useState(!1),[u,d]=x.useState(null),[h,f]=x.useState(0),[p,v]=x.useState(1),[w,j]=x.useState(!1),[m,y]=x.useState({category:void 0,sortBy:"relevance",layout:"grid"}),[g]=x.useState(ME());x.useEffect(()=>{const P=new URLSearchParams(e.search).get("q");P&&s(P)},[e.search]);const b=x.useCallback(Si(E=>{y(E),v(1)},300),[]);x.useEffect(()=>{if(!n.trim())return;(async()=>{try{c(!0),d(null);const P=await xv(n,Lp*p,r==null?void 0:r.id);if(o(P),f(P.length),m.category){const A=P.filter(L=>L.category===m.category);o(A)}j(P.length>=Lp*p)}catch(P){console.error("Search error:",P),d("Failed to perform search. Please try again.")}finally{c(!1)}})()},[n,p,r==null?void 0:r.id,m.category]);const S=E=>{E.preventDefault(),n.trim()&&(t(`/dashboard/search?q=${encodeURIComponent(n.trim())}`),v(1))},_=()=>{l||v(E=>E+1)},k=()=>{if(!i.length)return[];let E=[...i];return m.sortBy==="relevance"?E.sort((P,A)=>(A.relevance_score||0)-(P.relevance_score||0)):E.sort((P,A)=>new Date(A.published_at).getTime()-new Date(P.published_at).getTime()),E},C=E=>{s(E),t(`/dashboard/search?q=${encodeURIComponent(E)}`),v(1)},N=()=>{s(""),o([]),t("/dashboard/search")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gray-800/70 rounded-xl p-6 border border-gray-700/50",children:[a.jsxs(Link,{to:"/dashboard",className:"inline-flex items-center text-gray-400 hover:text-white mb-4",children:[a.jsx(Id,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]}),a.jsx("form",{onSubmit:S,className:"relative mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:n,onChange:E=>s(E.target.value),placeholder:"Search for articles, topics, or keywords...",className:"w-full bg-gray-900 border border-gray-700 rounded-l-lg px-10 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}),a.jsx(gu,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-500"}),n&&a.jsx("button",{type:"button",onClick:N,className:"absolute right-3 top-3.5 text-gray-500 hover:text-gray-300",children:a.jsx(rl,{className:"h-5 w-5"})})]}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-r-lg hover:bg-blue-700 transition-colors",children:"Search"})]})}),!n&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Popular searches"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(E=>a.jsx("button",{onClick:()=>C(E),className:"px-3 py-1.5 bg-gray-700/70 hover:bg-gray-700 text-gray-300 rounded-full text-sm transition-colors",children:E},E))})]})]}),n?a.jsx("div",{children:l&&i.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):u?a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:u}):i.length===0?a.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[a.jsxs("h2",{className:"text-xl font-medium text-white mb-3",children:['No results found for "',n,'"']}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Try different keywords or check your spelling"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Try searching for"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:g.map(E=>a.jsx("button",{onClick:()=>C(E),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-full text-sm transition-colors",children:E},E))})]})]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("h2",{className:"text-xl font-semibold text-white",children:[h," ",h===1?"result":"results",' for "',n,'"']})}),a.jsx(fl,{articles:k(),loading:l,hasMore:w,loadMore:_,onFilterChange:b})]})}):a.jsx("div",{className:"text-center py-12 text-gray-400",children:"Enter search terms to find articles"})]})},lc=({element:e,redirectPath:t="/login",requireAuth:r=!0,requireAdmin:n=!1})=>{const{user:s,loading:i,isAdmin:o}=we();return i?a.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):r&&!s?a.jsx(rs,{to:t,replace:!0}):n&&!o?a.jsx(rs,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e})},Op=({element:e,redirectPath:t="/dashboard"})=>{const{user:r,loading:n}=we();return n?a.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):r?a.jsx(rs,{to:t,replace:!0}):a.jsx(a.Fragment,{children:e})};function iP(){const{user:e}=we();return a.jsxs(Z1,{children:[a.jsx(_e,{path:"/",element:a.jsx(Op,{element:a.jsx(GE,{})})}),a.jsx(_e,{path:"/login",element:a.jsx(Op,{element:a.jsx(O3,{})})}),a.jsx(_e,{path:"/onboarding",element:a.jsx(lc,{element:a.jsx(I3,{})})}),a.jsxs(_e,{path:"/dashboard",element:a.jsx(lc,{element:a.jsx(IE,{})}),children:[a.jsx(_e,{index:!0,element:a.jsx(L3,{})}),a.jsx(_e,{path:"article/:id",element:a.jsx(F3,{})}),a.jsx(_e,{path:"admin",element:a.jsx(lc,{element:a.jsx(X3,{}),requireAdmin:!0})}),a.jsx(_e,{path:"preferences",element:a.jsx(Z3,{})}),a.jsx(_e,{path:"trending",element:a.jsx(Rp,{})}),a.jsx(_e,{path:"categories",element:a.jsx(nP,{})}),a.jsx(_e,{path:"category/:id",element:a.jsx(Rp,{})}),a.jsx(_e,{path:"bookmarks",element:a.jsx(eP,{})}),a.jsx(_e,{path:"history",element:a.jsx(tP,{})}),a.jsx(_e,{path:"search",element:a.jsx(sP,{})}),a.jsx(_e,{path:"profile",element:a.jsx("div",{className:"p-8 text-center text-gray-400",children:"Profile section coming soon"})})]}),a.jsx(_e,{path:"*",element:e?a.jsx(rs,{to:"/dashboard",replace:!0}):a.jsx(rs,{to:"/",replace:!0})})]})}function aP(){return a.jsx(OS,{children:a.jsx(oj,{children:a.jsx(iP,{})})})}Q0(document.getElementById("root")).render(a.jsx(x.StrictMode,{children:a.jsx(aP,{})}));export{Rv as g};

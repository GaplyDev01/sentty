var uw=Object.defineProperty;var dw=(e,t,r)=>t in e?uw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var U=(e,t,r)=>dw(e,typeof t!="symbol"?t+"":t,r);function hw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var i0={exports:{}},Ko={},a0={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),pw=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),yw=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),ww=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),Nw=Symbol.for("react.memo"),kw=Symbol.for("react.lazy"),zh=Symbol.iterator;function Sw(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var o0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l0=Object.assign,c0={};function ks(e,t,r){this.props=e,this.context=t,this.refs=c0,this.updater=r||o0}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u0(){}u0.prototype=ks.prototype;function ed(e,t,r){this.props=e,this.context=t,this.refs=c0,this.updater=r||o0}var td=ed.prototype=new u0;td.constructor=ed;l0(td,ks.prototype);td.isPureReactComponent=!0;var Hh=Array.isArray,d0=Object.prototype.hasOwnProperty,rd={current:null},h0={key:!0,ref:!0,__self:!0,__source:!0};function f0(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)d0.call(t,n)&&!h0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Xi,type:e,key:a,ref:o,props:s,_owner:rd.current}}function _w(e,t){return{$$typeof:Xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xi}function Cw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wh=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cw(""+e.key):t.toString(36)}function Ua(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xi:case pw:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ol(o,0):n,Hh(s)?(r="",e!=null&&(r=e.replace(Wh,"$&/")+"/"),Ua(s,t,r,"",function(u){return u})):s!=null&&(nd(s)&&(s=_w(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Hh(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ol(a,l);o+=Ua(a,t,r,c,s)}else if(c=Sw(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ol(a,l++),o+=Ua(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fa(e,t,r){if(e==null)return e;var n=[],s=0;return Ua(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Ew(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Ba={transition:null},Pw={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Ba,ReactCurrentOwner:rd};function m0(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:fa,forEach:function(e,t,r){fa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fa(e,function(){t++}),t},toArray:function(e){return fa(e,function(t){return t})||[]},only:function(e){if(!nd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=ks;K.Fragment=gw;K.Profiler=xw;K.PureComponent=ed;K.StrictMode=yw;K.Suspense=jw;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw;K.act=m0;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=l0({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=rd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)d0.call(t,c)&&!h0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Xi,type:e.type,key:s,ref:a,props:n,_owner:o}};K.createContext=function(e){return e={$$typeof:ww,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vw,_context:e},e.Consumer=e};K.createElement=f0;K.createFactory=function(e){var t=f0.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:bw,render:e}};K.isValidElement=nd;K.lazy=function(e){return{$$typeof:kw,_payload:{_status:-1,_result:e},_init:Ew}};K.memo=function(e,t){return{$$typeof:Nw,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Ba.transition;Ba.transition={};try{e()}finally{Ba.transition=t}};K.unstable_act=m0;K.useCallback=function(e,t){return He.current.useCallback(e,t)};K.useContext=function(e){return He.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return He.current.useDeferredValue(e)};K.useEffect=function(e,t){return He.current.useEffect(e,t)};K.useId=function(){return He.current.useId()};K.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return He.current.useMemo(e,t)};K.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};K.useRef=function(e){return He.current.useRef(e)};K.useState=function(e){return He.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return He.current.useTransition()};K.version="18.3.1";a0.exports=K;var p=a0.exports;const p0=fw(p),Tw=hw({__proto__:null,default:p0},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=p,Mw=Symbol.for("react.element"),Rw=Symbol.for("react.fragment"),Dw=Object.prototype.hasOwnProperty,Lw=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iw={key:!0,ref:!0,__self:!0,__source:!0};function g0(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Dw.call(t,n)&&!Iw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Mw,type:e,key:a,ref:o,props:s,_owner:Lw.current}}Ko.Fragment=Rw;Ko.jsx=g0;Ko.jsxs=g0;i0.exports=Ko;var i=i0.exports,y0={exports:{}},ut={},x0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,$){var V=R.length;R.push($);e:for(;0<V;){var W=V-1>>>1,se=R[W];if(0<s(se,$))R[W]=$,R[V]=se,V=W;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var $=R[0],V=R.pop();if(V!==$){R[0]=V;e:for(var W=0,se=R.length,G=se>>>1;W<G;){var H=2*(W+1)-1,Ds=R[H],et=H+1,fr=R[et];if(0>s(Ds,V))et<se&&0>s(fr,Ds)?(R[W]=fr,R[et]=V,W=et):(R[W]=Ds,R[H]=V,W=H);else if(et<se&&0>s(fr,V))R[W]=fr,R[et]=V,W=et;else break e}}return $}function s(R,$){var V=R.sortIndex-$.sortIndex;return V!==0?V:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,v=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=R)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function w(R){if(b=!1,m(R),!v)if(r(c)!==null)v=!0,ne(k);else{var $=r(u);$!==null&&J(w,$.startTime-R)}}function k(R,$){v=!1,b&&(b=!1,g(S),S=-1),y=!0;var V=f;try{for(m($),h=r(c);h!==null&&(!(h.expirationTime>$)||R&&!P());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var se=W(h.expirationTime<=$);$=e.unstable_now(),typeof se=="function"?h.callback=se:h===r(c)&&n(c),m($)}else n(c);h=r(c)}if(h!==null)var G=!0;else{var H=r(u);H!==null&&J(w,H.startTime-$),G=!1}return G}finally{h=null,f=V,y=!1}}var C=!1,N=null,S=-1,_=5,E=-1;function P(){return!(e.unstable_now()-E<_)}function A(){if(N!==null){var R=e.unstable_now();E=R;var $=!0;try{$=N(!0,R)}finally{$?I():(C=!1,N=null)}}else C=!1}var I;if(typeof x=="function")I=function(){x(A)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=A,I=function(){Q.postMessage(null)}}else I=function(){j(A,0)};function ne(R){N=R,C||(C=!0,I())}function J(R,$){S=j(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,ne(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var V=f;f=$;try{return R()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=f;f=R;try{return $()}finally{f=V}},e.unstable_scheduleCallback=function(R,$,V){var W=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,R={id:d++,callback:$,priorityLevel:R,startTime:V,expirationTime:se,sortIndex:-1},V>W?(R.sortIndex=V,t(u,R),r(c)===null&&R===r(u)&&(b?(g(S),S=-1):b=!0,J(w,V-W))):(R.sortIndex=se,t(c,R),v||y||(v=!0,ne(k))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var $=f;return function(){var V=f;f=$;try{return R.apply(this,arguments)}finally{f=V}}}})(v0);x0.exports=v0;var Ow=x0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w=p,ot=Ow;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w0=new Set,wi={};function Sn(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(wi[e]=t,e=0;e<t.length;e++)w0.add(t[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=Object.prototype.hasOwnProperty,Fw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qh={},Kh={};function Vw(e){return Ac.call(Kh,e)?!0:Ac.call(qh,e)?!1:Fw.test(e)?Kh[e]=!0:(qh[e]=!0,!1)}function Uw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bw(e,t,r,n){if(t===null||typeof t>"u"||Uw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var sd=/[\-:]([a-z])/g;function id(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sd,id);Le[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sd,id);Le[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sd,id);Le[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function ad(e,t,r,n){var s=Le.hasOwnProperty(t)?Le[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bw(t,r,s,n)&&(r=null),n||s===null?Vw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ur=$w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ma=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),j0=Symbol.for("react.context"),ld=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),N0=Symbol.for("react.offscreen"),Gh=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=Gh&&e[Gh]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,$l;function Ys(e){if($l===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$l=t&&t[1]||""}return`
`+$l+e}var Fl=!1;function Vl(e,t){if(!e||Fl)return"";Fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ys(e):""}function zw(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=Vl(e.type,!1),e;case 11:return e=Vl(e.type.render,!1),e;case 1:return e=Vl(e.type,!0),e;default:return""}}function Lc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case In:return"Fragment";case Ln:return"Portal";case Mc:return"Profiler";case od:return"StrictMode";case Rc:return"Suspense";case Dc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j0:return(e.displayName||"Context")+".Consumer";case b0:return(e._context.displayName||"Context")+".Provider";case ld:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cd:return t=e.displayName||null,t!==null?t:Lc(e.type)||"Memo";case br:t=e._payload,e=e._init;try{return Lc(e(t))}catch{}}return null}function Hw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(t);case 8:return t===od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ww(e){var t=k0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pa(e){e._valueTracker||(e._valueTracker=Ww(e))}function S0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=k0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ic(e,t){var r=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ur(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _0(e,t){t=t.checked,t!=null&&ad(e,"checked",t,!1)}function Oc(e,t){_0(e,t);var r=Ur(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$c(e,t.type,r):t.hasOwnProperty("defaultValue")&&$c(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $c(e,t,r){(t!=="number"||so(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xs=Array.isArray;function Jn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ur(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(M(92));if(Xs(r)){if(1<r.length)throw Error(M(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ur(r)}}function C0(e,t){var r=Ur(t.value),n=Ur(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ga,P0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qw=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(e){qw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ni[t]=ni[e]})});function T0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ni.hasOwnProperty(e)&&ni[e]?(""+t).trim():t+"px"}function A0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=T0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Kw=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uc(e,t){if(t){if(Kw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Bc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hc=null,Zn=null,es=null;function Zh(e){if(e=Zi(e)){if(typeof Hc!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Jo(t),Hc(e.stateNode,e.type,t))}}function M0(e){Zn?es?es.push(e):es=[e]:Zn=e}function R0(){if(Zn){var e=Zn,t=es;if(es=Zn=null,Zh(e),t)for(e=0;e<t.length;e++)Zh(t[e])}}function D0(e,t){return e(t)}function L0(){}var Ul=!1;function I0(e,t,r){if(Ul)return e(t,r);Ul=!0;try{return D0(e,t,r)}finally{Ul=!1,(Zn!==null||es!==null)&&(L0(),R0())}}function ji(e,t){var r=e.stateNode;if(r===null)return null;var n=Jo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(M(231,t,typeof r));return r}var Wc=!1;if(nr)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Wc=!1}function Gw(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var si=!1,io=null,ao=!1,qc=null,Yw={onError:function(e){si=!0,io=e}};function Xw(e,t,r,n,s,a,o,l,c){si=!1,io=null,Gw.apply(Yw,arguments)}function Qw(e,t,r,n,s,a,o,l,c){if(Xw.apply(this,arguments),si){if(si){var u=io;si=!1,io=null}else throw Error(M(198));ao||(ao=!0,qc=u)}}function _n(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function O0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ef(e){if(_n(e)!==e)throw Error(M(188))}function Jw(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(M(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return ef(s),e;if(a===n)return ef(s),t;a=a.sibling}throw Error(M(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?e:t}function $0(e){return e=Jw(e),e!==null?F0(e):null}function F0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F0(e);if(t!==null)return t;e=e.sibling}return null}var V0=ot.unstable_scheduleCallback,tf=ot.unstable_cancelCallback,Zw=ot.unstable_shouldYield,eb=ot.unstable_requestPaint,ve=ot.unstable_now,tb=ot.unstable_getCurrentPriorityLevel,dd=ot.unstable_ImmediatePriority,U0=ot.unstable_UserBlockingPriority,oo=ot.unstable_NormalPriority,rb=ot.unstable_LowPriority,B0=ot.unstable_IdlePriority,Go=null,Ft=null;function nb(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Go,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:ab,sb=Math.log,ib=Math.LN2;function ab(e){return e>>>=0,e===0?32:31-(sb(e)/ib|0)|0}var ya=64,xa=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Qs(l):(a&=o,a!==0&&(n=Qs(a)))}else o=r&~s,o!==0?n=Qs(o):a!==0&&(n=Qs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-At(t),s=1<<r,n|=e[r],t&=~s;return n}function ob(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-At(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=ob(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z0(){var e=ya;return ya<<=1,!(ya&4194240)&&(ya=64),e}function Bl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=r}function cb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-At(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function hd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-At(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ee=0;function H0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var W0,fd,q0,K0,G0,Gc=!1,va=[],Mr=null,Rr=null,Dr=null,Ni=new Map,ki=new Map,kr=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Os(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Zi(t),t!==null&&fd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function db(e,t,r,n,s){switch(t){case"focusin":return Mr=Os(Mr,e,t,r,n,s),!0;case"dragenter":return Rr=Os(Rr,e,t,r,n,s),!0;case"mouseover":return Dr=Os(Dr,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ni.set(a,Os(Ni.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ki.set(a,Os(ki.get(a)||null,e,t,r,n,s)),!0}return!1}function Y0(e){var t=on(e.target);if(t!==null){var r=_n(t);if(r!==null){if(t=r.tag,t===13){if(t=O0(r),t!==null){e.blockedOn=t,G0(e.priority,function(){q0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zc=n,r.target.dispatchEvent(n),zc=null}else return t=Zi(r),t!==null&&fd(t),e.blockedOn=r,!1;t.shift()}return!0}function nf(e,t,r){za(e)&&r.delete(t)}function hb(){Gc=!1,Mr!==null&&za(Mr)&&(Mr=null),Rr!==null&&za(Rr)&&(Rr=null),Dr!==null&&za(Dr)&&(Dr=null),Ni.forEach(nf),ki.forEach(nf)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,Gc||(Gc=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,hb)))}function Si(e){function t(s){return $s(s,e)}if(0<va.length){$s(va[0],e);for(var r=1;r<va.length;r++){var n=va[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mr!==null&&$s(Mr,e),Rr!==null&&$s(Rr,e),Dr!==null&&$s(Dr,e),Ni.forEach(t),ki.forEach(t),r=0;r<kr.length;r++)n=kr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<kr.length&&(r=kr[0],r.blockedOn===null);)Y0(r),r.blockedOn===null&&kr.shift()}var ts=ur.ReactCurrentBatchConfig,co=!0;function fb(e,t,r,n){var s=ee,a=ts.transition;ts.transition=null;try{ee=1,md(e,t,r,n)}finally{ee=s,ts.transition=a}}function mb(e,t,r,n){var s=ee,a=ts.transition;ts.transition=null;try{ee=4,md(e,t,r,n)}finally{ee=s,ts.transition=a}}function md(e,t,r,n){if(co){var s=Yc(e,t,r,n);if(s===null)Jl(e,t,n,uo,r),rf(e,n);else if(db(s,e,t,r,n))n.stopPropagation();else if(rf(e,n),t&4&&-1<ub.indexOf(e)){for(;s!==null;){var a=Zi(s);if(a!==null&&W0(a),a=Yc(e,t,r,n),a===null&&Jl(e,t,n,uo,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Jl(e,t,n,null,r)}}var uo=null;function Yc(e,t,r,n){if(uo=null,e=ud(n),e=on(e),e!==null)if(t=_n(e),t===null)e=null;else if(r=t.tag,r===13){if(e=O0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uo=e,null}function X0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tb()){case dd:return 1;case U0:return 4;case oo:case rb:return 16;case B0:return 536870912;default:return 16}default:return 16}}var Cr=null,pd=null,Ha=null;function Q0(){if(Ha)return Ha;var e,t=pd,r=t.length,n,s="value"in Cr?Cr.value:Cr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ha=s.slice(e,1<n?1-n:void 0)}function Wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wa(){return!0}function sf(){return!1}function dt(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wa:sf,this.isPropagationStopped=sf,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),t}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=dt(Ss),Ji=pe({},Ss,{view:0,detail:0}),pb=dt(Ji),zl,Hl,Fs,Yo=pe({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(zl=e.screenX-Fs.screenX,Hl=e.screenY-Fs.screenY):Hl=zl=0,Fs=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),af=dt(Yo),gb=pe({},Yo,{dataTransfer:0}),yb=dt(gb),xb=pe({},Ji,{relatedTarget:0}),Wl=dt(xb),vb=pe({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),wb=dt(vb),bb=pe({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jb=dt(bb),Nb=pe({},Ss,{data:0}),of=dt(Nb),kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_b[e])?!!t[e]:!1}function yd(){return Cb}var Eb=pe({},Ji,{key:function(e){if(e.key){var t=kb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(e){return e.type==="keypress"?Wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pb=dt(Eb),Tb=pe({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=dt(Tb),Ab=pe({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),Mb=dt(Ab),Rb=pe({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Db=dt(Rb),Lb=pe({},Yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ib=dt(Lb),Ob=[9,13,27,32],xd=nr&&"CompositionEvent"in window,ii=null;nr&&"documentMode"in document&&(ii=document.documentMode);var $b=nr&&"TextEvent"in window&&!ii,J0=nr&&(!xd||ii&&8<ii&&11>=ii),cf=" ",uf=!1;function Z0(e,t){switch(e){case"keyup":return Ob.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function Fb(e,t){switch(e){case"compositionend":return eg(t);case"keypress":return t.which!==32?null:(uf=!0,cf);case"textInput":return e=t.data,e===cf&&uf?null:e;default:return null}}function Vb(e,t){if(On)return e==="compositionend"||!xd&&Z0(e,t)?(e=Q0(),Ha=pd=Cr=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J0&&t.locale!=="ko"?null:t.data;default:return null}}var Ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ub[e.type]:t==="textarea"}function tg(e,t,r,n){M0(n),t=ho(t,"onChange"),0<t.length&&(r=new gd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ai=null,_i=null;function Bb(e){hg(e,0)}function Xo(e){var t=Vn(e);if(S0(t))return e}function zb(e,t){if(e==="change")return t}var rg=!1;if(nr){var ql;if(nr){var Kl="oninput"in document;if(!Kl){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Kl=typeof hf.oninput=="function"}ql=Kl}else ql=!1;rg=ql&&(!document.documentMode||9<document.documentMode)}function ff(){ai&&(ai.detachEvent("onpropertychange",ng),_i=ai=null)}function ng(e){if(e.propertyName==="value"&&Xo(_i)){var t=[];tg(t,_i,e,ud(e)),I0(Bb,t)}}function Hb(e,t,r){e==="focusin"?(ff(),ai=t,_i=r,ai.attachEvent("onpropertychange",ng)):e==="focusout"&&ff()}function Wb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(_i)}function qb(e,t){if(e==="click")return Xo(t)}function Kb(e,t){if(e==="input"||e==="change")return Xo(t)}function Gb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Gb;function Ci(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ac.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,t){var r=mf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mf(r)}}function sg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ig(){for(var e=window,t=so();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=so(e.document)}return t}function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yb(e){var t=ig(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sg(r.ownerDocument.documentElement,r)){if(n!==null&&vd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=pf(r,a);var o=pf(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xb=nr&&"documentMode"in document&&11>=document.documentMode,$n=null,Xc=null,oi=null,Qc=!1;function gf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qc||$n==null||$n!==so(n)||(n=$n,"selectionStart"in n&&vd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oi&&Ci(oi,n)||(oi=n,n=ho(Xc,"onSelect"),0<n.length&&(t=new gd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$n)))}function ba(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fn={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},Gl={},ag={};nr&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Qo(e){if(Gl[e])return Gl[e];if(!Fn[e])return e;var t=Fn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ag)return Gl[e]=t[r];return e}var og=Qo("animationend"),lg=Qo("animationiteration"),cg=Qo("animationstart"),ug=Qo("transitionend"),dg=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){dg.set(e,t),Sn(t,[e])}for(var Yl=0;Yl<yf.length;Yl++){var Xl=yf[Yl],Qb=Xl.toLowerCase(),Jb=Xl[0].toUpperCase()+Xl.slice(1);Wr(Qb,"on"+Jb)}Wr(og,"onAnimationEnd");Wr(lg,"onAnimationIteration");Wr(cg,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(ug,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function xf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qw(n,t,void 0,e),e.currentTarget=null}function hg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;xf(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;xf(s,l,u),a=c}}}if(ao)throw e=qc,ao=!1,qc=null,e}function le(e,t){var r=t[ru];r===void 0&&(r=t[ru]=new Set);var n=e+"__bubble";r.has(n)||(fg(t,e,2,!1),r.add(n))}function Ql(e,t,r){var n=0;t&&(n|=4),fg(r,e,n,t)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Ei(e){if(!e[ja]){e[ja]=!0,w0.forEach(function(r){r!=="selectionchange"&&(Zb.has(r)||Ql(r,!1,e),Ql(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ja]||(t[ja]=!0,Ql("selectionchange",!1,t))}}function fg(e,t,r,n){switch(X0(t)){case 1:var s=fb;break;case 4:s=mb;break;default:s=md}r=s.bind(null,t,r,e),s=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jl(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=on(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}I0(function(){var u=a,d=ud(r),h=[];e:{var f=dg.get(e);if(f!==void 0){var y=gd,v=e;switch(e){case"keypress":if(Wa(r)===0)break e;case"keydown":case"keyup":y=Pb;break;case"focusin":v="focus",y=Wl;break;case"focusout":v="blur",y=Wl;break;case"beforeblur":case"afterblur":y=Wl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=yb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Mb;break;case og:case lg:case cg:y=wb;break;case ug:y=Db;break;case"scroll":y=pb;break;case"wheel":y=Ib;break;case"copy":case"cut":case"paste":y=jb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=lf}var b=(t&4)!==0,j=!b&&e==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var x=u,m;x!==null;){m=x;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=ji(x,g),w!=null&&b.push(Pi(x,w,m)))),j)break;x=x.return}0<b.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==zc&&(v=r.relatedTarget||r.fromElement)&&(on(v)||v[sr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?on(v):null,v!==null&&(j=_n(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=af,w="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=lf,w="onPointerLeave",g="onPointerEnter",x="pointer"),j=y==null?f:Vn(y),m=v==null?f:Vn(v),f=new b(w,x+"leave",y,r,d),f.target=j,f.relatedTarget=m,w=null,on(d)===u&&(b=new b(g,x+"enter",v,r,d),b.target=m,b.relatedTarget=j,w=b),j=w,y&&v)t:{for(b=y,g=v,x=0,m=b;m;m=Pn(m))x++;for(m=0,w=g;w;w=Pn(w))m++;for(;0<x-m;)b=Pn(b),x--;for(;0<m-x;)g=Pn(g),m--;for(;x--;){if(b===g||g!==null&&b===g.alternate)break t;b=Pn(b),g=Pn(g)}b=null}else b=null;y!==null&&vf(h,f,y,b,!1),v!==null&&j!==null&&vf(h,j,v,b,!0)}}e:{if(f=u?Vn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=zb;else if(df(f))if(rg)k=Kb;else{k=Wb;var C=Hb}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=qb);if(k&&(k=k(e,u))){tg(h,k,r,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&$c(f,"number",f.value)}switch(C=u?Vn(u):window,e){case"focusin":(df(C)||C.contentEditable==="true")&&($n=C,Xc=u,oi=null);break;case"focusout":oi=Xc=$n=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,gf(h,r,d);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":gf(h,r,d)}var N;if(xd)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else On?Z0(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(J0&&r.locale!=="ko"&&(On||S!=="onCompositionStart"?S==="onCompositionEnd"&&On&&(N=Q0()):(Cr=d,pd="value"in Cr?Cr.value:Cr.textContent,On=!0)),C=ho(u,S),0<C.length&&(S=new of(S,e,null,r,d),h.push({event:S,listeners:C}),N?S.data=N:(N=eg(r),N!==null&&(S.data=N)))),(N=$b?Fb(e,r):Vb(e,r))&&(u=ho(u,"onBeforeInput"),0<u.length&&(d=new of("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}hg(h,t)})}function Pi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ho(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ji(e,r),a!=null&&n.unshift(Pi(e,a,s)),a=ji(e,t),a!=null&&n.push(Pi(e,a,s))),e=e.return}return n}function Pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ji(r,a),c!=null&&o.unshift(Pi(r,c,l))):s||(c=ji(r,a),c!=null&&o.push(Pi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(e1,`
`).replace(t1,"")}function Na(e,t,r){if(t=wf(t),wf(e)!==t&&r)throw Error(M(425))}function fo(){}var Jc=null,Zc=null;function eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tu=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(e){return bf.resolve(null).then(e).catch(s1)}:tu;function s1(e){setTimeout(function(){throw e})}function Zl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Si(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Si(t)}function Lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),Ot="__reactFiber$"+_s,Ti="__reactProps$"+_s,sr="__reactContainer$"+_s,ru="__reactEvents$"+_s,i1="__reactListeners$"+_s,a1="__reactHandles$"+_s;function on(e){var t=e[Ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sr]||r[Ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jf(e);e!==null;){if(r=e[Ot])return r;e=jf(e)}return t}e=r,r=e.parentNode}return null}function Zi(e){return e=e[Ot]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Jo(e){return e[Ti]||null}var nu=[],Un=-1;function qr(e){return{current:e}}function ce(e){0>Un||(e.current=nu[Un],nu[Un]=null,Un--)}function oe(e,t){Un++,nu[Un]=e.current,e.current=t}var Br={},Ue=qr(Br),Qe=qr(!1),yn=Br;function os(e,t){var r=e.type.contextTypes;if(!r)return Br;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function mo(){ce(Qe),ce(Ue)}function Nf(e,t,r){if(Ue.current!==Br)throw Error(M(168));oe(Ue,t),oe(Qe,r)}function mg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(M(108,Hw(e)||"Unknown",s));return pe({},r,n)}function po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,yn=Ue.current,oe(Ue,e),oe(Qe,Qe.current),!0}function kf(e,t,r){var n=e.stateNode;if(!n)throw Error(M(169));r?(e=mg(e,t,yn),n.__reactInternalMemoizedMergedChildContext=e,ce(Qe),ce(Ue),oe(Ue,e)):ce(Qe),oe(Qe,r)}var Yt=null,Zo=!1,ec=!1;function pg(e){Yt===null?Yt=[e]:Yt.push(e)}function o1(e){Zo=!0,pg(e)}function Kr(){if(!ec&&Yt!==null){ec=!0;var e=0,t=ee;try{var r=Yt;for(ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yt=null,Zo=!1}catch(s){throw Yt!==null&&(Yt=Yt.slice(e+1)),V0(dd,Kr),s}finally{ee=t,ec=!1}}return null}var Bn=[],zn=0,go=null,yo=0,mt=[],pt=0,xn=null,Xt=1,Qt="";function Zr(e,t){Bn[zn++]=yo,Bn[zn++]=go,go=e,yo=t}function gg(e,t,r){mt[pt++]=Xt,mt[pt++]=Qt,mt[pt++]=xn,xn=e;var n=Xt;e=Qt;var s=32-At(n)-1;n&=~(1<<s),r+=1;var a=32-At(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Xt=1<<32-At(t)+s|r<<s|n,Qt=a+e}else Xt=1<<a|r<<s|n,Qt=e}function wd(e){e.return!==null&&(Zr(e,1),gg(e,1,0))}function bd(e){for(;e===go;)go=Bn[--zn],Bn[zn]=null,yo=Bn[--zn],Bn[zn]=null;for(;e===xn;)xn=mt[--pt],mt[pt]=null,Qt=mt[--pt],mt[pt]=null,Xt=mt[--pt],mt[pt]=null}var st=null,nt=null,ue=!1,Tt=null;function yg(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,nt=Lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xn!==null?{id:Xt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,st=e,nt=null,!0):!1;default:return!1}}function su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iu(e){if(ue){var t=nt;if(t){var r=t;if(!Sf(e,t)){if(su(e))throw Error(M(418));t=Lr(r.nextSibling);var n=st;t&&Sf(e,t)?yg(n,r):(e.flags=e.flags&-4097|2,ue=!1,st=e)}}else{if(su(e))throw Error(M(418));e.flags=e.flags&-4097|2,ue=!1,st=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function ka(e){if(e!==st)return!1;if(!ue)return _f(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eu(e.type,e.memoizedProps)),t&&(t=nt)){if(su(e))throw xg(),Error(M(418));for(;t;)yg(e,t),t=Lr(t.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nt=Lr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=st?Lr(e.stateNode.nextSibling):null;return!0}function xg(){for(var e=nt;e;)e=Lr(e.nextSibling)}function ls(){nt=st=null,ue=!1}function jd(e){Tt===null?Tt=[e]:Tt.push(e)}var l1=ur.ReactCurrentBatchConfig;function Vs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,e))}return e}function Sa(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cf(e){var t=e._init;return t(e._payload)}function vg(e){function t(g,x){if(e){var m=g.deletions;m===null?(g.deletions=[x],g.flags|=16):m.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function s(g,x){return g=Fr(g,x),g.index=0,g.sibling=null,g}function a(g,x,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<x?(g.flags|=2,x):m):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,m,w){return x===null||x.tag!==6?(x=oc(m,g.mode,w),x.return=g,x):(x=s(x,m),x.return=g,x)}function c(g,x,m,w){var k=m.type;return k===In?d(g,x,m.props.children,w,m.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===br&&Cf(k)===x.type)?(w=s(x,m.props),w.ref=Vs(g,x,m),w.return=g,w):(w=Ja(m.type,m.key,m.props,null,g.mode,w),w.ref=Vs(g,x,m),w.return=g,w)}function u(g,x,m,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=lc(m,g.mode,w),x.return=g,x):(x=s(x,m.children||[]),x.return=g,x)}function d(g,x,m,w,k){return x===null||x.tag!==7?(x=fn(m,g.mode,w,k),x.return=g,x):(x=s(x,m),x.return=g,x)}function h(g,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=oc(""+x,g.mode,m),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ma:return m=Ja(x.type,x.key,x.props,null,g.mode,m),m.ref=Vs(g,null,x),m.return=g,m;case Ln:return x=lc(x,g.mode,m),x.return=g,x;case br:var w=x._init;return h(g,w(x._payload),m)}if(Xs(x)||Ls(x))return x=fn(x,g.mode,m,null),x.return=g,x;Sa(g,x)}return null}function f(g,x,m,w){var k=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(g,x,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ma:return m.key===k?c(g,x,m,w):null;case Ln:return m.key===k?u(g,x,m,w):null;case br:return k=m._init,f(g,x,k(m._payload),w)}if(Xs(m)||Ls(m))return k!==null?null:d(g,x,m,w,null);Sa(g,m)}return null}function y(g,x,m,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,l(x,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ma:return g=g.get(w.key===null?m:w.key)||null,c(x,g,w,k);case Ln:return g=g.get(w.key===null?m:w.key)||null,u(x,g,w,k);case br:var C=w._init;return y(g,x,m,C(w._payload),k)}if(Xs(w)||Ls(w))return g=g.get(m)||null,d(x,g,w,k,null);Sa(x,w)}return null}function v(g,x,m,w){for(var k=null,C=null,N=x,S=x=0,_=null;N!==null&&S<m.length;S++){N.index>S?(_=N,N=null):_=N.sibling;var E=f(g,N,m[S],w);if(E===null){N===null&&(N=_);break}e&&N&&E.alternate===null&&t(g,N),x=a(E,x,S),C===null?k=E:C.sibling=E,C=E,N=_}if(S===m.length)return r(g,N),ue&&Zr(g,S),k;if(N===null){for(;S<m.length;S++)N=h(g,m[S],w),N!==null&&(x=a(N,x,S),C===null?k=N:C.sibling=N,C=N);return ue&&Zr(g,S),k}for(N=n(g,N);S<m.length;S++)_=y(N,g,S,m[S],w),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?S:_.key),x=a(_,x,S),C===null?k=_:C.sibling=_,C=_);return e&&N.forEach(function(P){return t(g,P)}),ue&&Zr(g,S),k}function b(g,x,m,w){var k=Ls(m);if(typeof k!="function")throw Error(M(150));if(m=k.call(m),m==null)throw Error(M(151));for(var C=k=null,N=x,S=x=0,_=null,E=m.next();N!==null&&!E.done;S++,E=m.next()){N.index>S?(_=N,N=null):_=N.sibling;var P=f(g,N,E.value,w);if(P===null){N===null&&(N=_);break}e&&N&&P.alternate===null&&t(g,N),x=a(P,x,S),C===null?k=P:C.sibling=P,C=P,N=_}if(E.done)return r(g,N),ue&&Zr(g,S),k;if(N===null){for(;!E.done;S++,E=m.next())E=h(g,E.value,w),E!==null&&(x=a(E,x,S),C===null?k=E:C.sibling=E,C=E);return ue&&Zr(g,S),k}for(N=n(g,N);!E.done;S++,E=m.next())E=y(N,g,S,E.value,w),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?S:E.key),x=a(E,x,S),C===null?k=E:C.sibling=E,C=E);return e&&N.forEach(function(A){return t(g,A)}),ue&&Zr(g,S),k}function j(g,x,m,w){if(typeof m=="object"&&m!==null&&m.type===In&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ma:e:{for(var k=m.key,C=x;C!==null;){if(C.key===k){if(k=m.type,k===In){if(C.tag===7){r(g,C.sibling),x=s(C,m.props.children),x.return=g,g=x;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===br&&Cf(k)===C.type){r(g,C.sibling),x=s(C,m.props),x.ref=Vs(g,C,m),x.return=g,g=x;break e}r(g,C);break}else t(g,C);C=C.sibling}m.type===In?(x=fn(m.props.children,g.mode,w,m.key),x.return=g,g=x):(w=Ja(m.type,m.key,m.props,null,g.mode,w),w.ref=Vs(g,x,m),w.return=g,g=w)}return o(g);case Ln:e:{for(C=m.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(g,x.sibling),x=s(x,m.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=lc(m,g.mode,w),x.return=g,g=x}return o(g);case br:return C=m._init,j(g,x,C(m._payload),w)}if(Xs(m))return v(g,x,m,w);if(Ls(m))return b(g,x,m,w);Sa(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(g,x.sibling),x=s(x,m),x.return=g,g=x):(r(g,x),x=oc(m,g.mode,w),x.return=g,g=x),o(g)):r(g,x)}return j}var cs=vg(!0),wg=vg(!1),xo=qr(null),vo=null,Hn=null,Nd=null;function kd(){Nd=Hn=vo=null}function Sd(e){var t=xo.current;ce(xo),e._currentValue=t}function au(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rs(e,t){vo=e,Nd=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Nd!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(vo===null)throw Error(M(308));Hn=e,vo.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var ln=null;function _d(e){ln===null?ln=[e]:ln.push(e)}function bg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_d(t)):(r.next=s.next,s.next=r),t.interleaved=r,ir(e,n)}function ir(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jr=!1;function Cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,X&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ir(e,r)}return s=n.interleaved,s===null?(t.next=t,_d(n)):(t.next=s.next,s.next=t),n.interleaved=t,ir(e,r)}function qa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hd(e,r)}}function Ef(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wo(e,t,r,n){var s=e.updateQueue;jr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(f=t,y=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=pe({},h,f);break e;case 2:jr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);wn|=o,e.lanes=o,e.memoizedState=h}}function Pf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(M(191,s));s.call(n)}}}var ea={},Vt=qr(ea),Ai=qr(ea),Mi=qr(ea);function cn(e){if(e===ea)throw Error(M(174));return e}function Ed(e,t){switch(oe(Mi,t),oe(Ai,e),oe(Vt,ea),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vc(t,e)}ce(Vt),oe(Vt,t)}function us(){ce(Vt),ce(Ai),ce(Mi)}function Ng(e){cn(Mi.current);var t=cn(Vt.current),r=Vc(t,e.type);t!==r&&(oe(Ai,e),oe(Vt,r))}function Pd(e){Ai.current===e&&(ce(Vt),ce(Ai))}var de=qr(0);function bo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tc=[];function Td(){for(var e=0;e<tc.length;e++)tc[e]._workInProgressVersionPrimary=null;tc.length=0}var Ka=ur.ReactCurrentDispatcher,rc=ur.ReactCurrentBatchConfig,vn=0,fe=null,je=null,Ee=null,jo=!1,li=!1,Ri=0,c1=0;function Ie(){throw Error(M(321))}function Ad(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function Md(e,t,r,n,s,a){if(vn=a,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ka.current=e===null||e.memoizedState===null?f1:m1,e=r(n,s),li){a=0;do{if(li=!1,Ri=0,25<=a)throw Error(M(301));a+=1,Ee=je=null,t.updateQueue=null,Ka.current=p1,e=r(n,s)}while(li)}if(Ka.current=No,t=je!==null&&je.next!==null,vn=0,Ee=je=fe=null,jo=!1,t)throw Error(M(300));return e}function Rd(){var e=Ri!==0;return Ri=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?fe.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function bt(){if(je===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ee===null?fe.memoizedState:Ee.next;if(t!==null)Ee=t,je=e;else{if(e===null)throw Error(M(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ee===null?fe.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Di(e,t){return typeof t=="function"?t(e):t}function nc(e){var t=bt(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=je,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((vn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,fe.lanes|=d,wn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Rt(n,t.memoizedState)||(Xe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,fe.lanes|=a,wn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sc(e){var t=bt(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Rt(a,t.memoizedState)||(Xe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function kg(){}function Sg(e,t){var r=fe,n=bt(),s=t(),a=!Rt(n.memoizedState,s);if(a&&(n.memoizedState=s,Xe=!0),n=n.queue,Dd(Eg.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ee!==null&&Ee.memoizedState.tag&1){if(r.flags|=2048,Li(9,Cg.bind(null,r,n,s,t),void 0,null),Ae===null)throw Error(M(349));vn&30||_g(r,t,s)}return s}function _g(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Cg(e,t,r,n){t.value=r,t.getSnapshot=n,Pg(t)&&Tg(e)}function Eg(e,t,r){return r(function(){Pg(t)&&Tg(e)})}function Pg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Tg(e){var t=ir(e,1);t!==null&&Mt(t,e,1,-1)}function Tf(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=h1.bind(null,fe,e),[t.memoizedState,e]}function Li(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ag(){return bt().memoizedState}function Ga(e,t,r,n){var s=It();fe.flags|=e,s.memoizedState=Li(1|t,r,void 0,n===void 0?null:n)}function el(e,t,r,n){var s=bt();n=n===void 0?null:n;var a=void 0;if(je!==null){var o=je.memoizedState;if(a=o.destroy,n!==null&&Ad(n,o.deps)){s.memoizedState=Li(t,r,a,n);return}}fe.flags|=e,s.memoizedState=Li(1|t,r,a,n)}function Af(e,t){return Ga(8390656,8,e,t)}function Dd(e,t){return el(2048,8,e,t)}function Mg(e,t){return el(4,2,e,t)}function Rg(e,t){return el(4,4,e,t)}function Dg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lg(e,t,r){return r=r!=null?r.concat([e]):null,el(4,4,Dg.bind(null,t,e),r)}function Ld(){}function Ig(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ad(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Og(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ad(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $g(e,t,r){return vn&21?(Rt(r,t)||(r=z0(),fe.lanes|=r,wn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=r)}function u1(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var n=rc.transition;rc.transition={};try{e(!1),t()}finally{ee=r,rc.transition=n}}function Fg(){return bt().memoizedState}function d1(e,t,r){var n=$r(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Vg(e))Ug(t,r);else if(r=bg(e,t,r,n),r!==null){var s=ze();Mt(r,e,n,s),Bg(r,t,n)}}function h1(e,t,r){var n=$r(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vg(e))Ug(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Rt(l,o)){var c=t.interleaved;c===null?(s.next=s,_d(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=bg(e,t,s,n),r!==null&&(s=ze(),Mt(r,e,n,s),Bg(r,t,n))}}function Vg(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ug(e,t){li=jo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hd(e,r)}}var No={readContext:wt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},f1={readContext:wt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Af,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ga(4194308,4,Dg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ga(4,2,e,t)},useMemo:function(e,t){var r=It();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=It();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=d1.bind(null,fe,e),[n.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Tf,useDebugValue:Ld,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Tf(!1),t=e[0];return e=u1.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fe,s=It();if(ue){if(r===void 0)throw Error(M(407));r=r()}else{if(r=t(),Ae===null)throw Error(M(349));vn&30||_g(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Af(Eg.bind(null,n,a,e),[e]),n.flags|=2048,Li(9,Cg.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=It(),t=Ae.identifierPrefix;if(ue){var r=Qt,n=Xt;r=(n&~(1<<32-At(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ri++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=c1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m1={readContext:wt,useCallback:Ig,useContext:wt,useEffect:Dd,useImperativeHandle:Lg,useInsertionEffect:Mg,useLayoutEffect:Rg,useMemo:Og,useReducer:nc,useRef:Ag,useState:function(){return nc(Di)},useDebugValue:Ld,useDeferredValue:function(e){var t=bt();return $g(t,je.memoizedState,e)},useTransition:function(){var e=nc(Di)[0],t=bt().memoizedState;return[e,t]},useMutableSource:kg,useSyncExternalStore:Sg,useId:Fg,unstable_isNewReconciler:!1},p1={readContext:wt,useCallback:Ig,useContext:wt,useEffect:Dd,useImperativeHandle:Lg,useInsertionEffect:Mg,useLayoutEffect:Rg,useMemo:Og,useReducer:sc,useRef:Ag,useState:function(){return sc(Di)},useDebugValue:Ld,useDeferredValue:function(e){var t=bt();return je===null?t.memoizedState=e:$g(t,je.memoizedState,e)},useTransition:function(){var e=sc(Di)[0],t=bt().memoizedState;return[e,t]},useMutableSource:kg,useSyncExternalStore:Sg,useId:Fg,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ou(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tl={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ze(),s=$r(e),a=er(n,s);a.payload=t,r!=null&&(a.callback=r),t=Ir(e,a,s),t!==null&&(Mt(t,e,s,n),qa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ze(),s=$r(e),a=er(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ir(e,a,s),t!==null&&(Mt(t,e,s,n),qa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ze(),n=$r(e),s=er(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ir(e,s,n),t!==null&&(Mt(t,e,n,r),qa(t,e,n))}};function Mf(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ci(r,n)||!Ci(s,a):!0}function zg(e,t,r){var n=!1,s=Br,a=t.contextType;return typeof a=="object"&&a!==null?a=wt(a):(s=Je(t)?yn:Ue.current,n=t.contextTypes,a=(n=n!=null)?os(e,s):Br),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Rf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&tl.enqueueReplaceState(t,t.state,null)}function lu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Cd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=wt(a):(a=Je(t)?yn:Ue.current,s.context=os(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ou(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&tl.enqueueReplaceState(s,s.state,null),wo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var r="",n=t;do r+=zw(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ic(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var g1=typeof WeakMap=="function"?WeakMap:Map;function Hg(e,t,r){r=er(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){So||(So=!0,vu=n),cu(e,t)},r}function Wg(e,t,r){r=er(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){cu(e,t),typeof n!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Df(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new g1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=T1.bind(null,e,t,r),t.then(e,e))}function Lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function If(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=er(-1,1),t.tag=2,Ir(r,t,1))),r.lanes|=1),e)}var y1=ur.ReactCurrentOwner,Xe=!1;function Be(e,t,r,n){t.child=e===null?wg(t,null,r,n):cs(t,e.child,r,n)}function Of(e,t,r,n,s){r=r.render;var a=t.ref;return rs(t,s),n=Md(e,t,r,n,a,s),r=Rd(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(ue&&r&&wd(t),t.flags|=1,Be(e,t,n,s),t.child)}function $f(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!zd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,qg(e,t,a,n,s)):(e=Ja(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ci,r(o,n)&&e.ref===t.ref)return ar(e,t,s)}return t.flags|=1,e=Fr(a,n),e.ref=t.ref,e.return=t,t.child=e}function qg(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ci(a,n)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,ar(e,t,s)}return uu(e,t,r,n,s)}function Kg(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(qn,rt),rt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(qn,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,oe(qn,rt),rt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,oe(qn,rt),rt|=n;return Be(e,t,s,r),t.child}function Gg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,r,n,s){var a=Je(r)?yn:Ue.current;return a=os(t,a),rs(t,s),r=Md(e,t,r,n,a,s),n=Rd(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(ue&&n&&wd(t),t.flags|=1,Be(e,t,r,s),t.child)}function Ff(e,t,r,n,s){if(Je(r)){var a=!0;po(t)}else a=!1;if(rs(t,s),t.stateNode===null)Ya(e,t),zg(t,r,n),lu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=Je(r)?yn:Ue.current,u=os(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Rf(t,o,n,u),jr=!1;var f=t.memoizedState;o.state=f,wo(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Qe.current||jr?(typeof d=="function"&&(ou(t,r,d,n),c=t.memoizedState),(l=jr||Mf(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,jg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ct(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=Je(r)?yn:Ue.current,c=os(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Rf(t,o,n,c),jr=!1,f=t.memoizedState,o.state=f,wo(t,n,o,s);var v=t.memoizedState;l!==h||f!==v||Qe.current||jr?(typeof y=="function"&&(ou(t,r,y,n),v=t.memoizedState),(u=jr||Mf(t,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return du(e,t,r,n,a,s)}function du(e,t,r,n,s,a){Gg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&kf(t,r,!1),ar(e,t,a);n=t.stateNode,y1.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cs(t,e.child,null,a),t.child=cs(t,null,l,a)):Be(e,t,l,a),t.memoizedState=n.state,s&&kf(t,r,!0),t.child}function Yg(e){var t=e.stateNode;t.pendingContext?Nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nf(e,t.context,!1),Ed(e,t.containerInfo)}function Vf(e,t,r,n,s){return ls(),jd(s),t.flags|=256,Be(e,t,r,n),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xg(e,t,r){var n=t.pendingProps,s=de.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(de,s&1),e===null)return iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=sl(o,n,0,null),e=fn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fu(r),t.memoizedState=hu,e):Id(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return x1(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Fr(l,a):(a=fn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?fu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=hu,n}return a=e.child,e=a.sibling,n=Fr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Id(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _a(e,t,r,n){return n!==null&&jd(n),cs(t,e.child,null,r),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x1(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=ic(Error(M(422))),_a(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=sl({mode:"visible",children:n.children},s,0,null),a=fn(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&cs(t,e.child,null,o),t.child.memoizedState=fu(o),t.memoizedState=hu,a);if(!(t.mode&1))return _a(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(M(419)),n=ic(a,n,void 0),_a(e,t,o,n)}if(l=(o&e.childLanes)!==0,Xe||l){if(n=Ae,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ir(e,s),Mt(n,e,s,-1))}return Bd(),n=ic(Error(M(421))),_a(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=A1.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,nt=Lr(s.nextSibling),st=t,ue=!0,Tt=null,e!==null&&(mt[pt++]=Xt,mt[pt++]=Qt,mt[pt++]=xn,Xt=e.id,Qt=e.overflow,xn=t),t=Id(t,n.children),t.flags|=4096,t)}function Uf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),au(e.return,t,r)}function ac(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Qg(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Be(e,t,n.children,r),n=de.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uf(e,r,t);else if(e.tag===19)Uf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(de,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&bo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ac(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ac(t,!0,r,null,a);break;case"together":ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ya(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,r=Fr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function v1(e,t,r){switch(t.tag){case 3:Yg(t),ls();break;case 5:Ng(t);break;case 1:Je(t.type)&&po(t);break;case 4:Ed(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;oe(xo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(de,de.current&1),t.flags|=128,null):r&t.child.childLanes?Xg(e,t,r):(oe(de,de.current&1),e=ar(e,t,r),e!==null?e.sibling:null);oe(de,de.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(de,de.current),n)break;return null;case 22:case 23:return t.lanes=0,Kg(e,t,r)}return ar(e,t,r)}var Jg,mu,Zg,ey;Jg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mu=function(){};Zg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,cn(Vt.current);var a=null;switch(r){case"input":s=Ic(e,s),n=Ic(e,n),a=[];break;case"select":s=pe({},s,{value:void 0}),n=pe({},n,{value:void 0}),a=[];break;case"textarea":s=Fc(e,s),n=Fc(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fo)}Uc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};ey=function(e,t,r,n){r!==n&&(t.flags|=4)};function Us(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function w1(e,t,r){var n=t.pendingProps;switch(bd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Je(t.type)&&mo(),Oe(t),null;case 3:return n=t.stateNode,us(),ce(Qe),ce(Ue),Td(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(ju(Tt),Tt=null))),mu(e,t),Oe(t),null;case 5:Pd(t);var s=cn(Mi.current);if(r=t.type,e!==null&&t.stateNode!=null)Zg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(M(166));return Oe(t),null}if(e=cn(Vt.current),ka(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ot]=t,n[Ti]=a,e=(t.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(s=0;s<Js.length;s++)le(Js[s],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":Yh(n,a),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},le("invalid",n);break;case"textarea":Qh(n,a),le("invalid",n)}Uc(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Na(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Na(n.textContent,l,e),s=["children",""+l]):wi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&le("scroll",n)}switch(r){case"input":pa(n),Xh(n,a,!0);break;case"textarea":pa(n),Jh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=fo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ot]=t,e[Ti]=n,Jg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bc(r,n),r){case"dialog":le("cancel",e),le("close",e),s=n;break;case"iframe":case"object":case"embed":le("load",e),s=n;break;case"video":case"audio":for(s=0;s<Js.length;s++)le(Js[s],e);s=n;break;case"source":le("error",e),s=n;break;case"img":case"image":case"link":le("error",e),le("load",e),s=n;break;case"details":le("toggle",e),s=n;break;case"input":Yh(e,n),s=Ic(e,n),le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=pe({},n,{value:void 0}),le("invalid",e);break;case"textarea":Qh(e,n),s=Fc(e,n),le("invalid",e);break;default:s=n}Uc(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?A0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&P0(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bi(e,c):typeof c=="number"&&bi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&le("scroll",e):c!=null&&ad(e,a,c,o))}switch(r){case"input":pa(e),Xh(e,n,!1);break;case"textarea":pa(e),Jh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ur(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Jn(e,!!n.multiple,a,!1):n.defaultValue!=null&&Jn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)ey(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(M(166));if(r=cn(Mi.current),cn(Vt.current),ka(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ot]=t,(a=n.nodeValue!==r)&&(e=st,e!==null))switch(e.tag){case 3:Na(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ot]=t,t.stateNode=n}return Oe(t),null;case 13:if(ce(de),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&nt!==null&&t.mode&1&&!(t.flags&128))xg(),ls(),t.flags|=98560,a=!1;else if(a=ka(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Ot]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),a=!1}else Tt!==null&&(ju(Tt),Tt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Ne===0&&(Ne=3):Bd())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return us(),mu(e,t),e===null&&Ei(t.stateNode.containerInfo),Oe(t),null;case 10:return Sd(t.type._context),Oe(t),null;case 17:return Je(t.type)&&mo(),Oe(t),null;case 19:if(ce(de),a=t.memoizedState,a===null)return Oe(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Us(a,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bo(e),o!==null){for(t.flags|=128,Us(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(de,de.current&1|2),t.child}e=e.sibling}a.tail!==null&&ve()>hs&&(t.flags|=128,n=!0,Us(a,!1),t.lanes=4194304)}else{if(!n)if(e=bo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Us(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ue)return Oe(t),null}else 2*ve()-a.renderingStartTime>hs&&r!==1073741824&&(t.flags|=128,n=!0,Us(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ve(),t.sibling=null,r=de.current,oe(de,n?r&1|2:r&1),t):(Oe(t),null);case 22:case 23:return Ud(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function b1(e,t){switch(bd(t),t.tag){case 1:return Je(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),ce(Qe),ce(Ue),Td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pd(t),null;case 13:if(ce(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(de),null;case 4:return us(),null;case 10:return Sd(t.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var Ca=!1,Fe=!1,j1=typeof WeakSet=="function"?WeakSet:Set,O=null;function Wn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ye(e,t,n)}else r.current=null}function pu(e,t,r){try{r()}catch(n){ye(e,t,n)}}var Bf=!1;function N1(e,t){if(Jc=co,e=ig(),vd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zc={focusedElem:e,selectionRange:r},co=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,j=v.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ct(t.type,b),j);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){ye(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=Bf,Bf=!1,v}function ci(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&pu(t,r,a)}s=s.next}while(s!==n)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ty(e){var t=e.alternate;t!==null&&(e.alternate=null,ty(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Ti],delete t[ru],delete t[i1],delete t[a1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ry(e){return e.tag===5||e.tag===3||e.tag===4}function zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fo));else if(n!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}function xu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xu(e,t,r),e=e.sibling;e!==null;)xu(e,t,r),e=e.sibling}var Re=null,Et=!1;function mr(e,t,r){for(r=r.child;r!==null;)ny(e,t,r),r=r.sibling}function ny(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Go,r)}catch{}switch(r.tag){case 5:Fe||Wn(r,t);case 6:var n=Re,s=Et;Re=null,mr(e,t,r),Re=n,Et=s,Re!==null&&(Et?(e=Re,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Re.removeChild(r.stateNode));break;case 18:Re!==null&&(Et?(e=Re,r=r.stateNode,e.nodeType===8?Zl(e.parentNode,r):e.nodeType===1&&Zl(e,r),Si(e)):Zl(Re,r.stateNode));break;case 4:n=Re,s=Et,Re=r.stateNode.containerInfo,Et=!0,mr(e,t,r),Re=n,Et=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&pu(r,t,o),s=s.next}while(s!==n)}mr(e,t,r);break;case 1:if(!Fe&&(Wn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ye(r,t,l)}mr(e,t,r);break;case 21:mr(e,t,r);break;case 22:r.mode&1?(Fe=(n=Fe)||r.memoizedState!==null,mr(e,t,r),Fe=n):mr(e,t,r);break;default:mr(e,t,r)}}function Hf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new j1),t.forEach(function(n){var s=M1.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function kt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,Et=!1;break e;case 3:Re=l.stateNode.containerInfo,Et=!0;break e;case 4:Re=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(Re===null)throw Error(M(160));ny(a,o,s),Re=null,Et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sy(t,e),t=t.sibling}function sy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),Dt(e),n&4){try{ci(3,e,e.return),rl(3,e)}catch(b){ye(e,e.return,b)}try{ci(5,e,e.return)}catch(b){ye(e,e.return,b)}}break;case 1:kt(t,e),Dt(e),n&512&&r!==null&&Wn(r,r.return);break;case 5:if(kt(t,e),Dt(e),n&512&&r!==null&&Wn(r,r.return),e.flags&32){var s=e.stateNode;try{bi(s,"")}catch(b){ye(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&_0(s,a),Bc(l,o);var u=Bc(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?A0(s,h):d==="dangerouslySetInnerHTML"?P0(s,h):d==="children"?bi(s,h):ad(s,d,h,u)}switch(l){case"input":Oc(s,a);break;case"textarea":C0(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Jn(s,!!a.multiple,y,!1):f!==!!a.multiple&&(a.defaultValue!=null?Jn(s,!!a.multiple,a.defaultValue,!0):Jn(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ti]=a}catch(b){ye(e,e.return,b)}}break;case 6:if(kt(t,e),Dt(e),n&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(b){ye(e,e.return,b)}}break;case 3:if(kt(t,e),Dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Si(t.containerInfo)}catch(b){ye(e,e.return,b)}break;case 4:kt(t,e),Dt(e);break;case 13:kt(t,e),Dt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Fd=ve())),n&4&&Hf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||d,kt(t,e),Fe=u):kt(t,e),Dt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,y=f.child,f.tag){case 0:case 11:case 14:case 15:ci(4,f,f.return);break;case 1:Wn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){ye(n,r,b)}}break;case 5:Wn(f,f.return);break;case 22:if(f.memoizedState!==null){qf(h);continue}}y!==null?(y.return=f,O=y):qf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=T0("display",o))}catch(b){ye(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){ye(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kt(t,e),Dt(e),n&4&&Hf(e);break;case 21:break;default:kt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ry(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(bi(s,""),n.flags&=-33);var a=zf(e);xu(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=zf(e);yu(e,l,o);break;default:throw Error(M(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k1(e,t,r){O=e,iy(e)}function iy(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ca;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Fe;l=Ca;var u=Fe;if(Ca=o,(Fe=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?Kf(s):c!==null?(c.return=o,O=c):Kf(s);for(;a!==null;)O=a,iy(a),a=a.sibling;O=s,Ca=l,Fe=u}Wf(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,O=a):Wf(e)}}function Wf(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||rl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ct(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Pf(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Si(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Fe||t.flags&512&&gu(t)}catch(f){ye(t,t.return,f)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function qf(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function Kf(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(c){ye(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ye(t,s,c)}}var a=t.return;try{gu(t)}catch(c){ye(t,a,c)}break;case 5:var o=t.return;try{gu(t)}catch(c){ye(t,o,c)}}}catch(c){ye(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var S1=Math.ceil,ko=ur.ReactCurrentDispatcher,Od=ur.ReactCurrentOwner,xt=ur.ReactCurrentBatchConfig,X=0,Ae=null,we=null,De=0,rt=0,qn=qr(0),Ne=0,Ii=null,wn=0,nl=0,$d=0,ui=null,Ke=null,Fd=0,hs=1/0,Kt=null,So=!1,vu=null,Or=null,Ea=!1,Er=null,_o=0,di=0,wu=null,Xa=-1,Qa=0;function ze(){return X&6?ve():Xa!==-1?Xa:Xa=ve()}function $r(e){return e.mode&1?X&2&&De!==0?De&-De:l1.transition!==null?(Qa===0&&(Qa=z0()),Qa):(e=ee,e!==0||(e=window.event,e=e===void 0?16:X0(e.type)),e):1}function Mt(e,t,r,n){if(50<di)throw di=0,wu=null,Error(M(185));Qi(e,r,n),(!(X&2)||e!==Ae)&&(e===Ae&&(!(X&2)&&(nl|=r),Ne===4&&Sr(e,De)),Ze(e,n),r===1&&X===0&&!(t.mode&1)&&(hs=ve()+500,Zo&&Kr()))}function Ze(e,t){var r=e.callbackNode;lb(e,t);var n=lo(e,e===Ae?De:0);if(n===0)r!==null&&tf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tf(r),t===1)e.tag===0?o1(Gf.bind(null,e)):pg(Gf.bind(null,e)),n1(function(){!(X&6)&&Kr()}),r=null;else{switch(H0(n)){case 1:r=dd;break;case 4:r=U0;break;case 16:r=oo;break;case 536870912:r=B0;break;default:r=oo}r=fy(r,ay.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ay(e,t){if(Xa=-1,Qa=0,X&6)throw Error(M(327));var r=e.callbackNode;if(ns()&&e.callbackNode!==r)return null;var n=lo(e,e===Ae?De:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Co(e,n);else{t=n;var s=X;X|=2;var a=ly();(Ae!==e||De!==t)&&(Kt=null,hs=ve()+500,hn(e,t));do try{E1();break}catch(l){oy(e,l)}while(!0);kd(),ko.current=a,X=s,we!==null?t=0:(Ae=null,De=0,t=Ne)}if(t!==0){if(t===2&&(s=Kc(e),s!==0&&(n=s,t=bu(e,s))),t===1)throw r=Ii,hn(e,0),Sr(e,n),Ze(e,ve()),r;if(t===6)Sr(e,n);else{if(s=e.current.alternate,!(n&30)&&!_1(s)&&(t=Co(e,n),t===2&&(a=Kc(e),a!==0&&(n=a,t=bu(e,a))),t===1))throw r=Ii,hn(e,0),Sr(e,n),Ze(e,ve()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(M(345));case 2:en(e,Ke,Kt);break;case 3:if(Sr(e,n),(n&130023424)===n&&(t=Fd+500-ve(),10<t)){if(lo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tu(en.bind(null,e,Ke,Kt),t);break}en(e,Ke,Kt);break;case 4:if(Sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-At(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*S1(n/1960))-n,10<n){e.timeoutHandle=tu(en.bind(null,e,Ke,Kt),n);break}en(e,Ke,Kt);break;case 5:en(e,Ke,Kt);break;default:throw Error(M(329))}}}return Ze(e,ve()),e.callbackNode===r?ay.bind(null,e):null}function bu(e,t){var r=ui;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=Co(e,t),e!==2&&(t=Ke,Ke=r,t!==null&&ju(t)),e}function ju(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function _1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Rt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~$d,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-At(t),n=1<<r;e[r]=-1,t&=~n}}function Gf(e){if(X&6)throw Error(M(327));ns();var t=lo(e,0);if(!(t&1))return Ze(e,ve()),null;var r=Co(e,t);if(e.tag!==0&&r===2){var n=Kc(e);n!==0&&(t=n,r=bu(e,n))}if(r===1)throw r=Ii,hn(e,0),Sr(e,t),Ze(e,ve()),r;if(r===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,en(e,Ke,Kt),Ze(e,ve()),null}function Vd(e,t){var r=X;X|=1;try{return e(t)}finally{X=r,X===0&&(hs=ve()+500,Zo&&Kr())}}function bn(e){Er!==null&&Er.tag===0&&!(X&6)&&ns();var t=X;X|=1;var r=xt.transition,n=ee;try{if(xt.transition=null,ee=1,e)return e()}finally{ee=n,xt.transition=r,X=t,!(X&6)&&Kr()}}function Ud(){rt=qn.current,ce(qn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,r1(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(bd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mo();break;case 3:us(),ce(Qe),ce(Ue),Td();break;case 5:Pd(n);break;case 4:us();break;case 13:ce(de);break;case 19:ce(de);break;case 10:Sd(n.type._context);break;case 22:case 23:Ud()}r=r.return}if(Ae=e,we=e=Fr(e.current,null),De=rt=t,Ne=0,Ii=null,$d=nl=wn=0,Ke=ui=null,ln!==null){for(t=0;t<ln.length;t++)if(r=ln[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}ln=null}return e}function oy(e,t){do{var r=we;try{if(kd(),Ka.current=No,jo){for(var n=fe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jo=!1}if(vn=0,Ee=je=fe=null,li=!1,Ri=0,Od.current=null,r===null||r.return===null){Ne=1,Ii=t,we=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=De,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Lf(o);if(y!==null){y.flags&=-257,If(y,o,l,a,t),y.mode&1&&Df(a,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(c),t.updateQueue=b}else v.add(c);break e}else{if(!(t&1)){Df(a,u,t),Bd();break e}c=Error(M(426))}}else if(ue&&l.mode&1){var j=Lf(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),If(j,o,l,a,t),jd(ds(c,l));break e}}a=c=ds(c,l),Ne!==4&&(Ne=2),ui===null?ui=[a]:ui.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Hg(a,c,t);Ef(a,g);break e;case 1:l=c;var x=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Or===null||!Or.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Wg(a,l,t);Ef(a,w);break e}}a=a.return}while(a!==null)}uy(r)}catch(k){t=k,we===r&&r!==null&&(we=r=r.return);continue}break}while(!0)}function ly(){var e=ko.current;return ko.current=No,e===null?No:e}function Bd(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ae===null||!(wn&268435455)&&!(nl&268435455)||Sr(Ae,De)}function Co(e,t){var r=X;X|=2;var n=ly();(Ae!==e||De!==t)&&(Kt=null,hn(e,t));do try{C1();break}catch(s){oy(e,s)}while(!0);if(kd(),X=r,ko.current=n,we!==null)throw Error(M(261));return Ae=null,De=0,Ne}function C1(){for(;we!==null;)cy(we)}function E1(){for(;we!==null&&!Zw();)cy(we)}function cy(e){var t=hy(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?uy(e):we=t,Od.current=null}function uy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=b1(r,t),r!==null){r.flags&=32767,we=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,we=null;return}}else if(r=w1(r,t,rt),r!==null){we=r;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ne===0&&(Ne=5)}function en(e,t,r){var n=ee,s=xt.transition;try{xt.transition=null,ee=1,P1(e,t,r,n)}finally{xt.transition=s,ee=n}return null}function P1(e,t,r,n){do ns();while(Er!==null);if(X&6)throw Error(M(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(cb(e,a),e===Ae&&(we=Ae=null,De=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ea||(Ea=!0,fy(oo,function(){return ns(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=xt.transition,xt.transition=null;var o=ee;ee=1;var l=X;X|=4,Od.current=null,N1(e,r),sy(r,e),Yb(Zc),co=!!Jc,Zc=Jc=null,e.current=r,k1(r),eb(),X=l,ee=o,xt.transition=a}else e.current=r;if(Ea&&(Ea=!1,Er=e,_o=s),a=e.pendingLanes,a===0&&(Or=null),nb(r.stateNode),Ze(e,ve()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(So)throw So=!1,e=vu,vu=null,e;return _o&1&&e.tag!==0&&ns(),a=e.pendingLanes,a&1?e===wu?di++:(di=0,wu=e):di=0,Kr(),null}function ns(){if(Er!==null){var e=H0(_o),t=xt.transition,r=ee;try{if(xt.transition=null,ee=16>e?16:e,Er===null)var n=!1;else{if(e=Er,Er=null,_o=0,X&6)throw Error(M(331));var s=X;for(X|=4,O=e.current;O!==null;){var a=O,o=a.child;if(O.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:ci(8,d,a)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,y=d.return;if(ty(d),d===u){O=null;break}if(f!==null){f.return=y,O=f;break}O=y}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var j=b.sibling;b.sibling=null,b=j}while(b!==null)}}O=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,O=o;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ci(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,O=g;break e}O=a.return}}var x=e.current;for(O=x;O!==null;){o=O;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,O=m;else e:for(o=x;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){ye(l,l.return,k)}if(l===o){O=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,O=w;break e}O=l.return}}if(X=s,Kr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Go,e)}catch{}n=!0}return n}finally{ee=r,xt.transition=t}}return!1}function Yf(e,t,r){t=ds(r,t),t=Hg(e,t,1),e=Ir(e,t,1),t=ze(),e!==null&&(Qi(e,1,t),Ze(e,t))}function ye(e,t,r){if(e.tag===3)Yf(e,e,r);else for(;t!==null;){if(t.tag===3){Yf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Or===null||!Or.has(n))){e=ds(r,e),e=Wg(t,e,1),t=Ir(t,e,1),e=ze(),t!==null&&(Qi(t,1,e),Ze(t,e));break}}t=t.return}}function T1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(De&r)===r&&(Ne===4||Ne===3&&(De&130023424)===De&&500>ve()-Fd?hn(e,0):$d|=r),Ze(e,t)}function dy(e,t){t===0&&(e.mode&1?(t=xa,xa<<=1,!(xa&130023424)&&(xa=4194304)):t=1);var r=ze();e=ir(e,t),e!==null&&(Qi(e,t,r),Ze(e,r))}function A1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dy(e,r)}function M1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(t),dy(e,r)}var hy;hy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Xe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xe=!1,v1(e,t,r);Xe=!!(e.flags&131072)}else Xe=!1,ue&&t.flags&1048576&&gg(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ya(e,t),e=t.pendingProps;var s=os(t,Ue.current);rs(t,r),s=Md(null,t,n,e,s,r);var a=Rd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(n)?(a=!0,po(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cd(t),s.updater=tl,t.stateNode=s,s._reactInternals=t,lu(t,n,e,r),t=du(null,t,n,!0,a,r)):(t.tag=0,ue&&a&&wd(t),Be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ya(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=D1(n),e=Ct(n,e),s){case 0:t=uu(null,t,n,e,r);break e;case 1:t=Ff(null,t,n,e,r);break e;case 11:t=Of(null,t,n,e,r);break e;case 14:t=$f(null,t,n,Ct(n.type,e),r);break e}throw Error(M(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),uu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),Ff(e,t,n,s,r);case 3:e:{if(Yg(t),e===null)throw Error(M(387));n=t.pendingProps,a=t.memoizedState,s=a.element,jg(e,t),wo(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ds(Error(M(423)),t),t=Vf(e,t,n,r,s);break e}else if(n!==s){s=ds(Error(M(424)),t),t=Vf(e,t,n,r,s);break e}else for(nt=Lr(t.stateNode.containerInfo.firstChild),st=t,ue=!0,Tt=null,r=wg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ls(),n===s){t=ar(e,t,r);break e}Be(e,t,n,r)}t=t.child}return t;case 5:return Ng(t),e===null&&iu(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,eu(n,s)?o=null:a!==null&&eu(n,a)&&(t.flags|=32),Gg(e,t),Be(e,t,o,r),t.child;case 6:return e===null&&iu(t),null;case 13:return Xg(e,t,r);case 4:return Ed(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cs(t,null,n,r):Be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),Of(e,t,n,s,r);case 7:return Be(e,t,t.pendingProps,r),t.child;case 8:return Be(e,t,t.pendingProps.children,r),t.child;case 12:return Be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,oe(xo,n._currentValue),n._currentValue=o,a!==null)if(Rt(a.value,o)){if(a.children===s.children&&!Qe.current){t=ar(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=er(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),au(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(M(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),au(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,rs(t,r),s=wt(s),n=n(s),t.flags|=1,Be(e,t,n,r),t.child;case 14:return n=t.type,s=Ct(n,t.pendingProps),s=Ct(n.type,s),$f(e,t,n,s,r);case 15:return qg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),Ya(e,t),t.tag=1,Je(n)?(e=!0,po(t)):e=!1,rs(t,r),zg(t,n,s),lu(t,n,s,r),du(null,t,n,!0,e,r);case 19:return Qg(e,t,r);case 22:return Kg(e,t,r)}throw Error(M(156,t.tag))};function fy(e,t){return V0(e,t)}function R1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new R1(e,t,r,n)}function zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D1(e){if(typeof e=="function")return zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ld)return 11;if(e===cd)return 14}return 2}function Fr(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ja(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")zd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case In:return fn(r.children,s,a,t);case od:o=8,s|=8;break;case Mc:return e=gt(12,r,t,s|2),e.elementType=Mc,e.lanes=a,e;case Rc:return e=gt(13,r,t,s),e.elementType=Rc,e.lanes=a,e;case Dc:return e=gt(19,r,t,s),e.elementType=Dc,e.lanes=a,e;case N0:return sl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b0:o=10;break e;case j0:o=9;break e;case ld:o=11;break e;case cd:o=14;break e;case br:o=16,n=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=gt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function fn(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function sl(e,t,r,n){return e=gt(22,e,n,t),e.elementType=N0,e.lanes=r,e.stateNode={isHidden:!1},e}function oc(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function lc(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L1(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bl(0),this.expirationTimes=Bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hd(e,t,r,n,s,a,o,l,c){return e=new L1(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cd(a),e}function I1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function my(e){if(!e)return Br;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var r=e.type;if(Je(r))return mg(e,r,t)}return t}function py(e,t,r,n,s,a,o,l,c){return e=Hd(r,n,!0,e,s,a,o,l,c),e.context=my(null),r=e.current,n=ze(),s=$r(r),a=er(n,s),a.callback=t??null,Ir(r,a,s),e.current.lanes=s,Qi(e,s,n),Ze(e,n),e}function il(e,t,r,n){var s=t.current,a=ze(),o=$r(s);return r=my(r),t.context===null?t.context=r:t.pendingContext=r,t=er(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ir(s,t,o),e!==null&&(Mt(e,s,o,a),qa(e,s,o)),o}function Eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wd(e,t){Xf(e,t),(e=e.alternate)&&Xf(e,t)}function O1(){return null}var gy=typeof reportError=="function"?reportError:function(e){console.error(e)};function qd(e){this._internalRoot=e}al.prototype.render=qd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));il(e,t,null,null)};al.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){il(null,e,null,null)}),t[sr]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=K0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kr.length&&t!==0&&t<kr[r].priority;r++);kr.splice(r,0,e),r===0&&Y0(e)}};function Kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qf(){}function $1(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Eo(o);a.call(u)}}var o=py(t,n,e,0,null,!1,!1,"",Qf);return e._reactRootContainer=o,e[sr]=o.current,Ei(e.nodeType===8?e.parentNode:e),bn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Eo(c);l.call(u)}}var c=Hd(e,0,!1,null,null,!1,!1,"",Qf);return e._reactRootContainer=c,e[sr]=c.current,Ei(e.nodeType===8?e.parentNode:e),bn(function(){il(t,c,r,n)}),c}function ll(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Eo(o);l.call(c)}}il(t,o,e,s)}else o=$1(r,t,e,s,n);return Eo(o)}W0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qs(t.pendingLanes);r!==0&&(hd(t,r|1),Ze(t,ve()),!(X&6)&&(hs=ve()+500,Kr()))}break;case 13:bn(function(){var n=ir(e,1);if(n!==null){var s=ze();Mt(n,e,1,s)}}),Wd(e,1)}};fd=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var r=ze();Mt(t,e,134217728,r)}Wd(e,134217728)}};q0=function(e){if(e.tag===13){var t=$r(e),r=ir(e,t);if(r!==null){var n=ze();Mt(r,e,t,n)}Wd(e,t)}};K0=function(){return ee};G0=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};Hc=function(e,t,r){switch(t){case"input":if(Oc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Jo(n);if(!s)throw Error(M(90));S0(n),Oc(n,s)}}}break;case"textarea":C0(e,r);break;case"select":t=r.value,t!=null&&Jn(e,!!r.multiple,t,!1)}};D0=Vd;L0=bn;var F1={usingClientEntryPoint:!1,Events:[Zi,Vn,Jo,M0,R0,Vd]},Bs={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V1={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$0(e),e===null?null:e.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{Go=Pa.inject(V1),Ft=Pa}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F1;ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kd(t))throw Error(M(200));return I1(e,t,null,r)};ut.createRoot=function(e,t){if(!Kd(e))throw Error(M(299));var r=!1,n="",s=gy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hd(e,1,!1,null,null,r,!1,n,s),e[sr]=t.current,Ei(e.nodeType===8?e.parentNode:e),new qd(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=$0(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return bn(e)};ut.hydrate=function(e,t,r){if(!ol(t))throw Error(M(200));return ll(null,e,t,!0,r)};ut.hydrateRoot=function(e,t,r){if(!Kd(e))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=gy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=py(t,null,e,1,r??null,s,!1,a,o),e[sr]=t.current,Ei(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new al(t)};ut.render=function(e,t,r){if(!ol(t))throw Error(M(200));return ll(null,e,t,!1,r)};ut.unmountComponentAtNode=function(e){if(!ol(e))throw Error(M(40));return e._reactRootContainer?(bn(function(){ll(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};ut.unstable_batchedUpdates=Vd;ut.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ol(r))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return ll(e,t,r,!1,n)};ut.version="18.3.1-next-f1338f8080-20240426";function yy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yy)}catch(e){console.error(e)}}yy(),y0.exports=ut;var U1=y0.exports,xy,Jf=U1;xy=Jf.createRoot,Jf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}var Pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pr||(Pr={}));const Zf="popstate";function B1(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Nu("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Po(s)}return H1(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z1(){return Math.random().toString(36).substr(2,8)}function em(e,t){return{usr:e.state,key:e.key,idx:t}}function Nu(e,t,r,n){return r===void 0&&(r=null),Oi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cs(t):t,{state:r,key:t&&t.key||n||z1()})}function Po(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function H1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Pr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Oi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Pr.Pop;let j=d(),g=j==null?null:j-u;u=j,c&&c({action:l,location:b.location,delta:g})}function f(j,g){l=Pr.Push;let x=Nu(b.location,j,g);u=d()+1;let m=em(x,u),w=b.createHref(x);try{o.pushState(m,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}a&&c&&c({action:l,location:b.location,delta:1})}function y(j,g){l=Pr.Replace;let x=Nu(b.location,j,g);u=d();let m=em(x,u),w=b.createHref(x);o.replaceState(m,"",w),a&&c&&c({action:l,location:b.location,delta:0})}function v(j){let g=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof j=="string"?j:Po(j);return x=x.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let b={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zf,h),c=j,()=>{s.removeEventListener(Zf,h),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let g=v(j);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:y,go(j){return o.go(j)}};return b}var tm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tm||(tm={}));function W1(e,t,r){return r===void 0&&(r="/"),q1(e,t,r)}function q1(e,t,r,n){let s=typeof t=="string"?Cs(t):t,a=fs(s.pathname||"/",r);if(a==null)return null;let o=wy(e);K1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=sj(a);l=rj(o[c],u)}return l}function wy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Vr([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(me(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wy(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:ej(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of by(a.path))s(a,o,c)}),t}function by(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=by(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function K1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const G1=/^:[\w-]+$/,Y1=3,X1=2,Q1=1,J1=10,Z1=-2,rm=e=>e==="*";function ej(e,t){let r=e.split("/"),n=r.length;return r.some(rm)&&(n+=Z1),t&&(n+=X1),r.filter(s=>!rm(s)).reduce((s,a)=>s+(G1.test(a)?Y1:a===""?Q1:J1),n)}function tj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function rj(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=ku({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Vr([a,h.pathname]),pathnameBase:lj(Vr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Vr([a,h.pathnameBase]))}return o}function ku(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=nj(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[h];return y&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function nj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function sj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ij(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Cs(e):e;return{pathname:r?r.startsWith("/")?r:aj(r,t):t,search:cj(n),hash:uj(s)}}function aj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gd(e,t){let r=oj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Cs(e):(s=Oi({},e),me(!s.pathname||!s.pathname.includes("?"),cc("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),cc("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),cc("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=ij(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Vr=e=>e.join("/").replace(/\/\/+/g,"/"),lj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jy=["post","put","patch","delete"];new Set(jy);const hj=["get",...jy];new Set(hj);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}const cl=p.createContext(null),Ny=p.createContext(null),dr=p.createContext(null),ul=p.createContext(null),Wt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),ky=p.createContext(null);function fj(e,t){let{relative:r}=t===void 0?{}:t;Es()||me(!1);let{basename:n,navigator:s}=p.useContext(dr),{hash:a,pathname:o,search:l}=dl(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Vr([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Es(){return p.useContext(ul)!=null}function hr(){return Es()||me(!1),p.useContext(ul).location}function Sy(e){p.useContext(dr).static||p.useLayoutEffect(e)}function Nt(){let{isDataRoute:e}=p.useContext(Wt);return e?Pj():mj()}function mj(){Es()||me(!1);let e=p.useContext(cl),{basename:t,future:r,navigator:n}=p.useContext(dr),{matches:s}=p.useContext(Wt),{pathname:a}=hr(),o=JSON.stringify(Gd(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return Sy(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Yd(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}const pj=p.createContext(null);function gj(e){let t=p.useContext(Wt).outlet;return t&&p.createElement(pj.Provider,{value:e},t)}function yj(){let{matches:e}=p.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function dl(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(dr),{matches:s}=p.useContext(Wt),{pathname:a}=hr(),o=JSON.stringify(Gd(s,n.v7_relativeSplatPath));return p.useMemo(()=>Yd(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function xj(e,t){return vj(e,t)}function vj(e,t,r,n){Es()||me(!1);let{navigator:s,static:a}=p.useContext(dr),{matches:o}=p.useContext(Wt),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=hr(),h;if(t){var f;let g=typeof t=="string"?Cs(t):t;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||me(!1),h=g}else h=d;let y=h.pathname||"/",v=y;if(u!=="/"){let g=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=W1(e,{pathname:v}),j=kj(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Vr([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Vr([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&j?p.createElement(ul.Provider,{value:{location:$i({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Pr.Pop}},j):j}function wj(){let e=Ej(),t=dj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const bj=p.createElement(wj,null);class jj extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Wt.Provider,{value:this.props.routeContext},p.createElement(ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nj(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(cl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Wt.Provider,{value:t},n)}function kj(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||me(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:y}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let y,v=!1,b=null,j=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||bj,c&&(u<0&&f===0?(Tj("route-fallback"),v=!0,j=null):u===f&&(v=!0,j=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),x=()=>{let m;return y?m=b:v?m=j:h.route.Component?m=p.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,p.createElement(Nj,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(jj,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var _y=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_y||{}),Cy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cy||{});function Sj(e){let t=p.useContext(cl);return t||me(!1),t}function _j(e){let t=p.useContext(Ny);return t||me(!1),t}function Cj(e){let t=p.useContext(Wt);return t||me(!1),t}function Ey(e){let t=Cj(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function Ej(){var e;let t=p.useContext(ky),r=_j(),n=Ey();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Pj(){let{router:e}=Sj(_y.UseNavigateStable),t=Ey(Cy.UseNavigateStable),r=p.useRef(!1);return Sy(()=>{r.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$i({fromRouteId:t},a)))},[e,t])}const nm={};function Tj(e,t,r){nm[e]||(nm[e]=!0)}function Aj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ms(e){let{to:t,replace:r,state:n,relative:s}=e;Es()||me(!1);let{future:a,static:o}=p.useContext(dr),{matches:l}=p.useContext(Wt),{pathname:c}=hr(),u=Nt(),d=Yd(t,Gd(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Mj(e){return gj(e.context)}function Me(e){me(!1)}function Rj(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Pr.Pop,navigator:a,static:o=!1,future:l}=e;Es()&&me(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:o,future:$i({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Cs(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:v="default"}=n,b=p.useMemo(()=>{let j=fs(d,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:y,key:v},navigationType:s}},[c,d,h,f,y,v,s]);return b==null?null:p.createElement(dr.Provider,{value:u},p.createElement(ul.Provider,{children:r,value:b}))}function Dj(e){let{children:t,location:r}=e;return xj(Su(t),r)}new Promise(()=>{});function Su(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let a=[...t,s];if(n.type===p.Fragment){r.push.apply(r,Su(n.props.children,a));return}n.type!==Me&&me(!1),!n.props.index||!n.props.children||me(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Su(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(this,arguments)}function Py(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Lj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ij(e,t){return e.button===0&&(!t||t==="_self")&&!Lj(e)}const Oj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$j=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Fj="6";try{window.__reactRouterVersion=Fj}catch{}const Vj=p.createContext({isTransitioning:!1}),Uj="startTransition",sm=Tw[Uj];function Bj(e){let{basename:t,children:r,future:n,window:s}=e,a=p.useRef();a.current==null&&(a.current=B1({window:s,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(h=>{u&&sm?sm(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>Aj(n),[n]),p.createElement(Rj,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const zj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Py(t,Oj),{basename:y}=p.useContext(dr),v,b=!1;if(typeof u=="string"&&Hj.test(u)&&(v=u,zj))try{let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),k=fs(w.pathname,y);w.origin===m.origin&&k!=null?u=k+w.search+w.hash:b=!0}catch{}let j=fj(u,{relative:s}),g=qj(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(m){n&&n(m),m.defaultPrevented||g(m)}return p.createElement("a",To({},f,{href:v||j,onClick:b||a?n:x,ref:r,target:c}))}),qt=p.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Py(t,$j),f=dl(c,{relative:h.relative}),y=hr(),v=p.useContext(Ny),{navigator:b,basename:j}=p.useContext(dr),g=v!=null&&Kj(f)&&u===!0,x=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,m=y.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(m=m.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&j&&(w=fs(w,j)||w);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=m===x||!o&&m.startsWith(x)&&m.charAt(k)==="/",N=w!=null&&(w===x||!o&&w.startsWith(x)&&w.charAt(x.length)==="/"),S={isActive:C,isPending:N,isTransitioning:g},_=C?n:void 0,E;typeof a=="function"?E=a(S):E=[a,C?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(S):l;return p.createElement(Pe,To({},h,{"aria-current":_,className:E,ref:r,style:P,to:c,viewTransition:u}),typeof d=="function"?d(S):d)});var _u;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_u||(_u={}));var im;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(im||(im={}));function Wj(e){let t=p.useContext(cl);return t||me(!1),t}function qj(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Nt(),u=hr(),d=dl(e,{relative:o});return p.useCallback(h=>{if(Ij(h,r)){h.preventDefault();let f=n!==void 0?n:Po(u)===Po(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function Kj(e,t){t===void 0&&(t={});let r=p.useContext(Vj);r==null&&me(!1);let{basename:n}=Wj(_u.useViewTransitionState),s=dl(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=fs(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=fs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ku(s.pathname,o)!=null||ku(s.pathname,a)!=null}const Gj="modulepreload",Yj=function(e){return"/"+e},am={},ps=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Yj(c),c in am)return;am[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Gj,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Xj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Ps);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Qj extends Xd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jj extends Xd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zj extends Xd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cu||(Cu={}));var eN=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class tN{constructor(t,{headers:r={},customFetch:n,region:s=Cu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Xj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return eN(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new Qj(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Jj(d);if(!d.ok)throw new Zj(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ge={},Qd={},hl={},ta={},fl={},ml={},rN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gs=rN();const nN=gs.fetch,Ty=gs.fetch.bind(gs),Ay=gs.Headers,sN=gs.Request,iN=gs.Response,Ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ay,Request:sN,Response:iN,default:Ty,fetch:nN},Symbol.toStringTag,{value:"Module"})),aN=mw(Ps);var pl={};Object.defineProperty(pl,"__esModule",{value:!0});let oN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};pl.default=oN;var My=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const lN=My(aN),cN=My(pl);let uN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,f=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await a.text();try{u=JSON.parse(b),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,y="OK")}catch{a.status===404&&b===""?(f=204,y="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new cN.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ml.default=uN;var dN=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const hN=dN(ml);let fN=class extends hN.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fl.default=fN;var mN=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0});const pN=mN(fl);let gN=class extends pN.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ta.default=gN;var yN=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hl,"__esModule",{value:!0});const zs=yN(ta);let xN=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new zs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new zs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new zs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new zs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new zs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hl.default=xN;var gl={},yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.version=void 0;yl.version="0.0.0-automated";Object.defineProperty(gl,"__esModule",{value:!0});gl.DEFAULT_HEADERS=void 0;const vN=yl;gl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vN.version}`};var Ry=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qd,"__esModule",{value:!0});const wN=Ry(hl),bN=Ry(ta),jN=gl;let NN=class Dy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},jN.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new wN.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new bN.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qd.default=NN;var Ts=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.PostgrestError=Ge.PostgrestBuilder=Ge.PostgrestTransformBuilder=Ge.PostgrestFilterBuilder=Ge.PostgrestQueryBuilder=Ge.PostgrestClient=void 0;const Ly=Ts(Qd);Ge.PostgrestClient=Ly.default;const Iy=Ts(hl);Ge.PostgrestQueryBuilder=Iy.default;const Oy=Ts(ta);Ge.PostgrestFilterBuilder=Oy.default;const $y=Ts(fl);Ge.PostgrestTransformBuilder=$y.default;const Fy=Ts(ml);Ge.PostgrestBuilder=Fy.default;const Vy=Ts(pl);Ge.PostgrestError=Vy.default;var kN=Ge.default={PostgrestClient:Ly.default,PostgrestQueryBuilder:Iy.default,PostgrestFilterBuilder:Oy.default,PostgrestTransformBuilder:$y.default,PostgrestBuilder:Fy.default,PostgrestError:Vy.default};const{PostgrestClient:SN,PostgrestQueryBuilder:vT,PostgrestFilterBuilder:wT,PostgrestTransformBuilder:bT,PostgrestBuilder:jT,PostgrestError:NT}=kN,_N="2.11.2",CN={"X-Client-Info":`realtime-js/${_N}`},EN="1.0.0",Uy=1e4,PN=1e3;var ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ss||(ss={}));var tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tt||(tt={}));var Pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pt||(Pt={}));var Eu;(function(e){e.websocket="websocket"})(Eu||(Eu={}));var an;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(an||(an={}));class TN{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class By{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const om=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=AN(o,e,t,s),a),{})},AN=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?zy(a,o):Pu(o)},zy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return LN(t,r)}switch(e){case ae.bool:return MN(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return RN(t);case ae.json:case ae.jsonb:return DN(t);case ae.timestamp:return IN(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Pu(t);default:return Pu(t)}},Pu=e=>e,MN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LN=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>zy(t,l))}return e},IN=e=>typeof e=="string"?e.replace(" ","T"):e,Hy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class uc{constructor(t,r,n={},s=Uy){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lm||(lm={}));class hi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=hi.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hi.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),v=d.filter(j=>y.indexOf(j.presence_ref)<0),b=h.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cm||(cm={}));var um;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(um||(um={}));var Gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class Jd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uc(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new By(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new hi(this),this.broadcastEndpointURL=Hy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Gt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Gt.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Gt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let b=0;b<y;b++){const j=f[b],{filter:{event:g,schema:x,table:m,filter:w}}=j,k=d&&d[b];if(k&&k.event===g&&k.schema===x&&k.table===m&&k.filter===w)v.push(Object.assign(Object.assign({},j),{id:k.id}));else{this.unsubscribe(),t==null||t(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Gt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new uc(this,Pt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uc(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Pt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,b,j;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(b=y.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var v,b,j,g,x,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,k=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(x=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:b,table:j,commit_timestamp:g,type:x,errors:m}=v;f=Object.assign(Object.assign({},{schema:b,table:j,commit_timestamp:g,eventType:x,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Jd.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pt.close,{},t)}_onError(t){this._on(Pt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=om(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=om(t.columns,t.old_record)),r}}const ON=()=>{},$N=typeof WebSocket<"u",FN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VN{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=CN,this.params={},this.timeout=Uy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ON,this.conn=null,this.sendBuffer=[],this.serializer=new TN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>ps(async()=>{const{default:c}=await Promise.resolve().then(()=>Ps);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Eu.websocket}`,this.httpEndpoint=Hy(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new By(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if($N){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new UN(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ps(async()=>{const{default:t}=await import("./browser-DDzX-F-w.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EN}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return an.Connecting;case ss.open:return an.Open;case ss.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}channel(t,r={config:{}}){const n=new Jd(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Pt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(PN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([FN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class UN{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ss.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Zd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BN extends Zd{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Tu extends Zd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var zN=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Wy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Ps);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},HN=()=>zN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ps(()=>Promise.resolve().then(()=>Ps),void 0)).Response:Response}),Au=e=>{if(Array.isArray(e))return e.map(r=>Au(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Au(n)}),t};var Cn=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const dc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WN=(e,t,r)=>Cn(void 0,void 0,void 0,function*(){const n=yield HN();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new BN(dc(s),e.status||500))}).catch(s=>{t(new Tu(dc(s),s))}):t(new Tu(dc(e),e))}),qN=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ra(e,t,r,n,s,a){return Cn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,qN(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>WN(c,l,n))})})}function Ao(e,t,r,n){return Cn(this,void 0,void 0,function*(){return ra(e,"GET",t,r,n)})}function Nr(e,t,r,n,s){return Cn(this,void 0,void 0,function*(){return ra(e,"POST",t,n,s,r)})}function KN(e,t,r,n,s){return Cn(this,void 0,void 0,function*(){return ra(e,"PUT",t,n,s,r)})}function GN(e,t,r,n){return Cn(this,void 0,void 0,function*(){return ra(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qy(e,t,r,n,s){return Cn(this,void 0,void 0,function*(){return ra(e,"DELETE",t,n,s,r)})}var qe=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const YN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XN{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Wy(s)}uploadOrUpdate(t,r,n,s){return qe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},dm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}upload(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return qe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:dm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(_e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Nr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Zd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}update(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}copy(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Nr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return qe(this,void 0,void 0,function*(){try{const s=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}download(t,r){return qe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ao(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}info(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ao(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Au(n),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}exists(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield GN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(_e(n)&&n instanceof Tu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield qy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}list(t,r,n){return qe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},YN),r),{prefix:t||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const QN="2.7.1",JN={"X-Client-Info":`storage-js/${QN}`};var Tn=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ZN{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},JN),r),this.fetch=Wy(n)}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Tn(this,void 0,void 0,function*(){try{return{data:yield KN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield qy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}}class ek extends ZN{constructor(t,r={},n){super(t,r,n)}from(t){return new XN(this.url,this.headers,t,this.fetch)}}const tk="2.49.4";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const rk={"X-Client-Info":`supabase-js-${Zs}/${tk}`},nk={headers:rk},sk={schema:"public"},ik={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ak={};var ok=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lk=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ty:t=fetch,(...r)=>t(...r)},ck=()=>typeof Headers>"u"?Ay:Headers,uk=(e,t,r)=>{const n=lk(r),s=ck();return(a,o)=>ok(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var dk=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function hk(e){return e.replace(/\/$/,"")}function fk(e,t){const{db:r,auth:n,realtime:s,global:a}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),a),accessToken:()=>dk(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Ky="2.69.1",Dn=30*1e3,Mu=3,hc=Mu*Dn,mk="http://localhost:9999",pk="supabase.auth.token",gk={"X-Client-Info":`gotrue-js/${Ky}`},Ru="X-Supabase-Api-Version",Gy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xk=6e5;class eh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vk extends eh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wk(e){return z(e)&&e.name==="AuthApiError"}class Yy extends eh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gr extends eh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class xr extends Gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bk(e){return z(e)&&e.name==="AuthSessionMissingError"}class fc extends Gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ta extends Gr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Aa extends Gr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jk(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class hm extends Gr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Du extends Gr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mc(e){return z(e)&&e.name==="AuthRetryableFetchError"}class fm extends Gr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fi extends Gr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pm=` 	
\r=`.split(""),Nk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pm.length;t+=1)e[pm[t].charCodeAt(0)]=-2;for(let t=0;t<mm.length;t+=1)e[mm[t].charCodeAt(0)]=t;return e})();function Xy(e,t,r){const n=Nk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gm(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{_k(o,n,r)};for(let o=0;o<e.length;o+=1)Xy(e.charCodeAt(o),s,a);return t.join("")}function kk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sk(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}kk(n,t)}}function _k(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ck(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Xy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ek(e){const t=[];return Sk(e,r=>t.push(r)),new Uint8Array(t)}function Pk(e){return Math.round(Date.now()/1e3)+e}function Tk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},mi=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function Ak(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Qy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Ps);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Mk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jy=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ma=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ra=async(e,t)=>{await e.removeItem(t)};class xl{constructor(){this.promise=new xl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}xl.promiseConstructor=Promise;function pc(e){const t=e.split(".");if(t.length!==3)throw new fi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yk.test(t[n]))throw new fi("JWT not in base64url format");return{header:JSON.parse(gm(t[0])),payload:JSON.parse(gm(t[1])),signature:Ck(t[2]),raw:{header:t[0],payload:t[1]}}}async function Rk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dk(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function Lk(e){return("0"+e.toString(16)).substr(-2)}function Ik(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Lk).join("")}async function Ok(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function $k(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ok(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function An(e,t,r=!1){const n=Ik();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Jy(e,`${t}-code-verifier`,s);const a=await $k(n);return[a,n===a?"plain":"s256"]}const Fk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vk(e){const t=e.headers.get(Ru);if(!t||!t.match(Fk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Uk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var zk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hk=[502,503,504];async function ym(e){var t;if(!Mk(e))throw new Du(tn(e),0);if(Hk.includes(e.status))throw new Du(tn(e),e.status);let r;try{r=await e.json()}catch(a){throw new Yy(tn(a),a)}let n;const s=Vk(e);if(s&&s.getTime()>=Gy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fm(tn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new fm(tn(r),e.status,r.weak_password.reasons);throw new vk(tn(r),e.status||500,n)}const Wk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Y(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Ru]||(a[Ru]=Gy["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await qk(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function qk(e,t,r,n,s,a){const o=Wk(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Du(tn(c),0)}if(l.ok||await ym(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ym(c)}}function vr(e){var t;let r=null;Xk(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Pk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xm(e){const t=vr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _r(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kk(e){return{data:e,error:null}}function Gk(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=zk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Yk(e){return e}function Xk(e){return e.access_token&&e.refresh_token&&e.expires_in}var Qk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Jk{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Qy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_r})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Qk(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Gk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_r})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Yk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);u[`${j}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_r})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_r})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_r})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const Zk={getItem:e=>mi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{mi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{mi()&&globalThis.localStorage.removeItem(e)}};function vm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function e2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mn={debug:!!(globalThis&&mi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t2 extends Zy{}async function r2(e,t,r){Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}e2();const n2={url:mk,storageKey:pk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wm(e,t,r){return await r()}class Fi{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fi.nextInstanceID,Fi.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},n2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Jk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qy(s.fetch),this.lock=s.lock||wm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=r2:this.lock=wm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:mi()?this.storage=Zk:(this.memoryStorage={},this.storage=vm(this.memoryStorage)):(this.memoryStorage={},this.storage=vm(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ky}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Ak(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jk(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new Yy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vr}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await An(this.storage,this.storageKey)),a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:vr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vr})}else throw new Ta("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xm})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xm})}else throw new Ta("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vr});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new fc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(z(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await An(this.storage,this.storageKey));const{error:h}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ta("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:vr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await An(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Kk})}catch(a){if(z(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xr;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ta("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_r}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:_r})})}catch(r){if(z(r))return bk(r)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new xr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await An(this.storage,this.storageKey));const{data:u,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:_r});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xr;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=pc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xr;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lt())throw new Aa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Aa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Aa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hm("No code detected.");const{data:x,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Aa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=Dn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:b,error:j}=await this._getUser(a);if(j)throw j;const g={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(wk(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Tk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await An(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(z(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dk(async s=>(s>0&&await Rk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vr})),(s,a)=>{const o=200*Math.pow(2,s);return a&&mc(a)&&Date.now()+o-n<Dn})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ma(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${hc}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),mc(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xl;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new xr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),z(a)){const o={session:null,error:a};return mc(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dn}ms, refresh threshold is ${Mu} ticks`),s<=Mu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await An(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pc(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+xk>Date.now()))return n;const{data:s,error:a}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new fi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new fi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=pc(n);if(Uk(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:s,signature:o},error:null}}const u=Bk(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Ek(`${l}.${c}`)))throw new fi("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}Fi.nextInstanceID=0;const s2=Fi;class i2 extends s2{constructor(t){super(t)}}var a2=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class o2{constructor(t,r,n){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=hk(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:sk,realtime:ak,auth:Object.assign(Object.assign({},ik),{storageKey:c}),global:nk},d=fk(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=uk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new SN(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new tN(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ek(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return a2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i2({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new VN(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l2=(e,t,r)=>new o2(e,t,r),Mo="https://kxfdmpfigwhyvglrukwm.supabase.co",Ro="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4ZmRtcGZpZ3doeXZnbHJ1a3dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUxODQzMDAsImV4cCI6MjA2MDc2MDMwMH0.xkKUtB65Vo4btKQWDxKdf2DAtM1NmCmZg9WEL63xpvQ",ex=()=>Mo.length>0&&Ro.length>0&&!Mo.includes("your-project-url")&&!Ro.includes("your-anon-key"),c2=()=>(console.warn('Supabase credentials are missing or invalid. Please connect to Supabase via the "Connect to Supabase" button.'),{auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signOut:()=>Promise.resolve({error:null}),signInWithPassword:()=>Promise.resolve({error:{message:"Supabase not configured"}}),signUp:()=>Promise.resolve({error:{message:"Supabase not configured"},data:null})},from:()=>({select:()=>({data:null,error:{message:"Supabase not configured"}}),insert:()=>({data:null,error:{message:"Supabase not configured"}}),update:()=>({data:null,error:{message:"Supabase not configured"}}),delete:()=>({data:null,error:{message:"Supabase not configured"}}),upsert:()=>({data:null,error:{message:"Supabase not configured"}})}),functions:{invoke:()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}})},rpc:()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}})}),L=ex()?l2(Mo,Ro,{auth:{persistSession:!0,autoRefreshToken:!0}}):c2();console.log(`Supabase configuration status: ${ex()?"CONFIGURED":"NOT CONFIGURED"}`);console.log(`URL available: ${!!Mo}, Key available: ${!!Ro}`);class u2{constructor(){U(this,"cache",{})}get(t){const r=this.cache[t];return r?Date.now()-r.timestamp>r.expiresIn?(delete this.cache[t],null):r.data:null}set(t,r,n=5*60*1e3){this.cache[t]={data:r,timestamp:Date.now(),expiresIn:n}}has(t){const r=this.cache[t];return r?Date.now()-r.timestamp>r.expiresIn?(delete this.cache[t],!1):!0:!1}clear(t){t?delete this.cache[t]:this.cache={}}}const Ye=new u2,th=e=>Object.entries(e).filter(([r,n])=>n!=null).sort(([r],[n])=>r.localeCompare(n)).map(([r,n])=>Array.isArray(n)?`${r}=[${n.sort().join(",")}]`:`${r}=${n}`).join("&");function Vi(e,t){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>{e(...n),r=null},t)}}const is={},d2=5*60*1e3;async function ys(e){try{const t=is[e];if(t&&Date.now()-t.timestamp<d2)return console.log("Using cached user preferences"),t.data;const{count:r,error:n}=await L.from("user_preferences").select("*",{count:"exact",head:!0}).eq("user_id",e);if(n)return console.error("Error checking user preferences existence:",n),null;if(r===0){console.log("No preferences found for user, creating defaults");const o=Bi(e);return await Ui(o)}const{data:s,error:a}=await L.from("user_preferences").select("*").eq("user_id",e).single();if(a){if(a.code==="PGRST116"){console.log("No preferences found in single query, creating defaults");const o=Bi(e);return await Ui(o)}return console.error("Error fetching user preferences:",a),null}return s&&(is[e]={data:s,timestamp:Date.now()}),s}catch(t){return console.error("Error in getUserPreferences:",t),null}}async function Ui(e){try{if(!e.user_id)throw new Error("User ID is required");const{data:t,error:r}=await L.from("user_preferences").upsert({...e,updated_at:new Date().toISOString()}).select().single();return r?(console.error("Error updating user preferences:",r),null):(t&&(is[e.user_id]={data:t,timestamp:Date.now()}),t)}catch(t){return console.error("Error in updateUserPreferences:",t),null}}function h2(e){e?delete is[e]:Object.keys(is).forEach(t=>{delete is[t]})}function Bi(e){return{user_id:e,keywords:[],categories:[],sources:[],excluded_keywords:[],languages:["en"]}}function f2(){return[{id:"en",name:"English"},{id:"fr",name:"French"},{id:"de",name:"German"},{id:"es",name:"Spanish"},{id:"it",name:"Italian"},{id:"pt",name:"Portuguese"},{id:"ru",name:"Russian"},{id:"nl",name:"Dutch"},{id:"no",name:"Norwegian"},{id:"sv",name:"Swedish"}]}function m2(){return[{id:"business",name:"Business"},{id:"crypto",name:"Cryptocurrency"},{id:"stocks",name:"Stock Market"},{id:"technology",name:"Technology"},{id:"web3",name:"Web3"},{id:"science",name:"Science"},{id:"health",name:"Health"},{id:"artificial_intelligence",name:"Artificial Intelligence"},{id:"machine_learning",name:"Machine Learning"},{id:"llm",name:"LLMs"},{id:"generative_ai",name:"Generative AI"},{id:"ai_ethics",name:"AI Ethics"},{id:"ai_research",name:"AI Research"}]}function p2(){return[{id:"bloomberg",name:"Bloomberg"},{id:"cnn",name:"CNN"},{id:"bbc-news",name:"BBC News"},{id:"reuters",name:"Reuters"},{id:"techcrunch",name:"TechCrunch"},{id:"the-verge",name:"The Verge"},{id:"wired",name:"Wired"},{id:"mit-technology-review",name:"MIT Technology Review"},{id:"venturebeat",name:"VentureBeat"},{id:"ai-news",name:"AI News"},{id:"arxiv",name:"arXiv"}]}const tx=p.createContext(void 0);function be(){const e=p.useContext(tx);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const g2=({children:e})=>{const[t,r]=p.useState(!0),[n,s]=p.useState(null),[a,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(!1);p.useEffect(()=>{L.auth.getSession().then(({data:{session:x}})=>{s(x),o((x==null?void 0:x.user)??null),x!=null&&x.user?h(x.user.id):r(!1)});const{data:{subscription:g}}=L.auth.onAuthStateChange((x,m)=>{s(m),o((m==null?void 0:m.user)??null),m!=null&&m.user?h(m.user.id):(c(null),d(!1),r(!1))});return()=>{g.unsubscribe()}},[]);async function h(g){try{const{data:x,error:m}=await L.from("profiles").select("*").eq("id",g).single();if(m){console.error("Error fetching profile:",m),r(!1);return}x&&(c(x),d(x.role==="admin"),console.log("User role:",x.role,"isAdmin:",x.role==="admin"),await f(g)),r(!1)}catch(x){console.error("Error in fetchProfile:",x),r(!1)}}async function f(g){try{const{count:x}=await L.from("user_preferences").select("*",{count:"exact",head:!0}).eq("user_id",g);if(x===0){console.log("Creating default preferences for user:",g);const m=Bi(g);await Ui(m)}}catch(x){console.error("Error ensuring user preferences:",x)}}async function y(g,x){try{const{error:m}=await L.auth.signInWithPassword({email:g,password:x});return{error:m}}catch(m){return console.error("Error signing in:",m),{error:m}}}async function v(g,x,m){try{const{data:w,error:k}=await L.auth.signUp({email:g,password:x,options:{data:{username:m}}});if(!k&&w.user)try{await L.rpc("insert_user_profile",{user_id:w.user.id,user_email:g,user_name:m,user_role:g.toLowerCase().endsWith("@blindvibe.com")?"admin":"user"}),console.log("Creating default preferences for new user");const C=Bi(w.user.id);await Ui(C)}catch(C){return console.error("Error creating profile or preferences:",C),{data:w,error:C}}return{data:w,error:k}}catch(w){return console.error("Error signing up:",w),{data:null,error:w}}}async function b(){try{Ye.clear(),await L.auth.signOut()}catch(g){console.error("Error signing out:",g)}}const j={session:n,user:a,profile:l,loading:t,signIn:y,signUp:v,signOut:b,isAdmin:u};return i.jsx(tx.Provider,{value:j,children:e})},rx=p.createContext(void 0),y2=()=>{const e=p.useContext(rx);if(e===void 0)throw new Error("useNewsTicker must be used within a NewsTickerProvider");return e},x2=({children:e})=>{const[t,r]=p.useState(()=>{const c=localStorage.getItem("newsTicker.isVisible");return c!==null?c==="true":!0}),[n,s]=p.useState(()=>{const c=localStorage.getItem("newsTicker.isMuted");return c!==null?c==="true":!1});p.useEffect(()=>{localStorage.setItem("newsTicker.isVisible",t.toString())},[t]),p.useEffect(()=>{localStorage.setItem("newsTicker.isMuted",n.toString())},[n]);const a=()=>r(!0),o=()=>r(!1),l=()=>s(c=>!c);return i.jsx(rx.Provider,{value:{isVisible:t,isMuted:n,showTicker:a,hideTicker:o,toggleMute:l},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...v2,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${w2(e)}`,l].join(" "),...u},[...t.map(([h,f])=>p.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=D("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=D("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=D("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=D("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=D("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=D("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=D("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=D("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=D("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=D("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=D("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=D("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=D("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=D("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=D("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=D("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=D("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=D("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=D("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=D("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=D("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=D("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=D("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=D("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=D("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=D("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=D("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=D("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=D("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=D("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=D("PanelTop",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=D("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=D("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=D("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=D("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=D("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=D("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=D("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=D("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=D("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=D("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=D("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=D("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=D("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=D("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=D("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=D("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oh=p.createContext({});function As(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const kl=p.createContext(null),aa=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class G2 extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y2({children:e,isPresent:t}){const r=p.useId(),n=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=p.useContext(aa);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(G2,{isPresent:t,childRef:n,sizeRef:s,children:p.cloneElement(e,{ref:n})})}const X2=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=As(Q2),c=p.useId(),u=p.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),d=p.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),u]:[r,u]);return p.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),p.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=i.jsx(Y2,{isPresent:r,children:e})),i.jsx(kl.Provider,{value:d,children:e})};function Q2(){return new Map}function mx(e=!0){const t=p.useContext(kl);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=p.useId();p.useEffect(()=>{e&&s(a)},[e]);const o=p.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}const Da=e=>e.key||"";function jm(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const lh=typeof window<"u",oa=lh?p.useLayoutEffect:p.useEffect,$t=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=mx(o),u=p.useMemo(()=>jm(e),[e]),d=o&&!l?[]:u.map(Da),h=p.useRef(!0),f=p.useRef(u),y=As(()=>new Map),[v,b]=p.useState(u),[j,g]=p.useState(u);oa(()=>{h.current=!1,f.current=u;for(let w=0;w<j.length;w++){const k=Da(j[w]);d.includes(k)?y.delete(k):y.get(k)!==!0&&y.set(k,!1)}},[j,d.length,d.join("-")]);const x=[];if(u!==v){let w=[...u];for(let k=0;k<j.length;k++){const C=j[k],N=Da(C);d.includes(N)||(w.splice(k,0,C),x.push(C))}a==="wait"&&x.length&&(w=x),g(jm(w)),b(u);return}const{forceRender:m}=p.useContext(oh);return i.jsx(i.Fragment,{children:j.map(w=>{const k=Da(w),C=o&&!l?!1:u===j||d.includes(k),N=()=>{if(y.has(k))y.set(k,!0);else return;let S=!0;y.forEach(_=>{_||(S=!1)}),S&&(m==null||m(),g(f.current),o&&(c==null||c()),n&&n())};return i.jsx(X2,{isPresent:C,initial:!h.current||r?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:C?void 0:N,children:w},k)})})},it=e=>e;let px=it;function ch(e){let t;return()=>(t===void 0&&(t=e()),t)}const vs=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},tr=e=>e*1e3,rr=e=>e/1e3,J2={useManualTiming:!1};function Z2(e){let t=new Set,r=new Set,n=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const y=h&&n?t:r;return d&&a.add(u),y.has(u)||y.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const La=["read","resolveKeyframes","update","preRender","render","postRender"],eS=40;function gx(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=La.reduce((g,x)=>(g[x]=Z2(a),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,y=()=>{const g=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(g-s.timestamp,eS),1),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(y))},v=()=>{r=!0,n=!0,s.isProcessing||e(y)};return{schedule:La.reduce((g,x)=>{const m=o[x];return g[x]=(w,k=!1,C=!1)=>(r||v(),m.schedule(w,k,C)),g},{}),cancel:g=>{for(let x=0;x<La.length;x++)o[La[x]].cancel(g)},state:s,steps:o}}const{schedule:re,cancel:or,state:Ce,steps:gc}=gx(typeof requestAnimationFrame<"u"?requestAnimationFrame:it,!0),yx=p.createContext({strict:!1}),Nm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ws={};for(const e in Nm)ws[e]={isEnabled:t=>Nm[e].some(r=>!!t[r])};function tS(e){for(const t in e)ws[t]={...ws[t],...e[t]}}const rS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rS.has(e)}let xx=e=>!Oo(e);function nS(e){e&&(xx=t=>t.startsWith("on")?!Oo(t):e(t))}try{nS(require("@emotion/is-prop-valid").default)}catch{}function sS(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(xx(s)||r===!0&&Oo(s)||!t&&!Oo(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function iS(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Sl=p.createContext({});function Wi(e){return typeof e=="string"||Array.isArray(e)}function _l(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const uh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dh=["initial",...uh];function Cl(e){return _l(e.animate)||dh.some(t=>Wi(e[t]))}function vx(e){return!!(Cl(e)||e.variants)}function aS(e,t){if(Cl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wi(r)?r:void 0,animate:Wi(n)?n:void 0}}return e.inherit!==!1?t:{}}function oS(e){const{initial:t,animate:r}=aS(e,p.useContext(Sl));return p.useMemo(()=>({initial:t,animate:r}),[km(t),km(r)])}function km(e){return Array.isArray(e)?e.join(" "):e}const lS=Symbol.for("motionComponentSymbol");function Kn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cS(e,t,r){return p.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Kn(r)&&(r.current=n))},[t])}const hh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uS="framerAppearId",wx="data-"+hh(uS),{schedule:fh}=gx(queueMicrotask,!1),bx=p.createContext({});function dS(e,t,r,n,s){var a,o;const{visualElement:l}=p.useContext(Sl),c=p.useContext(yx),u=p.useContext(kl),d=p.useContext(aa).reducedMotion,h=p.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,y=p.useContext(bx);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&hS(h.current,r,s,y);const v=p.useRef(!1);p.useInsertionEffect(()=>{f&&v.current&&f.update(r,u)});const b=r[wx],j=p.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return oa(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),fh.render(f.render),j.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,b)}),j.current=!1))}),f}function hS(e,t,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:jx(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&Kn(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function jx(e){if(e)return e.options.allowProjection!==!1?e.projection:jx(e.parent)}function fS({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var a,o;e&&tS(e);function l(u,d){let h;const f={...p.useContext(aa),...u,layoutId:mS(u)},{isStatic:y}=f,v=oS(u),b=n(u,y);if(!y&&lh){pS();const j=gS(f);h=j.MeasureLayout,v.visualElement=dS(s,b,f,t,j.ProjectionNode)}return i.jsxs(Sl.Provider,{value:v,children:[h&&v.visualElement?i.jsx(h,{visualElement:v.visualElement,...f}):null,r(s,u,cS(b,v.visualElement,d),b,y,v.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[lS]=s,c}function mS({layoutId:e}){const t=p.useContext(oh).id;return t&&e!==void 0?t+"-"+e:e}function pS(e,t){p.useContext(yx).strict}function gS(e){const{drag:t,layout:r}=ws;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const yS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mh(e){return typeof e!="string"||e.includes("-")?!1:!!(yS.indexOf(e)>-1||/[A-Z]/u.test(e))}function Sm(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function ph(e,t,r,n){if(typeof t=="function"){const[s,a]=Sm(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Sm(n);t=t(r!==void 0?r:e.custom,s,a)}return t}const Iu=e=>Array.isArray(e),xS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),vS=e=>Iu(e)?e[e.length-1]||0:e,Te=e=>!!(e&&e.getVelocity);function Za(e){const t=Te(e)?e.get():e;return xS(t)?t.toValue():t}function wS({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,a){const o={latestValues:bS(n,s,a,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const Nx=e=>(t,r)=>{const n=p.useContext(Sl),s=p.useContext(kl),a=()=>wS(e,t,n,s);return r?a():As(a)};function bS(e,t,r,n){const s={},a=n(e,{});for(const f in a)s[f]=Za(a[f]);let{initial:o,animate:l}=e;const c=Cl(e),u=vx(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!_l(h)){const f=Array.isArray(h)?h:[h];for(let y=0;y<f.length;y++){const v=ph(e,f[y]);if(v){const{transitionEnd:b,transition:j,...g}=v;for(const x in g){let m=g[x];if(Array.isArray(m)){const w=d?m.length-1:0;m=m[w]}m!==null&&(s[x]=m)}for(const x in b)s[x]=b[x]}}}return s}const Ms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],En=new Set(Ms),kx=e=>t=>typeof t=="string"&&t.startsWith(e),Sx=kx("--"),jS=kx("var(--"),gh=e=>jS(e)?NS.test(e.split("/*")[0].trim()):!1,NS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_x=(e,t)=>t&&typeof e=="number"?t.transform(e):e,lr=(e,t,r)=>r>t?t:r<e?e:r,Rs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qi={...Rs,transform:e=>lr(0,1,e)},Ia={...Rs,default:1},la=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wr=la("deg"),Bt=la("%"),F=la("px"),kS=la("vh"),SS=la("vw"),_m={...Bt,parse:e=>Bt.parse(e)/100,transform:e=>Bt.transform(e*100)},_S={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,backgroundPositionX:F,backgroundPositionY:F},CS={rotate:wr,rotateX:wr,rotateY:wr,rotateZ:wr,scale:Ia,scaleX:Ia,scaleY:Ia,scaleZ:Ia,skew:wr,skewX:wr,skewY:wr,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:qi,originX:_m,originY:_m,originZ:F},Cm={...Rs,transform:Math.round},yh={..._S,...CS,zIndex:Cm,size:F,fillOpacity:qi,strokeOpacity:qi,numOctaves:Cm},ES={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PS=Ms.length;function TS(e,t,r){let n="",s=!0;for(let a=0;a<PS;a++){const o=Ms[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=_x(l,yh[o]);if(!c){s=!1;const d=ES[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function xh(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(En.has(c)){o=!0;continue}else if(Sx(c)){s[c]=u;continue}else{const d=_x(u,yh[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=TS(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const AS={offset:"stroke-dashoffset",array:"stroke-dasharray"},MS={offset:"strokeDashoffset",array:"strokeDasharray"};function RS(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?AS:MS;e[a.offset]=F.transform(-n);const o=F.transform(t),l=F.transform(r);e[a.array]=`${o} ${l}`}function Em(e,t,r){return typeof e=="string"?e:F.transform(t+r*e)}function DS(e,t,r){const n=Em(t,e.x,e.width),s=Em(r,e.y,e.height);return`${n} ${s}`}function vh(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(xh(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:y,dimensions:v}=e;f.transform&&(v&&(y.transform=f.transform),delete f.transform),v&&(s!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=DS(v,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&RS(f,o,l,c,!1)}const wh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Cx=()=>({...wh(),attrs:{}}),bh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ex(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const Px=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tx(e,t,r,n){Ex(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Px.has(s)?s:hh(s),t.attrs[s])}const $o={};function LS(e){Object.assign($o,e)}function Ax(e,{layout:t,layoutId:r}){return En.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!$o[e]||e==="opacity")}function jh(e,t,r){var n;const{style:s}=e,a={};for(const o in s)(Te(s[o])||t.style&&Te(t.style[o])||Ax(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function Mx(e,t,r){const n=jh(e,t,r);for(const s in e)if(Te(e[s])||Te(t[s])){const a=Ms.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}function IS(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Pm=["x","y","width","height","cx","cy","r"],OS={useVisualState:Nx({scrapeMotionValuesFromProps:Mx,createRenderState:Cx,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let a=!!e.drag;if(!a){for(const l in s)if(En.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<Pm.length;l++){const c=Pm[l];e[c]!==t[c]&&(o=!0)}o&&re.read(()=>{IS(r,n),re.render(()=>{vh(n,s,bh(r.tagName),e.transformTemplate),Tx(r,n)})})}})},$S={useVisualState:Nx({scrapeMotionValuesFromProps:jh,createRenderState:wh})};function Rx(e,t,r){for(const n in t)!Te(t[n])&&!Ax(n,r)&&(e[n]=t[n])}function FS({transformTemplate:e},t){return p.useMemo(()=>{const r=wh();return xh(r,t,e),Object.assign({},r.vars,r.style)},[t])}function VS(e,t){const r=e.style||{},n={};return Rx(n,r,e),Object.assign(n,FS(e,t)),n}function US(e,t){const r={},n=VS(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function BS(e,t,r,n){const s=p.useMemo(()=>{const a=Cx();return vh(a,t,bh(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Rx(a,e.style,e),s.style={...a,...s.style}}return s}function zS(e=!1){return(r,n,s,{latestValues:a},o)=>{const c=(mh(r)?BS:US)(n,a,o,r),u=sS(n,typeof r=="string",e),d=r!==p.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=p.useMemo(()=>Te(h)?h.get():h,[h]);return p.createElement(r,{...d,children:f})}}function HS(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...mh(n)?OS:$S,preloadedFeatures:e,useRender:zS(s),createVisualElement:t,Component:n};return fS(o)}}function Dx(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function El(e,t,r){const n=e.getProps();return ph(n,t,r!==void 0?r:n.custom,e)}const WS=ch(()=>window.ScrollTimeline!==void 0);class qS{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(WS()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class KS extends qS{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Nh(e,t){return e?e[t]||e.default||e:void 0}const Ou=2e4;function Lx(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ou;)t+=r,n=e.next(t);return t>=Ou?1/0:t}function kh(e){return typeof e=="function"}function Tm(e,t){e.timeline=t,e.onfinish=null}const Sh=e=>Array.isArray(e)&&typeof e[0]=="number",GS={linearEasing:void 0};function YS(e,t){const r=ch(e);return()=>{var n;return(n=GS[t])!==null&&n!==void 0?n:r()}}const Fo=YS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ix=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=e(vs(0,s-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ox(e){return!!(typeof e=="function"&&Fo()||!e||typeof e=="string"&&(e in $u||Fo())||Sh(e)||Array.isArray(e)&&e.every(Ox))}const ei=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,$u={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ei([0,.65,.55,1]),circOut:ei([.55,0,1,.45]),backIn:ei([.31,.01,.66,-.59]),backOut:ei([.33,1.53,.69,.99])};function $x(e,t){if(e)return typeof e=="function"&&Fo()?Ix(e,t):Sh(e)?ei(e):Array.isArray(e)?e.map(r=>$x(r,t)||$u.easeOut):$u[e]}const _t={x:!1,y:!1};function Fx(){return _t.x||_t.y}function Vx(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function Ux(e,t){const r=Vx(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Am(e){return t=>{t.pointerType==="touch"||Fx()||e(t)}}function XS(e,t,r={}){const[n,s,a]=Ux(e,r),o=Am(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=Am(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const Bx=(e,t)=>t?e===t?!0:Bx(e,t.parentElement):!1,_h=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,QS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JS(e){return QS.has(e.tagName)||e.tabIndex!==-1}const ti=new WeakSet;function Mm(e){return t=>{t.key==="Enter"&&e(t)}}function yc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ZS=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Mm(()=>{if(ti.has(r))return;yc(r,"down");const s=Mm(()=>{yc(r,"up")}),a=()=>yc(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Rm(e){return _h(e)&&!Fx()}function e_(e,t,r={}){const[n,s,a]=Ux(e,r),o=l=>{const c=l.currentTarget;if(!Rm(l)||ti.has(c))return;ti.add(c);const u=t(l),d=(y,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Rm(y)||!ti.has(c))&&(ti.delete(c),typeof u=="function"&&u(y,{success:v}))},h=y=>{d(y,r.useGlobalTarget||Bx(c,y.target))},f=y=>{d(y,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{!JS(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>ZS(u,s),s)}),a}function t_(e){return e==="x"||e==="y"?_t[e]?null:(_t[e]=!0,()=>{_t[e]=!1}):_t.x||_t.y?null:(_t.x=_t.y=!0,()=>{_t.x=_t.y=!1})}const zx=new Set(["width","height","top","left","right","bottom",...Ms]);let eo;function r_(){eo=void 0}const zt={now:()=>(eo===void 0&&zt.set(Ce.isProcessing||J2.useManualTiming?Ce.timestamp:performance.now()),eo),set:e=>{eo=e,queueMicrotask(r_)}};function Ch(e,t){e.indexOf(t)===-1&&e.push(t)}function Eh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Ph{constructor(){this.subscriptions=[]}add(t){return Ch(this.subscriptions,t),()=>Eh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Hx(e,t){return t?e*(1e3/t):0}const Dm=30,n_=e=>!isNaN(parseFloat(e)),pi={current:void 0};class s_{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=zt.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=zt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=n_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Ph);const n=this.events[t].add(r);return t==="change"?()=>{n(),re.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return pi.current&&pi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Dm)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Dm);return Hx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bs(e,t){return new s_(e,t)}function i_(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,bs(r))}function Th(e,t){const r=El(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const l=vS(a[o]);i_(e,o,l)}}function a_(e){return!!(Te(e)&&e.add)}function Fu(e,t){const r=e.getValue("willChange");if(a_(r))return r.add(t)}function Wx(e){return e.props[wx]}const qx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,o_=1e-7,l_=12;function c_(e,t,r,n,s){let a,o,l=0;do o=t+(r-t)/2,a=qx(o,n,s)-e,a>0?r=o:t=o;while(Math.abs(a)>o_&&++l<l_);return o}function ca(e,t,r,n){if(e===t&&r===n)return it;const s=a=>c_(a,0,1,e,r);return a=>a===0||a===1?a:qx(s(a),t,n)}const Kx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Gx=e=>t=>1-e(1-t),Yx=ca(.33,1.53,.69,.99),Ah=Gx(Yx),Xx=Kx(Ah),Qx=e=>(e*=2)<1?.5*Ah(e):.5*(2-Math.pow(2,-10*(e-1))),Mh=e=>1-Math.sin(Math.acos(e)),Jx=Gx(Mh),Zx=Kx(Mh),ev=e=>/^0[^.\s]+$/u.test(e);function u_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ev(e):!0}const gi=e=>Math.round(e*1e5)/1e5,Rh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function d_(e){return e==null}const h_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dh=(e,t)=>r=>!!(typeof r=="string"&&h_.test(r)&&r.startsWith(e)||t&&!d_(r)&&Object.prototype.hasOwnProperty.call(r,t)),tv=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,l]=n.match(Rh);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},f_=e=>lr(0,255,e),xc={...Rs,transform:e=>Math.round(f_(e))},un={test:Dh("rgb","red"),parse:tv("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+xc.transform(e)+", "+xc.transform(t)+", "+xc.transform(r)+", "+gi(qi.transform(n))+")"};function m_(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Vu={test:Dh("#"),parse:m_,transform:un.transform},Gn={test:Dh("hsl","hue"),parse:tv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Bt.transform(gi(t))+", "+Bt.transform(gi(r))+", "+gi(qi.transform(n))+")"},$e={test:e=>un.test(e)||Vu.test(e)||Gn.test(e),parse:e=>un.test(e)?un.parse(e):Gn.test(e)?Gn.parse(e):Vu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?un.transform(e):Gn.transform(e)},p_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g_(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Rh))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(p_))===null||r===void 0?void 0:r.length)||0)>0}const rv="number",nv="color",y_="var",x_="var(",Lm="${}",v_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ki(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(v_,c=>($e.test(c)?(n.color.push(a),s.push(nv),r.push($e.parse(c))):c.startsWith(x_)?(n.var.push(a),s.push(y_),r.push(c)):(n.number.push(a),s.push(rv),r.push(parseFloat(c))),++a,Lm)).split(Lm);return{values:r,split:l,indexes:n,types:s}}function sv(e){return Ki(e).values}function iv(e){const{split:t,types:r}=Ki(e),n=t.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],s[o]!==void 0){const l=r[o];l===rv?a+=gi(s[o]):l===nv?a+=$e.transform(s[o]):a+=s[o]}return a}}const w_=e=>typeof e=="number"?0:e;function b_(e){const t=sv(e);return iv(e)(t.map(w_))}const Hr={test:g_,parse:sv,createTransformer:iv,getAnimatableNone:b_},j_=new Set(["brightness","contrast","saturate","opacity"]);function N_(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Rh)||[];if(!n)return e;const s=r.replace(n,"");let a=j_.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const k_=/\b([a-z-]*)\(.*?\)/gu,Uu={...Hr,getAnimatableNone:e=>{const t=e.match(k_);return t?t.map(N_).join(" "):e}},S_={...yh,color:$e,backgroundColor:$e,outlineColor:$e,fill:$e,stroke:$e,borderColor:$e,borderTopColor:$e,borderRightColor:$e,borderBottomColor:$e,borderLeftColor:$e,filter:Uu,WebkitFilter:Uu},Lh=e=>S_[e];function av(e,t){let r=Lh(e);return r!==Uu&&(r=Hr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const __=new Set(["auto","none","0"]);function C_(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!__.has(a)&&Ki(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=av(r,s)}const Im=e=>e===Rs||e===F,Om=(e,t)=>parseFloat(e.split(", ")[t]),$m=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Om(s[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?Om(a[1],e):0}},E_=new Set(["x","y","z"]),P_=Ms.filter(e=>!E_.has(e));function T_(e){const t=[];return P_.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const js={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:$m(4,13),y:$m(5,14)};js.translateX=js.x;js.translateY=js.y;const pn=new Set;let Bu=!1,zu=!1;function ov(){if(zu){const e=Array.from(pn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=T_(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}zu=!1,Bu=!1,pn.forEach(e=>e.complete()),pn.clear()}function lv(){pn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zu=!0)})}function A_(){lv(),ov()}class Ih{constructor(t,r,n,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(pn.add(this),Bu||(Bu=!0,re.read(lv),re.resolveKeyframes(ov))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),pn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,pn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),M_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function R_(e){const t=M_.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function uv(e,t,r=1){const[n,s]=R_(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return cv(o)?parseFloat(o):o}return gh(s)?uv(s,t,r+1):s}const dv=e=>t=>t.test(e),D_={test:e=>e==="auto",parse:e=>e},hv=[Rs,F,Bt,wr,SS,kS,D_],Fm=e=>hv.find(dv(e));class fv extends Ih{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),gh(u))){const d=uv(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zx.has(n)||t.length!==2)return;const[s,a]=t,o=Fm(s),l=Fm(a);if(o!==l)if(Im(o)&&Im(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)u_(t[s])&&n.push(s);n.length&&C_(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=js[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=js[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Vm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hr.test(e)||e==="0")&&!e.startsWith("url("));function L_(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function I_(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Vm(s,t),l=Vm(a,t);return!o||!l?!1:L_(e)||(r==="spring"||kh(r))&&n}const O_=e=>e!==null;function Pl(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(O_),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const $_=40;class mv{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zt.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&A_(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=zt.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!I_(t,n,s,a))if(o)this.options.duration=0;else{c&&c(Pl(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const he=(e,t,r)=>e+(t-e)*r;function vc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function F_({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,o=0;if(!t)s=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=vc(c,l,e+1/3),a=vc(c,l,e),o=vc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Vo(e,t){return r=>r>0?t:e}const wc=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},V_=[Vu,un,Gn],U_=e=>V_.find(t=>t.test(e));function Um(e){const t=U_(e);if(!t)return!1;let r=t.parse(e);return t===Gn&&(r=F_(r)),r}const Bm=(e,t)=>{const r=Um(e),n=Um(t);if(!r||!n)return Vo(e,t);const s={...r};return a=>(s.red=wc(r.red,n.red,a),s.green=wc(r.green,n.green,a),s.blue=wc(r.blue,n.blue,a),s.alpha=he(r.alpha,n.alpha,a),un.transform(s))},B_=(e,t)=>r=>t(e(r)),ua=(...e)=>e.reduce(B_),Hu=new Set(["none","hidden"]);function z_(e,t){return Hu.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function H_(e,t){return r=>he(e,t,r)}function Oh(e){return typeof e=="number"?H_:typeof e=="string"?gh(e)?Vo:$e.test(e)?Bm:K_:Array.isArray(e)?pv:typeof e=="object"?$e.test(e)?Bm:W_:Vo}function pv(e,t){const r=[...e],n=r.length,s=e.map((a,o)=>Oh(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function W_(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Oh(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function q_(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[a]=c,s[o]++}return n}const K_=(e,t)=>{const r=Hr.createTransformer(t),n=Ki(e),s=Ki(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Hu.has(e)&&!s.values.length||Hu.has(t)&&!n.values.length?z_(e,t):ua(pv(q_(n,s),s.values),r):Vo(e,t)};function gv(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?he(e,t,r):Oh(e)(e,t)}const G_=5;function yv(e,t,r){const n=Math.max(t-G_,0);return Hx(r-e(n),t-n)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zm=.001;function Y_({duration:e=ge.duration,bounce:t=ge.bounce,velocity:r=ge.velocity,mass:n=ge.mass}){let s,a,o=1-t;o=lr(ge.minDamping,ge.maxDamping,o),e=lr(ge.minDuration,ge.maxDuration,rr(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,y=Wu(u,o),v=Math.exp(-h);return zm-f/y*v},a=u=>{const h=u*o*e,f=h*r+r,y=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),b=Wu(Math.pow(u,2),o);return(-s(u)+zm>0?-1:1)*((f-y)*v)/b}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-.001+d*h},a=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=Q_(s,a,l);if(e=tr(e),isNaN(c))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const X_=12;function Q_(e,t,r){let n=r;for(let s=1;s<X_;s++)n=n-e(n)/t(n);return n}function Wu(e,t){return e*Math.sqrt(1-t*t)}const J_=["duration","bounce"],Z_=["stiffness","damping","mass"];function Hm(e,t){return t.some(r=>e[r]!==void 0)}function e4(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!Hm(e,Z_)&&Hm(e,J_))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*lr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ge.mass,stiffness:s,damping:a}}else{const r=Y_(e);t={...t,...r,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function xv(e=ge.visualDuration,t=ge.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:y}=e4({...r,velocity:-rr(r.velocity||0)}),v=f||0,b=u/(2*Math.sqrt(c*d)),j=o-a,g=rr(Math.sqrt(c/d)),x=Math.abs(j)<5;n||(n=x?ge.restSpeed.granular:ge.restSpeed.default),s||(s=x?ge.restDelta.granular:ge.restDelta.default);let m;if(b<1){const k=Wu(g,b);m=C=>{const N=Math.exp(-b*g*C);return o-N*((v+b*g*j)/k*Math.sin(k*C)+j*Math.cos(k*C))}}else if(b===1)m=k=>o-Math.exp(-g*k)*(j+(v+g*j)*k);else{const k=g*Math.sqrt(b*b-1);m=C=>{const N=Math.exp(-b*g*C),S=Math.min(k*C,300);return o-N*((v+b*g*j)*Math.sinh(S)+k*j*Math.cosh(S))/k}}const w={calculatedDuration:y&&h||null,next:k=>{const C=m(k);if(y)l.done=k>=h;else{let N=0;b<1&&(N=k===0?tr(v):yv(m,k,C));const S=Math.abs(N)<=n,_=Math.abs(o-C)<=s;l.done=S&&_}return l.value=l.done?o:C,l},toString:()=>{const k=Math.min(Lx(w),Ou),C=Ix(N=>w.next(k*N).value,k,30);return k+"ms "+C}};return w}function Wm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},y=S=>l!==void 0&&S<l||c!==void 0&&S>c,v=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let b=r*t;const j=h+b,g=o===void 0?j:o(j);g!==j&&(b=g-h);const x=S=>-b*Math.exp(-S/n),m=S=>g+x(S),w=S=>{const _=x(S),E=m(S);f.done=Math.abs(_)<=u,f.value=f.done?g:E};let k,C;const N=S=>{y(f.value)&&(k=S,C=xv({keyframes:[f.value,v(f.value)],velocity:yv(m,S,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:S=>{let _=!1;return!C&&k===void 0&&(_=!0,w(S),N(S)),k!==void 0&&S>=k?C.next(S-k):(!_&&w(S),f)}}}const t4=ca(.42,0,1,1),r4=ca(0,0,.58,1),vv=ca(.42,0,.58,1),n4=e=>Array.isArray(e)&&typeof e[0]!="number",s4={linear:it,easeIn:t4,easeInOut:vv,easeOut:r4,circIn:Mh,circInOut:Zx,circOut:Jx,backIn:Ah,backInOut:Xx,backOut:Yx,anticipate:Qx},qm=e=>{if(Sh(e)){px(e.length===4);const[t,r,n,s]=e;return ca(t,r,n,s)}else if(typeof e=="string")return s4[e];return e};function i4(e,t,r){const n=[],s=r||gv,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||it:t;l=ua(c,l)}n.push(l)}return n}function wv(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(px(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=i4(t,n,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=vs(e[h],e[h+1],d);return l[h](f)};return r?d=>u(lr(e[0],e[a-1],d)):u}function a4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=vs(0,t,n);e.push(he(r,1,s))}}function o4(e){const t=[0];return a4(t,e.length-1),t}function l4(e,t){return e.map(r=>r*t)}function c4(e,t){return e.map(()=>t||vv).splice(0,e.length-1)}function Uo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=n4(n)?n.map(qm):qm(n),a={done:!1,value:t[0]},o=l4(r&&r.length===t.length?r:o4(t),e),l=wv(o,t,{ease:Array.isArray(s)?s:c4(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const u4=e=>{const t=({timestamp:r})=>e(r);return{start:()=>re.update(t,!0),stop:()=>or(t),now:()=>Ce.isProcessing?Ce.timestamp:zt.now()}},d4={decay:Wm,inertia:Wm,tween:Uo,keyframes:Uo,spring:xv},h4=e=>e/100;class Tl extends mv{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Ih,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=kh(r)?r:d4[r]||Uo;let c,u;l!==Uo&&typeof t[0]!="number"&&(c=ua(h4,gv(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Lx(d));const{calculatedDuration:h}=d,f=h+s,y=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:y,repeatType:v,repeatDelay:b,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let m=this.currentTime,w=a;if(y){const S=Math.min(this.currentTime,d)/h;let _=Math.floor(S),E=S%1;!E&&S>=1&&(E=1),E===1&&_--,_=Math.min(_,y+1),!!(_%2)&&(v==="reverse"?(E=1-E,b&&(E-=b/h)):v==="mirror"&&(w=o)),m=lr(0,1,E)*h}const k=x?{done:!1,value:c[0]}:w.next(m);l&&(k.value=l(k.value));let{done:C}=k;!x&&u!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&s!==void 0&&(k.value=Pl(c,this.options,s)),j&&j(k.value),N&&this.finish(),k}get duration(){const{resolved:t}=this;return t?rr(t.calculatedDuration):0}get time(){return rr(this.currentTime)}set time(t){t=tr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=u4,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function f4(e){return new Tl(e)}const m4=new Set(["opacity","clipPath","filter","transform"]);function p4(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=$x(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const g4=ch(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bo=10,y4=2e4;function x4(e){return kh(e.type)||e.type==="spring"||!Ox(e.ease)}function v4(e,t){const r=new Tl({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let a=0;for(;!n.done&&a<y4;)n=r.sample(a),s.push(n.value),a+=Bo;return{times:void 0,keyframes:s,duration:a-Bo,ease:"linear"}}const bv={anticipate:Qx,backInOut:Xx,circInOut:Zx};function w4(e){return e in bv}class Km extends mv{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new fv(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Fo()&&w4(a)&&(a=bv[a]),x4(this.options)){const{onComplete:h,onUpdate:f,motionValue:y,element:v,...b}=this.options,j=v4(t,b);t=j.keyframes,t.length===1&&(t[1]=t[0]),n=j.duration,s=j.times,a=j.ease,o="keyframes"}const d=p4(l.owner.current,c,t,{...this.options,duration:n,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Tm(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Pl(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return rr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return rr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=tr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return it;const{animation:n}=r;Tm(n,t)}return it}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...y}=this.options,v=new Tl({...y,keyframes:n,duration:s,type:a,ease:o,times:l,isGenerator:!0}),b=tr(this.time);u.setWithVelocity(v.sample(b-Bo).value,v.sample(b).value,Bo)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:a,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return g4()&&n&&m4.has(n)&&!c&&!u&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const b4={type:"spring",stiffness:500,damping:25,restSpeed:10},j4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),N4={type:"keyframes",duration:.8},k4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S4=(e,{keyframes:t})=>t.length>2?N4:En.has(e)?e.startsWith("scale")?j4(t[1]):b4:k4;function _4({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const $h=(e,t,r,n={},s,a)=>o=>{const l=Nh(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-tr(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};_4(l)||(d={...d,...S4(e,d)}),d.duration&&(d.duration=tr(d.duration)),d.repeatDelay&&(d.repeatDelay=tr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const f=Pl(d.keyframes,l);if(f!==void 0)return re.update(()=>{d.onUpdate(f),d.onComplete()}),new KS([])}return!a&&Km.supports(d)?new Km(d):new Tl(d)};function C4({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function jv(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),y=c[h];if(y===void 0||d&&C4(d,h))continue;const v={delay:r,...Nh(o||{},h)};let b=!1;if(window.MotionHandoffAnimation){const g=Wx(e);if(g){const x=window.MotionHandoffAnimation(g,h,re);x!==null&&(v.startTime=x,b=!0)}}Fu(e,h),f.start($h(h,f,y,e.shouldReduceMotion&&zx.has(h)?{type:!1}:v,e,b));const j=f.animation;j&&u.push(j)}return l&&Promise.all(u).then(()=>{re.update(()=>{l&&Th(e,l)})}),u}function qu(e,t,r={}){var n;const s=El(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const o=s?()=>Promise.all(jv(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return E4(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function E4(e,t,r=0,n=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(P4).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(qu(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function P4(e,t){return e.sortNodePosition(t)}function Nv(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>qu(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=qu(e,t,r);else{const s=typeof t=="function"?El(e,t,r.custom):t;n=Promise.all(jv(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const T4=dh.length;function kv(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?kv(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<T4;r++){const n=dh[r],s=e.props[n];(Wi(s)||s===!1)&&(t[n]=s)}return t}const A4=[...uh].reverse(),M4=uh.length;function R4(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Nv(e,r,n)))}function D4(e){let t=R4(e),r=Gm(),n=!0;const s=c=>(u,d)=>{var h;const f=El(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:y,transitionEnd:v,...b}=f;u={...u,...b,...v}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=kv(e.parent)||{},h=[],f=new Set;let y={},v=1/0;for(let j=0;j<M4;j++){const g=A4[j],x=r[g],m=u[g]!==void 0?u[g]:d[g],w=Wi(m),k=g===c?x.isActive:null;k===!1&&(v=j);let C=m===d[g]&&m!==u[g]&&w;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),x.protectedKeys={...y},!x.isActive&&k===null||!m&&!x.prevProp||_l(m)||typeof m=="boolean")continue;const N=L4(x.prevProp,m);let S=N||g===c&&x.isActive&&!C&&w||j>v&&w,_=!1;const E=Array.isArray(m)?m:[m];let P=E.reduce(s(g),{});k===!1&&(P={});const{prevResolvedValues:A={}}=x,I={...A,...P},B=J=>{S=!0,f.has(J)&&(_=!0,f.delete(J)),x.needsAnimating[J]=!0;const R=e.getValue(J);R&&(R.liveStyle=!1)};for(const J in I){const R=P[J],$=A[J];if(y.hasOwnProperty(J))continue;let V=!1;Iu(R)&&Iu($)?V=!Dx(R,$):V=R!==$,V?R!=null?B(J):f.add(J):R!==void 0&&f.has(J)?B(J):x.protectedKeys[J]=!0}x.prevProp=m,x.prevResolvedValues=P,x.isActive&&(y={...y,...P}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(C&&N)||_)&&h.push(...E.map(J=>({animation:J,options:{type:g}})))}if(f.size){const j={};f.forEach(g=>{const x=e.getBaseTarget(g),m=e.getValue(g);m&&(m.liveStyle=!0),j[g]=x??null}),h.push({animation:j})}let b=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=Gm(),n=!0}}}function L4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dx(t,e):!1}function Qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gm(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class I4 extends Yr{constructor(t){super(t),t.animationState||(t.animationState=D4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_l(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let O4=0;class $4 extends Yr{constructor(){super(...arguments),this.id=O4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const F4={animation:{Feature:I4},exit:{Feature:$4}};function Gi(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function da(e){return{point:{x:e.pageX,y:e.pageY}}}const V4=e=>t=>_h(t)&&e(t,da(t));function yi(e,t,r,n){return Gi(e,t,V4(r),n)}const Ym=(e,t)=>Math.abs(e-t);function U4(e,t){const r=Ym(e.x,t.x),n=Ym(e.y,t.y);return Math.sqrt(r**2+n**2)}class Sv{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=jc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=U4(h.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:v}=h,{timestamp:b}=Ce;this.history.push({...v,timestamp:b});const{onStart:j,onMove:g}=this.handlers;f||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=bc(f,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=jc(h.type==="pointercancel"?this.lastMoveEventInfo:bc(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,j),v&&v(h,j)},!_h(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=da(t),l=bc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ce;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,jc(l,this.history)),this.removeListeners=ua(yi(this.contextWindow,"pointermove",this.handlePointerMove),yi(this.contextWindow,"pointerup",this.handlePointerUp),yi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function bc(e,t){return t?{point:t(e.point)}:e}function Xm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jc({point:e},t){return{point:e,delta:Xm(e,_v(t)),offset:Xm(e,B4(t)),velocity:z4(t,.1)}}function B4(e){return e[0]}function _v(e){return e[e.length-1]}function z4(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=_v(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>tr(t)));)r--;if(!n)return{x:0,y:0};const a=rr(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Cv=1e-4,H4=1-Cv,W4=1+Cv,Ev=.01,q4=0-Ev,K4=0+Ev;function ct(e){return e.max-e.min}function G4(e,t,r){return Math.abs(e-t)<=r}function Qm(e,t,r,n=.5){e.origin=n,e.originPoint=he(t.min,t.max,e.origin),e.scale=ct(r)/ct(t),e.translate=he(r.min,r.max,e.origin)-e.originPoint,(e.scale>=H4&&e.scale<=W4||isNaN(e.scale))&&(e.scale=1),(e.translate>=q4&&e.translate<=K4||isNaN(e.translate))&&(e.translate=0)}function xi(e,t,r,n){Qm(e.x,t.x,r.x,n?n.originX:void 0),Qm(e.y,t.y,r.y,n?n.originY:void 0)}function Jm(e,t,r){e.min=r.min+t.min,e.max=e.min+ct(t)}function Y4(e,t,r){Jm(e.x,t.x,r.x),Jm(e.y,t.y,r.y)}function Zm(e,t,r){e.min=t.min-r.min,e.max=e.min+ct(t)}function vi(e,t,r){Zm(e.x,t.x,r.x),Zm(e.y,t.y,r.y)}function X4(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?he(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?he(r,e,n.max):Math.min(e,r)),e}function ep(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Q4(e,{top:t,left:r,bottom:n,right:s}){return{x:ep(e.x,r,s),y:ep(e.y,t,n)}}function tp(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function J4(e,t){return{x:tp(e.x,t.x),y:tp(e.y,t.y)}}function Z4(e,t){let r=.5;const n=ct(e),s=ct(t);return s>n?r=vs(t.min,t.max-n,e.min):n>s&&(r=vs(e.min,e.max-s,t.min)),lr(0,1,r)}function eC(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ku=.35;function tC(e=Ku){return e===!1?e=0:e===!0&&(e=Ku),{x:rp(e,"left","right"),y:rp(e,"top","bottom")}}function rp(e,t,r){return{min:np(e,t),max:np(e,r)}}function np(e,t){return typeof e=="number"?e:e[t]||0}const sp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yn=()=>({x:sp(),y:sp()}),ip=()=>({min:0,max:0}),xe=()=>({x:ip(),y:ip()});function ft(e){return[e("x"),e("y")]}function Pv({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function rC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Nc(e){return e===void 0||e===1}function Gu({scale:e,scaleX:t,scaleY:r}){return!Nc(e)||!Nc(t)||!Nc(r)}function rn(e){return Gu(e)||Tv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Tv(e){return ap(e.x)||ap(e.y)}function ap(e){return e&&e!=="0%"}function zo(e,t,r){const n=e-r,s=t*n;return r+s}function op(e,t,r,n,s){return s!==void 0&&(e=zo(e,s,n)),zo(e,r,n)+t}function Yu(e,t=0,r=1,n,s){e.min=op(e.min,t,r,n,s),e.max=op(e.max,t,r,n,s)}function Av(e,{x:t,y:r}){Yu(e.x,t.translate,t.scale,t.originPoint),Yu(e.y,r.translate,r.scale,r.originPoint)}const lp=.999999999999,cp=1.0000000000001;function sC(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qn(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Av(e,o)),n&&rn(a.latestValues)&&Qn(e,a.latestValues))}t.x<cp&&t.x>lp&&(t.x=1),t.y<cp&&t.y>lp&&(t.y=1)}function Xn(e,t){e.min=e.min+t,e.max=e.max+t}function up(e,t,r,n,s=.5){const a=he(e.min,e.max,s);Yu(e,t,r,a,n)}function Qn(e,t){up(e.x,t.x,t.scaleX,t.scale,t.originX),up(e.y,t.y,t.scaleY,t.scale,t.originY)}function Mv(e,t){return Pv(nC(e.getBoundingClientRect(),t))}function iC(e,t,r){const n=Mv(e,r),{scroll:s}=t;return s&&(Xn(n.x,s.offset.x),Xn(n.y,s.offset.y)),n}const Rv=({current:e})=>e?e.ownerDocument.defaultView:null,aC=new WeakMap;class oC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xe(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(da(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:y,onDragStart:v}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t_(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ft(j=>{let g=this.getAxisMotionValue(j).get()||0;if(Bt.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const m=x.layout.layoutBox[j];m&&(g=ct(m)*(parseFloat(g)/100))}}this.originPoint[j]=g}),v&&re.postRender(()=>v(d,h)),Fu(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:v,onDrag:b}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:j}=h;if(y&&this.currentDirection===null){this.currentDirection=lC(j),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),b&&b(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ft(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Sv(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Rv(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&re.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Oa(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=X4(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&Kn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=Q4(s.layoutBox,r):this.constraints=!1,this.elastic=tC(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ft(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=eC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Kn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=iC(n,s.root,this.visualElement.getTransformPagePoint());let o=J4(s.layout.layoutBox,a);if(r){const l=r(rC(o));this.hasMutatedConstraints=!!l,l&&(o=Pv(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ft(d=>{if(!Oa(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,y=s?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Fu(this.visualElement,t),n.start($h(t,n,0,r,this.visualElement,!1))}stopAnimation(){ft(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ft(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ft(r=>{const{drag:n}=this.getProps();if(!Oa(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(t[r]-he(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Kn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ft(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Z4({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ft(o=>{if(!Oa(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(he(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;aC.set(this.visualElement,this);const t=this.visualElement.current,r=yi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Kn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),re.read(n);const o=Gi(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ft(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Ku,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Oa(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function lC(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class cC extends Yr{constructor(t){super(t),this.removeGroupControls=it,this.removeListeners=it,this.controls=new oC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it}unmount(){this.removeGroupControls(),this.removeListeners()}}const dp=e=>(t,r)=>{e&&re.postRender(()=>e(t,r))};class uC extends Yr{constructor(){super(...arguments),this.removePointerDownListener=it}onPointerDown(t){this.session=new Sv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:dp(t),onStart:dp(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&re.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=yi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const to={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Hs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(F.test(e))e=parseFloat(e);else return e;const r=hp(e,t.target.x),n=hp(e,t.target.y);return`${r}% ${n}%`}},dC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Hr.parse(e);if(s.length>5)return n;const a=Hr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=he(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class hC extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;LS(fC),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),to.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||re.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Dv(e){const[t,r]=mx(),n=p.useContext(oh);return i.jsx(hC,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(bx),isPresent:t,safeToRemove:r})}const fC={borderRadius:{...Hs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hs,borderTopRightRadius:Hs,borderBottomLeftRadius:Hs,borderBottomRightRadius:Hs,boxShadow:dC};function mC(e,t,r){const n=Te(e)?e:bs(e);return n.start($h("",n,t,r)),n.animation}function pC(e){return e instanceof SVGElement&&e.tagName!=="svg"}const gC=(e,t)=>e.depth-t.depth;class yC{constructor(){this.children=[],this.isDirty=!1}add(t){Ch(this.children,t),this.isDirty=!0}remove(t){Eh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gC),this.isDirty=!1,this.children.forEach(t)}}function xC(e,t){const r=zt.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(or(n),e(a-t))};return re.read(n,!0),()=>or(n)}const Lv=["TopLeft","TopRight","BottomLeft","BottomRight"],vC=Lv.length,fp=e=>typeof e=="string"?parseFloat(e):e,mp=e=>typeof e=="number"||F.test(e);function wC(e,t,r,n,s,a){s?(e.opacity=he(0,r.opacity!==void 0?r.opacity:1,bC(n)),e.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,jC(n))):a&&(e.opacity=he(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<vC;o++){const l=`border${Lv[o]}Radius`;let c=pp(t,l),u=pp(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||mp(c)===mp(u)?(e[l]=Math.max(he(fp(c),fp(u),n),0),(Bt.test(u)||Bt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=he(t.rotate||0,r.rotate||0,n))}function pp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bC=Iv(0,.5,Jx),jC=Iv(.5,.95,it);function Iv(e,t,r){return n=>n<e?0:n>t?1:r(vs(e,t,n))}function gp(e,t){e.min=t.min,e.max=t.max}function ht(e,t){gp(e.x,t.x),gp(e.y,t.y)}function yp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function xp(e,t,r,n,s){return e-=t,e=zo(e,1/r,n),s!==void 0&&(e=zo(e,1/s,n)),e}function NC(e,t=0,r=1,n=.5,s,a=e,o=e){if(Bt.test(t)&&(t=parseFloat(t),t=he(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=he(a.min,a.max,n);e===a&&(l-=t),e.min=xp(e.min,t,r,l,s),e.max=xp(e.max,t,r,l,s)}function vp(e,t,[r,n,s],a,o){NC(e,t[r],t[n],t[s],t.scale,a,o)}const kC=["x","scaleX","originX"],SC=["y","scaleY","originY"];function wp(e,t,r,n){vp(e.x,t,kC,r?r.x:void 0,n?n.x:void 0),vp(e.y,t,SC,r?r.y:void 0,n?n.y:void 0)}function bp(e){return e.translate===0&&e.scale===1}function Ov(e){return bp(e.x)&&bp(e.y)}function jp(e,t){return e.min===t.min&&e.max===t.max}function _C(e,t){return jp(e.x,t.x)&&jp(e.y,t.y)}function Np(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $v(e,t){return Np(e.x,t.x)&&Np(e.y,t.y)}function kp(e){return ct(e.x)/ct(e.y)}function Sp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class CC{constructor(){this.members=[]}add(t){Ch(this.members,t),t.scheduleRender()}remove(t){if(Eh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EC(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:y,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),y&&(n+=`skewX(${y}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const nn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ri=typeof window<"u"&&window.MotionDebug!==void 0,kc=["","X","Y","Z"],PC={visibility:"hidden"},_p=1e3;let TC=0;function Sc(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Fv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Wx(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",re,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Fv(n)}function Vv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=TC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ri&&(nn.totalNodes=nn.resolvedTargetDeltas=nn.recalculatedProjection=0),this.nodes.forEach(RC),this.nodes.forEach($C),this.nodes.forEach(FC),this.nodes.forEach(DC),ri&&window.MotionDebug.record(nn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new yC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ph),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pC(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=xC(f,250),to.hasAnimatedSinceResize&&(to.hasAnimatedSinceResize=!1,this.nodes.forEach(Ep))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||HC,{onLayoutAnimationStart:j,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!$v(this.targetLayout,v)||y,m=!f&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const w={...Nh(b,"layout"),onPlay:j,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Ep(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cp);return}this.isUpdating||this.nodes.forEach(IC),this.isUpdating=!1,this.nodes.forEach(OC),this.nodes.forEach(AC),this.nodes.forEach(MC),this.clearAllSnapshots();const l=zt.now();Ce.delta=lr(0,1e3/60,l-Ce.timestamp),Ce.timestamp=l,Ce.isProcessing=!0,gc.update.process(Ce),gc.preRender.process(Ce),gc.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LC),this.sharedNodes.forEach(UC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ov(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||rn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),WC(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return xe();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(qC))){const{scroll:d}=this.root;d&&(Xn(c.x,d.offset.x),Xn(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=xe();if(ht(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ht(c,o),Xn(c.x,h.offset.x),Xn(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=xe();ht(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),rn(d.latestValues)&&Qn(c,d.latestValues)}return rn(this.latestValues)&&Qn(c,this.latestValues),c}removeTransform(o){const l=xe();ht(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!rn(u.latestValues))continue;Gu(u.latestValues)&&u.updateSnapshot();const d=xe(),h=u.measurePageBox();ht(d,h),wp(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return rn(this.latestValues)&&wp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),vi(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xe(),this.targetWithTransforms=xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ht(this.target,this.layout.layoutBox),Av(this.target,this.targetDelta)):ht(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),vi(this.relativeTargetOrigin,this.target,y.target),ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ri&&nn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gu(this.parent.latestValues)||Tv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ht(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;sC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=xe());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yp(this.prevProjectionDelta.x,this.projectionDelta.x),yp(this.prevProjectionDelta.y,this.projectionDelta.y)),xi(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==y||!Sp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Sp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),ri&&nn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yn(),this.projectionDelta=Yn(),this.projectionDeltaWithTransform=Yn()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Yn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=xe(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,b=y!==v,j=this.getStack(),g=!j||j.members.length<=1,x=!!(b&&!g&&this.options.crossfade===!0&&!this.path.some(zC));this.animationProgress=0;let m;this.mixTargetDelta=w=>{const k=w/1e3;Pp(h.x,o.x,k),Pp(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BC(this.relativeTarget,this.relativeTargetOrigin,f,k),m&&_C(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=xe()),ht(m,this.relativeTarget)),b&&(this.animationValues=d,wC(d,u,this.latestValues,k,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{to.hasAnimatedSinceResize=!0,this.currentAnimation=mC(0,_p,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_p),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Uv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||xe();const h=ct(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ct(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ht(l,c),Qn(l,d),xi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new CC),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Sc("z",o,u,this.animationValues);for(let d=0;d<kc.length;d++)Sc(`rotate${kc[d]}`,o,u,this.animationValues),Sc(`skew${kc[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return PC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Za(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Za(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!rn(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=EC(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in $o){if(f[b]===void 0)continue;const{correct:j,applyTo:g}=$o[b],x=u.transform==="none"?f[b]:j(f[b],h);if(g){const m=g.length;for(let w=0;w<m;w++)u[g[w]]=x}else u[b]=x}return this.options.layoutId&&(u.pointerEvents=h===this?Za(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Cp),this.root.sharedNodes.clear()}}}function AC(e){e.updateLayout()}function MC(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?ft(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],y=ct(f);f.min=n[h].min,f.max=f.min+y}):Uv(a,r.layoutBox,n)&&ft(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],y=ct(n[h]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+y)});const l=Yn();xi(l,n,r.layoutBox);const c=Yn();o?xi(c,e.applyTransform(s,!0),r.measuredBox):xi(c,n,r.layoutBox);const u=!Ov(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const v=xe();vi(v,r.layoutBox,f.layoutBox);const b=xe();vi(b,n,y.layoutBox),$v(v,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function RC(e){ri&&nn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LC(e){e.clearSnapshot()}function Cp(e){e.clearMeasurements()}function IC(e){e.isLayoutDirty=!1}function OC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ep(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $C(e){e.resolveTargetDelta()}function FC(e){e.calcProjection()}function VC(e){e.resetSkewAndRotation()}function UC(e){e.removeLeadSnapshot()}function Pp(e,t,r){e.translate=he(t.translate,0,r),e.scale=he(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Tp(e,t,r,n){e.min=he(t.min,r.min,n),e.max=he(t.max,r.max,n)}function BC(e,t,r,n){Tp(e.x,t.x,r.x,n),Tp(e.y,t.y,r.y,n)}function zC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const HC={duration:.45,ease:[.4,0,.1,1]},Ap=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Mp=Ap("applewebkit/")&&!Ap("chrome/")?Math.round:it;function Rp(e){e.min=Mp(e.min),e.max=Mp(e.max)}function WC(e){Rp(e.x),Rp(e.y)}function Uv(e,t,r){return e==="position"||e==="preserve-aspect"&&!G4(kp(t),kp(r),.2)}function qC(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const KC=Vv({attachResizeListener:(e,t)=>Gi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_c={current:void 0},Bv=Vv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_c.current){const e=new KC({});e.mount(window),e.setOptions({layoutScroll:!0}),_c.current=e}return _c.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GC={pan:{Feature:uC},drag:{Feature:cC,ProjectionNode:Bv,MeasureLayout:Dv}};function Dp(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&re.postRender(()=>a(t,da(t)))}class YC extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=XS(t,r=>(Dp(this.node,r,"Start"),n=>Dp(this.node,n,"End"))))}unmount(){}}class XC extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ua(Gi(this.node.current,"focus",()=>this.onFocus()),Gi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lp(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&re.postRender(()=>a(t,da(t)))}class QC extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=e_(t,r=>(Lp(this.node,r,"Start"),(n,{success:s})=>Lp(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xu=new WeakMap,Cc=new WeakMap,JC=e=>{const t=Xu.get(e.target);t&&t(e)},ZC=e=>{e.forEach(JC)};function e3({root:e,...t}){const r=e||document;Cc.has(r)||Cc.set(r,{});const n=Cc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(ZC,{root:e,...t})),n[s]}function t3(e,t,r){const n=e3(t);return Xu.set(e,r),n.observe(e),()=>{Xu.delete(e),n.unobserve(e)}}const r3={some:0,all:1};class n3 extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:r3[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return t3(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(s3(t,r))&&this.startObserver()}unmount(){}}function s3({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const i3={inView:{Feature:n3},tap:{Feature:QC},focus:{Feature:XC},hover:{Feature:YC}},a3={layout:{ProjectionNode:Bv,MeasureLayout:Dv}},Qu={current:null},zv={current:!1};function o3(){if(zv.current=!0,!!lh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qu.current=e.matches;e.addListener(t),t()}else Qu.current=!1}const l3=[...hv,$e,Hr],c3=e=>l3.find(dv(e)),Ip=new WeakMap;function u3(e,t,r){for(const n in t){const s=t[n],a=r[n];if(Te(s))e.addValue(n,s);else if(Te(a))e.addValue(n,bs(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,bs(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Op=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d3{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ih,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=zt.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,re.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Cl(r),this.isVariantNode=vx(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in f){const v=f[y];c[y]!==void 0&&Te(v)&&v.set(c[y],!1)}}mount(t){this.current=t,Ip.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),zv.current||o3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ip.delete(this.current),this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=En.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&re.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ws){const r=ws[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Op.length;n++){const s=Op[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=u3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=bs(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(cv(s)||ev(s))?s=parseFloat(s):!c3(s)&&Hr.test(r)&&(s=av(t,r)),this.setBaseTarget(t,Te(s)?s.get():s)),Te(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=ph(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Te(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Ph),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Hv extends d3{constructor(){super(...arguments),this.KeyframeResolver=fv}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Te(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function h3(e){return window.getComputedStyle(e)}class f3 extends Hv{constructor(){super(...arguments),this.type="html",this.renderInstance=Ex}readValueFromInstance(t,r){if(En.has(r)){const n=Lh(r);return n&&n.default||0}else{const n=h3(t),s=(Sx(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Mv(t,r)}build(t,r,n){xh(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return jh(t,r,n)}}class m3 extends Hv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xe}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(En.has(r)){const n=Lh(r);return n&&n.default||0}return r=Px.has(r)?r:hh(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Mx(t,r,n)}build(t,r,n){vh(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){Tx(t,r,n,s)}mount(t){this.isSVGTag=bh(t.tagName),super.mount(t)}}const p3=(e,t)=>mh(e)?new m3(t):new f3(t,{allowProjection:e!==p.Fragment}),g3=HS({...F4,...i3,...GC,...a3},p3),T=iS(g3);function Ns(e){const t=As(()=>bs(e)),{isStatic:r}=p.useContext(aa);if(r){const[,n]=p.useState(e);p.useEffect(()=>t.on("change",n),[])}return t}function Wv(e,t){const r=Ns(t()),n=()=>r.set(t());return n(),oa(()=>{const s=()=>re.preRender(n,!1,!0),a=e.map(o=>o.on("change",s));return()=>{a.forEach(o=>o()),or(n)}}),r}function $p(e){return typeof e=="number"?e:parseFloat(e)}function Tr(e,t={}){const{isStatic:r}=p.useContext(aa),n=p.useRef(null),s=Ns(Te(e)?$p(e.get()):e),a=p.useRef(s.get()),o=p.useRef(()=>{}),l=()=>{const u=n.current;u&&u.time===0&&u.sample(Ce.delta),c(),n.current=f4({keyframes:[s.get(),a.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o.current})},c=()=>{n.current&&n.current.stop()};return p.useInsertionEffect(()=>s.attach((u,d)=>r?d(u):(a.current=u,o.current=d,re.update(l),s.get()),c),[JSON.stringify(t)]),oa(()=>{if(Te(e))return e.on("change",u=>s.set($p(u)))},[s]),s}const y3=e=>e&&typeof e=="object"&&e.mix,x3=e=>y3(e)?e.mix:void 0;function v3(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],a=e[2+r],o=e[3+r],l=wv(s,a,{mixer:x3(a[0]),...o});return t?l(n):l}function w3(e){pi.current=[],e();const t=Wv(pi.current,e);return pi.current=void 0,t}function Ar(e,t,r,n){if(typeof e=="function")return w3(e);const s=typeof t=="function"?t:v3(t,r,n);return Array.isArray(e)?Fp(e,s):Fp([e],([a])=>s(a))}function Fp(e,t){const r=As(()=>[]);return Wv(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function b3(e){e.values.forEach(t=>t.stop())}function Ju(e,t){[...t].reverse().forEach(n=>{const s=e.getVariant(n);s&&Th(e,s),e.variantChildren&&e.variantChildren.forEach(a=>{Ju(a,t)})})}function j3(e,t){if(Array.isArray(t))return Ju(e,t);if(typeof t=="string")return Ju(e,[t]);Th(e,t)}function N3(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const s=[];return e.forEach(a=>{s.push(Nv(a,r,{transitionOverride:n}))}),Promise.all(s)},set(r){return e.forEach(n=>{j3(n,r)})},stop(){e.forEach(r=>{b3(r)})},mount(){return()=>{t.stop()}}};return t}function k3(){const e=As(N3);return oa(e.mount,[]),e}const S3=k3,_3={some:0,all:1};function C3(e,t,{root:r,margin:n,amount:s="some"}={}){const a=Vx(e),o=new WeakMap,l=u=>{u.forEach(d=>{const h=o.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=t(d);typeof f=="function"?o.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),o.delete(d.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof s=="number"?s:_3[s]});return a.forEach(u=>c.observe(u)),()=>c.disconnect()}function qv(e,{root:t,margin:r,amount:n,once:s=!1}={}){const[a,o]=p.useState(!1);return p.useEffect(()=>{if(!e.current||s&&a)return;const l=()=>(o(!0),s?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return C3(e.current,l,c)},[t,e,r,s,n]),a}function Kv(e,t){let r=0;r+=10,t.keywords&&t.keywords.forEach(o=>{const l=o.toLowerCase();e.title.toLowerCase().includes(l)&&(r+=15),e.content.toLowerCase().includes(l)&&(r+=10)}),t.categories&&t.categories.includes(e.category)&&(r+=20),t.sources&&t.sources.includes(e.source)&&(r+=15),t.languages&&e.language&&(t.languages.includes(e.language)?r+=15:r-=10),e.tags&&e.tags.length>0&&(t.keywords&&e.tags.forEach(o=>{var l;(l=t.keywords)!=null&&l.some(c=>c.toLowerCase()===o.toLowerCase()||o.toLowerCase().includes(c.toLowerCase())||c.toLowerCase().includes(o.toLowerCase()))&&(r+=5)}),e.tags.length>=3&&(r+=5)),t.excluded_keywords&&t.excluded_keywords.forEach(o=>{const l=o.toLowerCase();e.title.toLowerCase().includes(l)&&(r-=25),e.content.toLowerCase().includes(l)&&(r-=15)});const n=new Date(e.published_at),a=(new Date().getTime()-n.getTime())/(1e3*60*60);return a<6?r+=20:a<24?r+=10:a<48&&(r+=5),Math.min(Math.max(Math.round(r),0),100)}function Gv(e,t){return e.map(n=>{const s=Kv(n,t);return{...n,relevance_score:s}}).sort((n,s)=>(s.relevance_score||0)-(n.relevance_score||0))}function E3(e){return e===null?"text-gray-400":e>=80?"text-green-400":e>=60?"text-green-300":e>=40?"text-blue-400":e>=20?"text-blue-300":"text-gray-400"}const P3=2*60*1e3;async function Yv(e,t=20,r,n=!0){if(!e||e.trim().length<2)return[];try{const s=th({type:"search",query:e.trim().toLowerCase(),limit:t,userId:r});if(n){const d=Ye.get(s);if(d)return d}const a=e.trim().toLowerCase().split(/\s+/).filter(d=>d.length>=2),o=a.map(d=>`title.ilike.%${d}%,content.ilike.%${d}%`).join(","),{data:l,error:c}=await L.from("articles").select("*").or(o).limit(t);if(c)throw console.error("Search error:",c),c;if(!l||l.length===0)return[];let u=l;if(r){const d=await ys(r);d&&(u=Gv(u,d))}else u.sort((d,h)=>{const f=d.title.toLowerCase(),y=h.title.toLowerCase(),v=f.includes(e.toLowerCase()),b=y.includes(e.toLowerCase());if(v&&!b)return-1;if(!v&&b)return 1;let j=0,g=0;return a.forEach(x=>{f.includes(x)&&j++,y.includes(x)&&g++}),j!==g?g-j:new Date(h.published_at).getTime()-new Date(d.published_at).getTime()});return n&&Ye.set(s,u,P3),u}catch(s){return console.error("Error in searchArticles:",s),[]}}function T3(){return["blockchain","artificial intelligence","stock market","climate change","web3","startup funding","crypto"]}const Al=({textSize:e="text-xl",iconSize:t=24,className:r="",iconOnly:n=!1})=>i.jsxs("div",{className:`flex items-center ${r}`,children:[i.jsx(mn,{className:"text-blue-500",size:t}),!n&&i.jsx("span",{className:`ml-2 ${e} font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent`,children:"Sentro"})]}),A3=()=>{const{user:e}=be(),t=Nt(),[r,n]=p.useState(!1),[s,a]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,h]=p.useState(!1),f=p.useRef(null),y=p.useRef(null),v=p.useRef(Vi(async g=>{if(g.trim().length<2){l([]);return}h(!0);try{const x=await Yv(g);l(x.slice(0,5))}catch(x){console.error("Search error:",x)}finally{h(!1)}},300)).current;p.useEffect(()=>{s.trim().length>=2?(v(s),u(!0)):(l([]),u(!1))},[s,v]),p.useEffect(()=>{const g=x=>{y.current&&f.current&&!y.current.contains(x.target)&&!f.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const b=g=>{g.preventDefault(),s.trim()&&(t(`/dashboard/search?q=${encodeURIComponent(s.trim())}`),a(""),u(!1))},j=g=>{t(`/dashboard/article/${g}`),a(""),u(!1)};return i.jsxs("nav",{className:"bg-black/40 backdrop-blur-md border-b border-blue-900/40 sticky top-0 z-50",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center",children:i.jsx(Pe,{to:"/dashboard",className:"flex items-center",children:i.jsx(Al,{})})}),i.jsxs("div",{className:"hidden md:block flex-1 max-w-xl mx-8 relative",children:[i.jsxs("form",{onSubmit:b,className:"relative",children:[i.jsx("input",{ref:f,type:"text",placeholder:"Search news...",value:s,onChange:g=>a(g.target.value),onFocus:()=>o.length>0&&u(!0),className:"w-full bg-gray-800/50 border border-gray-700 rounded-full py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-200"}),i.jsx(zi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),i.jsx($t,{children:c&&i.jsx(T.div,{ref:y,className:"absolute z-10 mt-2 w-full bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:d?i.jsxs("div",{className:"p-4 text-center text-gray-400",children:[i.jsx("div",{className:"inline-block h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mr-2"}),"Searching..."]}):o.length>0?i.jsxs("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:[o.map(g=>i.jsxs("div",{onClick:()=>j(g.id),className:"p-3 hover:bg-gray-700/50 cursor-pointer border-b border-gray-700 last:border-0",children:[i.jsx("h4",{className:"text-white text-sm font-medium mb-1 line-clamp-1",children:g.title}),i.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[i.jsx("span",{className:"px-2 py-0.5 bg-gray-700 rounded-full mr-2",children:g.category}),i.jsx("span",{children:g.source})]})]},g.id)),i.jsxs("div",{className:"p-3 text-center bg-gray-700/30 text-blue-400 text-sm cursor-pointer hover:bg-gray-700/50",onClick:g=>{g.preventDefault(),t(`/dashboard/search?q=${encodeURIComponent(s)}`),a(""),u(!1)},children:['See all results for "',s,'"']})]}):s.length>=2?i.jsxs("div",{className:"p-4 text-gray-400 text-center",children:['No results found for "',s,'"']}):null})})]}),i.jsx("div",{className:"hidden md:flex items-center space-x-4",children:!e&&i.jsx(Pe,{to:"/login",className:"text-sm font-medium text-white bg-blue-600 px-4 py-2 rounded-full hover:bg-blue-700 transition-colors",children:"Sign In"})}),i.jsx("div",{className:"md:hidden flex items-center",children:i.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:r?i.jsx(kn,{className:"h-6 w-6"}):i.jsx(I2,{className:"h-6 w-6"})})})]})}),r&&i.jsx(T.div,{className:"md:hidden bg-gray-900 shadow-lg",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},transition:{duration:.3},children:i.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[i.jsxs("form",{onSubmit:b,className:"relative mb-3",children:[i.jsx("input",{type:"text",placeholder:"Search news...",value:s,onChange:g=>a(g.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-md py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-200"}),i.jsx(zi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),i.jsx(Pe,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Home"}),i.jsx(Pe,{to:"/dashboard/trending",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Trending"}),i.jsx(Pe,{to:"/dashboard/categories",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Categories"}),i.jsx(Pe,{to:"/dashboard/bookmarks",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Bookmarks"}),i.jsx(Pe,{to:"/dashboard/history",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"History"}),!e&&i.jsx(Pe,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700 text-center",children:"Sign In"})]})})]})},Jt={async addBookmark(e,t,r){try{const{data:n}=await L.from("bookmarks").select("id").eq("user_id",e).eq("article_id",t).single();if(n)return n;const{data:s,error:a}=await L.from("bookmarks").insert({user_id:e,article_id:t,note:r||null}).select().single();if(a)throw console.error("Error adding bookmark:",a),a;return s}catch(n){return console.error("Error in addBookmark:",n),null}},async removeBookmark(e,t){try{const{error:r}=await L.from("bookmarks").delete().match({user_id:e,article_id:t});return r?(console.error("Error removing bookmark:",r),!1):!0}catch(r){return console.error("Error in removeBookmark:",r),!1}},async isBookmarked(e,t){try{const{data:r,error:n}=await L.from("bookmarks").select("id").eq("user_id",e).eq("article_id",t);return n?(console.error("Error checking bookmark:",n),!1):r&&r.length>0}catch(r){return console.error("Error in isBookmarked:",r),!1}},async getUserBookmarks(e,t=!0){try{let r=L.from("bookmarks").select(t?"*, article:articles(*)":"*").eq("user_id",e).order("created_at",{ascending:!1});const{data:n,error:s}=await r;if(s)throw console.error("Error fetching bookmarks:",s),s;return(n||[]).map(a=>t&&a.article?{...a,article:a.article}:a)}catch(r){return console.error("Error in getUserBookmarks:",r),[]}},async updateBookmarkNote(e,t){try{const{data:r,error:n}=await L.from("bookmarks").update({note:t}).eq("id",e).select().single();return n?(console.error("Error updating bookmark note:",n),null):r}catch(r){return console.error("Error in updateBookmarkNote:",r),null}},async getBookmarkStatsByCategory(e){try{const{data:t,error:r}=await L.from("bookmarks").select("article:articles(category)").eq("user_id",e);if(r)throw console.error("Error fetching bookmark stats:",r),r;const n={};return t&&t.forEach(s=>{var o;const a=(o=s.article)==null?void 0:o.category;a&&(n[a]=(n[a]||0)+1)}),n}catch(t){return console.error("Error in getBookmarkStatsByCategory:",t),{}}}},Zt={async recordView(e,t,r){try{const n=new Date;n.setMinutes(n.getMinutes()-5);const{data:s,error:a}=await L.from("article_views").select("id, viewed_at").eq("user_id",e).eq("article_id",t).gte("viewed_at",n.toISOString()).order("viewed_at",{ascending:!1}).limit(1);if(a)console.error("Error checking for recent views:",a);else if(s&&s.length>0)return console.log("Found recent view, not creating duplicate"),s[0];const{data:o,error:l}=await L.from("article_views").insert({user_id:e,article_id:t,view_duration:r||null,viewed_at:new Date().toISOString()}).select().single();return l?(console.error("Error recording article view:",l),null):o}catch(n){return console.error("Error in recordView:",n),null}},async updateViewDuration(e,t){try{const{error:r}=await L.from("article_views").update({view_duration:t}).eq("id",e);return r?(console.error("Error updating view duration:",r),!1):!0}catch(r){return console.error("Error in updateViewDuration:",r),!1}},async getUserHistory(e,t=50,r=!0){try{let n=L.from("article_views").select(r?"*, article:articles(*)":"*").eq("user_id",e).order("viewed_at",{ascending:!1}).limit(t);const{data:s,error:a}=await n;if(a)throw console.error("Error fetching view history:",a),a;return(s||[]).map(o=>r&&o.article?{...o,article:o.article}:o)}catch(n){return console.error("Error in getUserHistory:",n),[]}},async clearHistory(e){try{const{error:t}=await L.from("article_views").delete().eq("user_id",e);return t?(console.error("Error clearing view history:",t),!1):!0}catch(t){return console.error("Error in clearHistory:",t),!1}},async hasViewedArticle(e,t){try{const{data:r,error:n}=await L.from("article_views").select("id").eq("user_id",e).eq("article_id",t).limit(1);return n?(console.error("Error checking article view:",n),!1):r&&r.length>0}catch(r){return console.error("Error in hasViewedArticle:",r),!1}},async getMostViewedCategories(e){try{const{data:t,error:r}=await L.from("article_views").select("article:articles(category)").eq("user_id",e);if(r)throw console.error("Error fetching view categories:",r),r;const n={};return t&&t.forEach(s=>{var o;const a=(o=s.article)==null?void 0:o.category;a&&(n[a]=(n[a]||0)+1)}),n}catch(t){return console.error("Error in getMostViewedCategories:",t),{}}},async getArticleViewCount(e){try{const{count:t,error:r}=await L.from("article_views").select("id",{count:"exact",head:!0}).eq("article_id",e);return r?(console.error("Error fetching article view count:",r),0):t||0}catch(t){return console.error("Error in getArticleViewCount:",t),0}},async getCategoryViewCounts(){try{const{data:e,error:t}=await L.from("article_views").select("article:articles(category)").order("viewed_at",{ascending:!1});if(t)throw console.error("Error fetching category view counts:",t),t;const r={};e&&e.forEach(s=>{var a;if((a=s.article)!=null&&a.category){const o=s.article.category;r[o]||(r[o]=new Set),r[o].add(s.article.id||"unknown")}});const n={};return Object.entries(r).forEach(([s,a])=>{n[s]=a.size}),n}catch(e){return console.error("Error in getCategoryViewCounts:",e),{}}}},M3=()=>{var w,k,C;const[e,t]=p.useState(!1),[r,n]=p.useState(!1),{isAdmin:s,profile:a,user:o,signOut:l}=be(),c=Nt(),u=p.useRef(null),d=p.useRef(null),[h,f]=p.useState(0),[y,v]=p.useState(0),b=()=>{t(!e)},j=async()=>{await l(),c("/")};p.useEffect(()=>{function N(S){u.current&&d.current&&!u.current.contains(S.target)&&!d.current.contains(S.target)&&n(!1)}return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]),p.useEffect(()=>{if(!o)return;(async()=>{try{const S=await Jt.getUserBookmarks(o.id,!1);f(S.length);const _=await Zt.getUserHistory(o.id,100,!1);v(_.length)}catch(S){console.error("Error fetching counts:",S)}})()},[o]);const g=e?"w-16":"w-64",x=({isActive:N})=>`flex items-center py-3 px-4 rounded-lg transition-colors ${N?"bg-blue-600/20 text-blue-400":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200"}`,m="h-5 w-5";return i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`absolute top-0 bottom-0 right-0 w-8 -mr-8 bg-blue-500/10 blur-[18px] rounded-full pointer-events-none z-10 transition-all duration-300 ${e?"opacity-30":"opacity-50"}`}),i.jsx(T.aside,{className:`${g} bg-gray-900/50 border-r border-blue-900/30 h-[calc(100vh-4rem)] sticky top-16 transition-all duration-300 overflow-hidden rounded-tr-2xl rounded-br-2xl relative z-20`,layout:!0,children:i.jsxs("div",{className:"h-full flex flex-col py-4 px-2",children:[i.jsx("div",{className:"px-2 mb-6",children:i.jsx(Al,{iconOnly:e})}),i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsxs(qt,{to:"/dashboard",end:!0,className:x,children:[i.jsx(A2,{className:m}),!e&&i.jsx("span",{className:"ml-3",children:"Home"})]}),i.jsxs(qt,{to:"/dashboard/trending",className:x,children:[i.jsx(Nn,{className:m}),!e&&i.jsx("span",{className:"ml-3",children:"Trending"})]}),i.jsx(qt,{to:"/dashboard/categories",className:x,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ia,{className:m}),!e&&i.jsx("span",{className:"ml-3 flex-1",children:"Categories"})]})}),i.jsx(qt,{to:"/dashboard/bookmarks",className:x,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ix,{className:m}),!e&&i.jsx("span",{className:"ml-3 flex-1",children:"Bookmarks"}),h>0&&i.jsx("span",{className:`${e?"ml-0":"ml-2"} px-1.5 py-0.5 text-xs bg-blue-900/60 text-blue-300 rounded-full`,children:h})]})}),i.jsxs(qt,{to:"/dashboard/preferences",className:x,children:[i.jsx(Io,{className:m}),!e&&i.jsx("span",{className:"ml-3",children:"Preferences"})]}),s&&i.jsxs(qt,{to:"/dashboard/admin",className:x,children:[i.jsx(Do,{className:m}),!e&&i.jsx("span",{className:"ml-3",children:"Admin"})]})]}),i.jsxs("div",{className:"mt-auto mb-3 px-2 relative",children:[i.jsxs("button",{ref:d,onClick:()=>n(!r),className:`w-full flex ${e?"justify-center":"justify-start"} items-center p-2 rounded-lg transition-colors hover:bg-gray-800/70 text-gray-300`,children:[i.jsx("div",{className:`rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center flex-shrink-0 ${e?"h-9 w-9":"h-10 w-10"}`,children:a!=null&&a.avatar_url?i.jsx("img",{src:a.avatar_url,alt:(a==null?void 0:a.username)||"User",className:`rounded-full object-cover ${e?"h-9 w-9":"h-10 w-10"}`}):i.jsx("span",{className:"text-white font-semibold",children:((w=a==null?void 0:a.username)==null?void 0:w[0])||((k=o==null?void 0:o.email)==null?void 0:k[0])||i.jsx(Hi,{className:e?"h-5 w-5":"h-6 w-6"})})}),!e&&i.jsxs("div",{className:"ml-3 overflow-hidden",children:[i.jsx("p",{className:"text-sm font-medium line-clamp-1",children:(a==null?void 0:a.username)||((C=o==null?void 0:o.email)==null?void 0:C.split("@")[0])||"User"}),(a==null?void 0:a.role)&&i.jsx("p",{className:"text-xs text-gray-400 capitalize",children:a.role})]})]}),r&&i.jsxs("div",{ref:u,className:`absolute ${e?"left-16 bottom-0":"bottom-full left-0 mb-1"} w-48 bg-gray-800 rounded-md shadow-lg py-1 border border-gray-700 z-50`,children:[i.jsxs(qt,{to:"/dashboard/profile",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[i.jsx(Hi,{className:"h-4 w-4 inline mr-2"}),"Profile"]}),i.jsxs(qt,{to:"/dashboard/preferences",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[i.jsx(Io,{className:"h-4 w-4 inline mr-2"}),"News Preferences"]}),(a==null?void 0:a.role)==="admin"&&i.jsxs(qt,{to:"/dashboard/admin",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[i.jsx(Do,{className:"h-4 w-4 inline mr-2"}),"Admin Dashboard"]}),i.jsxs("button",{onClick:()=>{n(!1),j()},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[i.jsx(D2,{className:"h-4 w-4 inline mr-2"}),"Sign out"]})]})]}),i.jsx("button",{onClick:b,className:"mx-auto flex items-center justify-center p-2 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors",children:e?i.jsx(ox,{className:"h-5 w-5 text-gray-400"}):i.jsx(ax,{className:"h-5 w-5 text-gray-400"})})]})})]})},Vp=({onClose:e,isMuted:t,onToggleMute:r,onOpenInNewTab:n,isPaused:s,onTogglePause:a})=>{const[o,l]=p.useState(null);return i.jsxs("div",{className:"fixed bottom-0 right-4 bg-gray-800/90 backdrop-blur-sm rounded-t-lg shadow-lg z-50 flex items-center border-t border-x border-blue-900/30",children:[n&&i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",title:"Open news in new tab",onMouseEnter:()=>l("open"),onMouseLeave:()=>l(null),children:i.jsx(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:i.jsx(Ht,{className:"h-4 w-4"})})}),i.jsx($t,{children:o==="open"&&i.jsx(T.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:"Open all news"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",title:t?"Unmute ticker":"Mute ticker",onMouseEnter:()=>l("mute"),onMouseLeave:()=>l(null),children:i.jsx(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:t?i.jsx(K2,{className:"h-4 w-4"}):i.jsx(q2,{className:"h-4 w-4"})})}),i.jsx($t,{children:o==="mute"&&i.jsx(T.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:t?"Unmute ticker":"Mute ticker"})})]}),a&&i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",title:s?"Resume ticker":"Pause ticker",onMouseEnter:()=>l("pause"),onMouseLeave:()=>l(null),children:i.jsx(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:s?i.jsx(F2,{className:"h-4 w-4"}):i.jsx($2,{className:"h-4 w-4"})})}),i.jsx($t,{children:o==="pause"&&i.jsx(T.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:s?"Resume ticker":"Pause ticker"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-red-300 transition-colors",title:"Hide ticker",onMouseEnter:()=>l("close"),onMouseLeave:()=>l(null),children:i.jsx(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:i.jsx(kn,{className:"h-4 w-4"})})}),i.jsx($t,{children:o==="close"&&i.jsx(T.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:"Hide ticker"})})]})]})};function te(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Xv(e,t){const r=+te(e);return cr(e,r+t)}const Qv=6048e5,R3=864e5,Fh=6e4,Vh=36e5,$a=43200,Up=1440;function Ws(e,t){return Xv(e,t*Vh)}let D3={};function ha(){return D3}function Yi(e,t){var l,c,u,d;const r=ha(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=te(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ho(e){return Yi(e,{weekStartsOn:1})}function Jv(e){const t=te(e),r=t.getFullYear(),n=cr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ho(n),a=cr(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Ho(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Bp(e){const t=te(e);return t.setHours(0,0,0,0),t}function Wo(e){const t=te(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function L3(e,t){const r=Bp(e),n=Bp(t),s=+r-Wo(r),a=+n-Wo(n);return Math.round((s-a)/R3)}function I3(e){const t=Jv(e),r=cr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ho(r)}function ro(e,t){return Xv(e,t*Fh)}function no(e,t){const r=te(e),n=te(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function O3(e){return cr(e,Date.now())}function $3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function F3(e){if(!$3(e)&&typeof e!="number")return!1;const t=te(e);return!isNaN(Number(t))}function V3(e,t){const r=te(e),n=te(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function U3(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function B3(e,t){return+te(e)-+te(t)}function z3(e){const t=te(e);return t.setHours(23,59,59,999),t}function H3(e){const t=te(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function W3(e){const t=te(e);return+z3(t)==+H3(t)}function q3(e,t){const r=te(e),n=te(t),s=no(r,n),a=Math.abs(V3(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=no(r,n)===-s;W3(te(e))&&a===1&&no(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function K3(e,t,r){const n=B3(e,t)/1e3;return U3(r==null?void 0:r.roundingMethod)(n)}function G3(e){const t=te(e),r=cr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Y3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X3=(e,t,r)=>{let n;const s=Y3[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ec(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Q3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},J3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eE={date:Ec({formats:Q3,defaultWidth:"full"}),time:Ec({formats:J3,defaultWidth:"full"}),dateTime:Ec({formats:Z3,defaultWidth:"full"})},tE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rE=(e,t,r,n)=>tE[e];function qs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const nE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cE=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uE={ordinalNumber:cE,era:qs({values:nE,defaultWidth:"wide"}),quarter:qs({values:sE,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qs({values:iE,defaultWidth:"wide"}),day:qs({values:aE,defaultWidth:"wide"}),dayPeriod:qs({values:oE,defaultWidth:"wide",formattingValues:lE,defaultFormattingWidth:"wide"})};function Ks(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?hE(l,h=>h.test(o)):dE(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function dE(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hE(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function fE(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const mE=/^(\d+)(th|st|nd|rd)?/i,pE=/\d+/i,gE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yE={any:[/^b/i,/^(a|c)/i]},xE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vE={any:[/1/i,/2/i,/3/i,/4/i]},wE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_E={ordinalNumber:fE({matchPattern:mE,parsePattern:pE,valueCallback:e=>parseInt(e,10)}),era:Ks({matchPatterns:gE,defaultMatchWidth:"wide",parsePatterns:yE,defaultParseWidth:"any"}),quarter:Ks({matchPatterns:xE,defaultMatchWidth:"wide",parsePatterns:vE,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ks({matchPatterns:wE,defaultMatchWidth:"wide",parsePatterns:bE,defaultParseWidth:"any"}),day:Ks({matchPatterns:jE,defaultMatchWidth:"wide",parsePatterns:NE,defaultParseWidth:"any"}),dayPeriod:Ks({matchPatterns:kE,defaultMatchWidth:"any",parsePatterns:SE,defaultParseWidth:"any"})},Zv={code:"en-US",formatDistance:X3,formatLong:eE,formatRelative:rE,localize:uE,match:_E,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CE(e){const t=te(e);return L3(t,G3(t))+1}function EE(e){const t=te(e),r=+Ho(t)-+I3(t);return Math.round(r/Qv)+1}function ew(e,t){var d,h,f,y;const r=te(e),n=r.getFullYear(),s=ha(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,o=cr(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Yi(o,t),c=cr(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Yi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function PE(e,t){var l,c,u,d;const r=ha(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=ew(e,t),a=cr(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Yi(a,t)}function TE(e,t){const r=te(e),n=+Yi(r,t)-+PE(r,t);return Math.round(n/Qv)+1}function Z(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const pr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Z(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Z(r+1,2)},d(e,t){return Z(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Z(e.getHours()%12||12,t.length)},H(e,t){return Z(e.getHours(),t.length)},m(e,t){return Z(e.getMinutes(),t.length)},s(e,t){return Z(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Z(s,t.length)}},Rn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zp={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return pr.y(e,t)},Y:function(e,t,r,n){const s=ew(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Z(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Z(a,t.length)},R:function(e,t){const r=Jv(e);return Z(r,t.length)},u:function(e,t){const r=e.getFullYear();return Z(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Z(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Z(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return pr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Z(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=TE(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Z(s,t.length)},I:function(e,t,r){const n=EE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Z(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):pr.d(e,t)},D:function(e,t,r){const n=CE(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Z(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Z(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Z(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Z(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Rn.noon:n===0?s=Rn.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Rn.evening:n>=12?s=Rn.afternoon:n>=4?s=Rn.morning:s=Rn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return pr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):pr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):pr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):pr.s(e,t)},S:function(e,t){return pr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Wp(n);case"XXXX":case"XX":return sn(n);case"XXXXX":case"XXX":default:return sn(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Wp(n);case"xxxx":case"xx":return sn(n);case"xxxxx":case"xxx":default:return sn(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hp(n,":");case"OOOO":default:return"GMT"+sn(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hp(n,":");case"zzzz":default:return"GMT"+sn(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Z(n,t.length)},T:function(e,t,r){const n=e.getTime();return Z(n,t.length)}};function Hp(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Z(a,2)}function Wp(e,t){return e%60===0?(e>0?"-":"+")+Z(Math.abs(e)/60,2):sn(e,t)}function sn(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Z(Math.trunc(n/60),2),a=Z(n%60,2);return r+s+t+a}const qp=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},tw=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AE=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return qp(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",qp(n,t)).replace("{{time}}",tw(s,t))},ME={p:tw,P:AE},RE=/^D+$/,DE=/^Y+$/,LE=["D","DD","YY","YYYY"];function IE(e){return RE.test(e)}function OE(e){return DE.test(e)}function $E(e,t,r){const n=FE(e,t,r);if(console.warn(n),LE.includes(e))throw new RangeError(n)}function FE(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BE=/^'([^]*?)'?$/,zE=/''/g,HE=/[a-zA-Z]/;function Ve(e,t,r){var d,h,f,y;const n=ha(),s=n.locale??Zv,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((y=(f=n.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,l=te(e);if(!F3(l))throw new RangeError("Invalid time value");let c=t.match(UE).map(v=>{const b=v[0];if(b==="p"||b==="P"){const j=ME[b];return j(v,s.formatLong)}return v}).join("").match(VE).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:WE(v)};if(zp[b])return{isToken:!0,value:v};if(b.match(HE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const b=v.value;(OE(b)||IE(b))&&$E(b,t,String(e));const j=zp[b[0]];return j(l,b,s.localize,u)}).join("")}function WE(e){const t=e.match(BE);return t?t[1].replace(zE,"'"):e}function qE(e,t,r){const n=ha(),s=(r==null?void 0:r.locale)??n.locale??Zv,a=2520,o=no(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=te(t),u=te(e)):(c=te(e),u=te(t));const d=K3(u,c),h=(Wo(u)-Wo(c))/1e3,f=Math.round((d-h)/60);let y;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Up){const v=Math.round(f/60);return s.formatDistance("aboutXHours",v,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<$a){const v=Math.round(f/Up);return s.formatDistance("xDays",v,l)}else if(f<$a*2)return y=Math.round(f/$a),s.formatDistance("aboutXMonths",y,l)}if(y=q3(u,c),y<12){const v=Math.round(f/$a);return s.formatDistance("xMonths",v,l)}else{const v=y%12,b=Math.trunc(y/12);return v<3?s.formatDistance("aboutXYears",b,l):v<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function qo(e,t){return qE(e,O3(e),t)}function dn(e,t){const n=XE(e);let s;if(n.date){const c=QE(n.date,2);s=JE(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let o=0,l;if(n.time&&(o=ZE(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=eP(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const Fa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GE=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,YE=/^([+-])(\d{2})(?::?(\d{2}))?$/;function XE(e){const t={},r=e.split(Fa.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Fa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fa.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Fa.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function QE(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function JE(e,t){if(t===null)return new Date(NaN);const r=e.match(KE);if(!r)return new Date(NaN);const n=!!r[4],s=Gs(r[1]),a=Gs(r[2])-1,o=Gs(r[3]),l=Gs(r[4]),c=Gs(r[5])-1;if(n)return iP(t,l,c)?tP(t,l,c):new Date(NaN);{const u=new Date(0);return!nP(t,a,o)||!sP(t,s)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(s,o)),u)}}function Gs(e){return e?parseInt(e):1}function ZE(e){const t=e.match(GE);if(!t)return NaN;const r=Pc(t[1]),n=Pc(t[2]),s=Pc(t[3]);return aP(r,n,s)?r*Vh+n*Fh+s*1e3:NaN}function Pc(e){return e&&parseFloat(e.replace(",","."))||0}function eP(e){if(e==="Z")return 0;const t=e.match(YE);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return oP(n,s)?r*(n*Vh+s*Fh):NaN}function tP(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,a=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const rP=[31,null,31,30,31,30,31,31,30,31,30,31];function rw(e){return e%400===0||e%4===0&&e%100!==0}function nP(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(rP[t]||(rw(e)?29:28))}function sP(e,t){return t>=1&&t<=(rw(e)?366:365)}function iP(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function aP(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function oP(e,t){return t>=0&&t<=59}const lP=({news:e,speed:t=30,pauseOnHover:r=!0,className:n=""})=>{const[s,a]=p.useState(!1),o=p.useRef(null),l=p.useRef(null),[c,u]=p.useState(0),[d,h]=p.useState(0),f=S3();p.useEffect(()=>{const b=()=>{o.current&&h(o.current.offsetWidth),l.current&&u(l.current.scrollWidth)};return b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[e]),p.useEffect(()=>{if(c<=0||d<=0)return;const b=c,j=t;return s?f.stop():f.start({x:[-20,-b],transition:{ease:"linear",duration:j,repeat:1/0,repeatType:"loop"}}),()=>{f.stop()}},[c,d,s,f,t]);const y=()=>{r&&a(!0)},v=()=>{r&&a(!1)};return!e||e.length===0?null:i.jsx("div",{ref:o,className:`overflow-hidden whitespace-nowrap ${n}`,onMouseEnter:y,onMouseLeave:v,children:i.jsx(T.div,{ref:l,animate:f,className:"inline-flex items-center",children:e.map((b,j)=>i.jsxs("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mx-8 text-gray-300 hover:text-blue-300 transition-colors",children:[b.category&&i.jsx("span",{className:"mr-2 text-xs px-2 py-0.5 bg-blue-900/40 rounded-full text-blue-200",children:b.category}),i.jsx("span",{className:"font-medium whitespace-nowrap",children:b.title}),b.pubDate&&i.jsxs("span",{className:"text-gray-500 ml-2 text-xs flex items-center",children:[i.jsx(Se,{className:"h-3 w-3 mr-1"}),Ve(new Date(b.pubDate),"MMM dd, HH:mm")]}),i.jsx("span",{className:"mx-8 text-blue-500",children:"|"})]},`ticker-item-${j}`))})})},Kp=[{title:"Crypto markets show resilience amid global economic uncertainty",link:"https://www.reuters.com/business/finance/",pubDate:new Date().toISOString(),category:"Finance",isHighImpact:!0},{title:"Bitcoin stabilizes above support levels as institutional interest grows",link:"https://www.reuters.com/markets/",pubDate:new Date().toISOString(),category:"Markets"},{title:"Blockchain technology adoption accelerates across industries",link:"https://www.reuters.com/technology/",pubDate:new Date().toISOString(),category:"Technology"},{title:"Ethereum upgrade attracts new developers to ecosystem",link:"https://www.reuters.com/technology/",pubDate:new Date().toISOString(),category:"Technology"},{title:"Regulatory clarity drives institutional adoption of cryptocurrencies",link:"https://www.reuters.com/business/finance/",pubDate:new Date().toISOString(),category:"Finance"}],nw=({className:e=""})=>{const{isVisible:t,isMuted:r,hideTicker:n,toggleMute:s}=y2(),[a,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(null),[h,f]=p.useState(!1),[y,v]=p.useState(-1),[b,j]=p.useState(new Set),g=p.useRef(null);p.useEffect(()=>{const w=async()=>{try{c(!0);try{const C=await fetch("/feeds/reuters-topnews.json");if(!C.ok)throw new Error(`Local feed unavailable: ${C.status}`);const N=await C.json();if(N&&N.items&&Array.isArray(N.items)){const S=N.items.map((_,E)=>({title:_.title,link:_.link,pubDate:_.pubDate||_.isoDate,description:_.description||_.content,category:x(),isHighImpact:E%4===0}));o(S),console.log("Successfully loaded local news feed");return}else throw new Error("Invalid feed data format")}catch(C){console.warn("Could not load local feed:",C);try{const N=await fetch("https://rss.app/feeds/_LGUsXhQQjR11Xad5.xml");if(!N.ok)throw new Error(`RSS.app feed unavailable: ${N.status}`);const S=await N.text(),P=new DOMParser().parseFromString(S,"text/xml").querySelectorAll("item"),A=[];if(P.forEach((I,B)=>{var $,V,W,se;const Q=(($=I.querySelector("title"))==null?void 0:$.textContent)||"",ne=((V=I.querySelector("link"))==null?void 0:V.textContent)||"",J=((W=I.querySelector("pubDate"))==null?void 0:W.textContent)||"",R=((se=I.querySelector("description"))==null?void 0:se.textContent)||"";Q&&ne&&A.push({title:Q,link:ne,pubDate:J,description:R,category:x(),isHighImpact:B%4===0})}),A.length>0){o(A),console.log("Successfully loaded RSS.app feed");return}else throw new Error("No items found in RSS feed")}catch(N){console.warn("Could not load RSS.app feed:",N),o(Kp)}}}catch(C){console.error("Error fetching news:",C),d(C instanceof Error?C.message:"Failed to load news ticker"),console.log("Using fallback news data due to error"),o(Kp)}finally{c(!1)}};w();const k=setInterval(w,60*60*1e3);return()=>clearInterval(k)},[]);const x=()=>{const w=["Finance","Technology","Markets","Business","Environment","Health","Education","Community"];return w[Math.floor(Math.random()*w.length)]};p.useEffect(()=>{if(a.length===0)return;j(new Set([Math.floor(Math.random()*a.length)]));const w=setInterval(()=>{const k=new Set,C=Math.floor(Math.random()*2)+1;for(let N=0;N<C;N++)k.add(Math.floor(Math.random()*a.length));j(k)},8e3);return()=>clearInterval(w)},[a]);const m=()=>{window.open("https://www.reuters.com/world/top-news/","_blank")};return t?l?i.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-gray-900/90 backdrop-blur-sm border-t border-gray-800 py-2 z-50 ${e}`,children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex items-center",children:[i.jsx(mn,{className:"h-4 w-4 text-blue-400 mr-2 animate-spin"}),i.jsx("span",{className:"text-gray-400 text-sm",children:"Loading news ticker..."})]}),i.jsx(Vp,{onClose:n,isMuted:r,onToggleMute:s})]}):a.length?i.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-gray-900/90 backdrop-blur-sm border-t border-blue-900/30 py-2 z-50 ${e}`,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),ref:g,children:[i.jsx(lP,{news:a,pauseOnHover:!0,speed:45,className:"mx-auto"}),i.jsx($t,{children:h&&i.jsx(T.div,{className:"absolute left-0 right-0 bottom-full py-2 px-3 mb-1 bg-gray-800/90 backdrop-blur-sm border border-gray-700 rounded-t-lg text-xs text-gray-300 max-w-md mx-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ih,{className:"h-3 w-3 mr-1 text-blue-400"}),"Ticker paused - hover over an article to read"]})})}),i.jsx(Vp,{onClose:n,isMuted:r,onToggleMute:s,onOpenInNewTab:m})]}):null:null},cP=()=>i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-gray-100",children:[i.jsx(A3,{}),i.jsxs("div",{className:"flex relative",children:[i.jsx(M3,{}),i.jsx(T.main,{className:"flex-1 p-6 pb-48",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsx(Mj,{})})]}),i.jsx(nw,{})]}),uP=()=>i.jsxs("nav",{className:"flex justify-between items-center py-6 relative z-20",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Al,{textSize:"text-2xl",iconSize:32}),i.jsx("span",{className:"text-sm text-gray-300 ml-1 font-normal",children:"Impact News"})]}),i.jsxs(T.div,{className:"hidden lg:flex items-center space-x-8 relative z-20",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("a",{href:"#features",className:"text-gray-300 hover:text-white transition-colors",children:"Features"}),i.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-white transition-colors",children:"How It Works"}),i.jsx(Pe,{to:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Impact Score"}),i.jsxs("div",{className:"group relative",children:[i.jsxs("button",{className:"text-gray-300 hover:text-white transition-colors flex items-center",children:["Solutions",i.jsx("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),i.jsx("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-gray-800 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300",children:i.jsxs("div",{className:"py-1",children:[i.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"For Investors"}),i.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"For Enterprises"}),i.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"For Developers"})]})})]}),i.jsx("a",{href:"#pricing",className:"text-gray-300 hover:text-white transition-colors",children:"Pricing"})]}),i.jsxs("div",{className:"flex items-center space-x-4 relative z-20",children:[i.jsx(Pe,{to:"/login",className:"text-gray-300 hover:text-white transition-colors font-medium relative z-20",children:"Log in"}),i.jsx(Pe,{to:"/login?signup=true",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition-colors font-medium relative z-20",children:"Get Started"})]})]}),dP=()=>i.jsx("footer",{className:"py-12 bg-black",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[i.jsx(Al,{textSize:"text-xl",className:""}),i.jsx("span",{className:"text-gray-400 ml-1",children:"Impact News"})]}),i.jsxs("div",{className:"text-gray-400",children:[" ",new Date().getFullYear()," Sentro. All rights reserved."]})]})})}),sw=({className:e="",density:t="medium",colorScheme:r="mixed"})=>{const n=p.useRef(null);return p.useEffect(()=>{const s=n.current;if(!s)return;const a=s.getContext("2d");if(!a)return;const o=()=>{s.width=window.innerWidth,s.height=window.innerHeight};window.addEventListener("resize",o),o();const l=t==="low"?.6:t==="high"?1.5:1,u={blue:["#60A5FA","#3B82F6","#2563EB","#1D4ED8"],green:["#34D399","#10B981","#059669","#047857"],purple:["#A78BFA","#8B5CF6","#7C3AED","#6D28D9"],mixed:["#60A5FA","#3B82F6","#8B5CF6","#6D28D9","#34D399"]}[r];class d{constructor(S,_,E,P,A){U(this,"x");U(this,"y");U(this,"size");U(this,"speedX");U(this,"speedY");U(this,"color");U(this,"opacity");U(this,"fadeSpeed");U(this,"maxSize");this.x=S,this.y=_,this.size=A,this.maxSize=A,this.speedX=E*.3,this.speedY=P*.3,this.color=u[Math.floor(Math.random()*u.length)],this.opacity=.05+Math.random()*.2,this.fadeSpeed=.005+Math.random()*.01}update(){this.x+=this.speedX,this.y+=this.speedY,this.x<0&&(this.x=s.width),this.x>s.width&&(this.x=0),this.y<0&&(this.y=s.height),this.y>s.height&&(this.y=0),this.size=this.maxSize*(.7+Math.sin(Date.now()*.001)*.3)}draw(){a.beginPath(),a.arc(this.x,this.y,this.size,0,Math.PI*2),a.fillStyle=this.color+Math.floor(this.opacity*255).toString(16).padStart(2,"0"),a.fill()}}class h{constructor(S,_,E){U(this,"x");U(this,"y");U(this,"radius");U(this,"startAngle");U(this,"endAngle");U(this,"anticlockwise");U(this,"color");U(this,"speed");U(this,"progress");U(this,"width");U(this,"maxProgress");U(this,"fadeOutPoint");U(this,"glowAmount");U(this,"pulse");this.x=S,this.y=_,this.radius=E,this.startAngle=Math.random()*Math.PI*2,this.endAngle=this.startAngle+(.5+Math.random()*1)*Math.PI,this.anticlockwise=Math.random()>.5,this.color=u[Math.floor(Math.random()*u.length)],this.speed=.002+Math.random()*.004,this.progress=0,this.width=1+Math.random()*3,this.maxProgress=1,this.fadeOutPoint=.7+Math.random()*.2,this.glowAmount=10+Math.random()*15,this.pulse=Math.random()*Math.PI*2}draw(S){const _=this.startAngle+(this.endAngle-this.startAngle)*this.progress;this.pulse+=.02;const E=(Math.sin(this.pulse)+1)*.5;S.strokeStyle=this.color,S.lineWidth=this.width*(.8+E*.4),S.lineCap="round",S.shadowColor=this.color,S.shadowBlur=this.glowAmount*(.8+E*.4);let P=1;this.progress<.2?P=this.progress/.2:this.progress>this.fadeOutPoint&&(P=1-(this.progress-this.fadeOutPoint)/(1-this.fadeOutPoint)),S.globalAlpha=P*.7,S.beginPath(),S.arc(this.x,this.y,this.radius,this.startAngle,_,this.anticlockwise),S.stroke(),S.shadowBlur=0,S.globalAlpha=1}update(){return this.progress+=this.speed,this.progress<this.maxProgress}}class f{constructor(S,_){U(this,"from");U(this,"to");U(this,"opacity");U(this,"color");U(this,"life");U(this,"maxLife");U(this,"width");this.from=S,this.to=_,this.opacity=.02+Math.random()*.08,this.color=u[Math.floor(Math.random()*u.length)],this.life=0,this.maxLife=100+Math.random()*100,this.width=.5+Math.random()}draw(S){const _=Math.sqrt(Math.pow(this.from.x-this.to.x,2)+Math.pow(this.from.y-this.to.y,2));if(_>300)return;const E=1-_/300,P=this.life<20?this.life/20:this.life>this.maxLife-20?(this.maxLife-this.life)/20:1,A=this.opacity*E*P;S.beginPath(),S.moveTo(this.from.x,this.from.y),S.lineTo(this.to.x,this.to.y),S.strokeStyle=this.color+Math.floor(A*255).toString(16).padStart(2,"0"),S.lineWidth=this.width,S.stroke()}update(){return this.life++,this.life<this.maxLife}}class y{constructor(S,_){U(this,"x");U(this,"y");U(this,"radius");U(this,"maxRadius");U(this,"speed");U(this,"color");U(this,"opacity");U(this,"width");this.x=S,this.y=_,this.radius=10,this.maxRadius=100+Math.random()*200,this.speed=1+Math.random()*2,this.color=u[Math.floor(Math.random()*u.length)],this.opacity=.3+Math.random()*.3,this.width=1+Math.random()*3}draw(S){const _=1-this.radius/this.maxRadius;S.beginPath(),S.arc(this.x,this.y,this.radius,0,Math.PI*2),S.strokeStyle=this.color+Math.floor(this.opacity*_*255).toString(16).padStart(2,"0"),S.lineWidth=this.width,S.stroke()}update(){return this.radius+=this.speed,this.radius<this.maxRadius}}const v=[],b=[],j=[],g=[],x=Math.floor(15*l);for(let N=0;N<x;N++){const S=Math.random()*s.width,_=Math.random()*s.height,E=(Math.random()-.5)*2,P=(Math.random()-.5)*2;v.push(new d(S,_,E,P,1.5+Math.random()*3))}const m=()=>{const N=20*l;if(b.length<N&&Math.random()<.03){const S=Math.random()*s.width,_=Math.random()*s.height,E=50+Math.random()*200;b.push(new h(S,_,E))}},w=()=>{if(!(j.length>30*l)&&Math.random()<.05){const N=Math.floor(Math.random()*v.length);let S;do S=Math.floor(Math.random()*v.length);while(S===N);j.push(new f(v[N],v[S]))}},k=()=>{if(g.length<5*l&&Math.random()<.01){const N=Math.random()*s.width,S=Math.random()*s.height;g.push(new y(N,S))}},C=()=>{requestAnimationFrame(C),a.fillStyle="rgba(0, 0, 0, 0.05)",a.fillRect(0,0,s.width,s.height),m(),w(),k();for(let N=g.length-1;N>=0;N--){const S=g[N];S.update()?S.draw(a):g.splice(N,1)}for(let N=b.length-1;N>=0;N--){const S=b[N];S.update()?S.draw(a):b.splice(N,1)}v.forEach(N=>{N.update(),N.draw()});for(let N=j.length-1;N>=0;N--){const S=j[N];S.update()?S.draw(a):j.splice(N,1)}};return C(),()=>{window.removeEventListener("resize",o)}},[t,r]),i.jsx("canvas",{ref:n,className:`fixed top-0 left-0 w-full h-full -z-10 ${e}`,style:{opacity:.8}})},hP=({children:e})=>i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-900 to-black text-white relative overflow-hidden",children:[i.jsx(sw,{}),i.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-48",children:[i.jsx(uP,{}),e]}),i.jsx(dP,{}),i.jsx(nw,{})]}),fP=({text:e,className:t="text-3xl font-bold",from:r="from-blue-400",to:n="to-purple-500"})=>{const s={hidden:{opacity:0},visible:(o=1)=>({opacity:1,transition:{staggerChildren:.05,delayChildren:.05*o}})},a={hidden:{opacity:0,y:20,filter:"blur(4px)",scale:.9},visible:{opacity:1,y:0,scale:1,filter:"blur(0px)",transition:{type:"spring",damping:12,stiffness:100}}};return i.jsx(T.h1,{className:`bg-gradient-to-r ${r} ${n} bg-clip-text text-transparent inline-block ${t}`,initial:"hidden",animate:"visible",variants:s,children:e.split("").map((o,l)=>i.jsx(T.span,{style:{display:"inline-block"},variants:a,children:o===" "?"":o},`${l}-${o}`))})},mP=()=>i.jsxs(T.div,{className:"inline-flex items-center bg-gray-900/70 border border-blue-500/30 rounded-2xl p-4 text-sm backdrop-blur-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},whileHover:{scale:1.03},children:[i.jsx("div",{className:"p-2.5 bg-green-900/30 rounded-xl mr-4",children:i.jsx(wl,{className:"h-5 w-5 text-green-400"})}),i.jsxs("div",{className:"text-gray-300",children:[i.jsx("span",{className:"mr-2",children:"Impact Prediction:"}),i.jsx("span",{className:"text-white",children:"Renewable energy investment to"}),i.jsx("span",{className:"text-green-400 font-medium mx-1",children:"increase 12%"}),i.jsx("span",{children:"in next quarter"})]})]});var Zu=new Map,Va=new WeakMap,Gp=0,pP=void 0;function gP(e){return e?(Va.has(e)||(Gp+=1,Va.set(e,Gp.toString())),Va.get(e)):"0"}function yP(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?gP(e.root):e[t]}`).toString()}function xP(e){const t=yP(e);let r=Zu.get(t);if(!r){const n=new Map;let s;const a=new IntersectionObserver(o=>{o.forEach(l=>{var c;const u=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=n.get(l.target))==null||c.forEach(d=>{d(u,l)})})},e);s=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:a,elements:n},Zu.set(t,r)}return r}function vP(e,t,r={},n=pP){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:a,elements:o}=xP(r),l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),a.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),a.unobserve(e)),o.size===0&&(a.disconnect(),Zu.delete(s))}}function iw({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:s,triggerOnce:a,skip:o,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[h,f]=p.useState(null),y=p.useRef(u),[v,b]=p.useState({inView:!!l,entry:void 0});y.current=u,p.useEffect(()=>{if(o||!h)return;let m;return m=vP(h,(w,k)=>{b({inView:w,entry:k}),y.current&&y.current(w,k),k.isIntersecting&&a&&m&&(m(),m=void 0)},{root:s,rootMargin:n,threshold:e,trackVisibility:r,delay:t},c),()=>{m&&m()}},[Array.isArray(e)?e.toString():e,h,s,n,a,o,r,c,t]);const j=(d=v.entry)==null?void 0:d.target,g=p.useRef(void 0);!h&&j&&!a&&!o&&g.current!==j&&(g.current=j,b({inView:!!l,entry:void 0}));const x=[f,v.inView,v.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const gr=[{name:"Environmental",color:"text-green-400",statistic:"78%"},{name:"Social",color:"text-blue-400",statistic:"92%"},{name:"Community",color:"text-yellow-400",statistic:"45%"},{name:"Global",color:"text-purple-400",statistic:"85%"}],wP=()=>{const{ref:e,inView:t}=iw({threshold:.1,triggerOnce:!1}),[r,n]=p.useState(!1),[s,a]=p.useState(0);return p.useEffect(()=>{const o=setInterval(()=>{a(l=>(l+1)%gr.length)},5e3);return()=>clearInterval(o)},[]),i.jsxs("div",{className:"pt-12 pb-24",ref:e,children:[i.jsxs(T.div,{className:"mb-8 inline-flex items-center px-3 py-1.5 bg-blue-900/40 border border-blue-500/30 rounded-full text-blue-300 text-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:[i.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Impact News Intelligence"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center mb-12",children:[i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:t?1:0,y:t?0:20},transition:{duration:.6},className:"space-y-6",children:[i.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold leading-tight",children:[i.jsx("span",{className:"text-white mb-2 block",children:"Discover"}),i.jsx(fP,{text:"Impact News",from:"from-blue-400",to:"to-blue-600",className:"text-4xl sm:text-5xl font-bold"}),i.jsx("span",{className:"text-white mt-2 block",children:"That Matters"})]}),i.jsx("p",{className:"text-gray-300 text-xl",children:"Sentro delivers personalized insights through the lens of your interests and values, using AI to help you navigate information that drives positive change."}),i.jsxs("div",{className:"pt-4 space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-3 w-3 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-white font-medium",children:"Your Impact Score"}),i.jsx("button",{className:"text-gray-400 hover:text-gray-300",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:i.jsx(M2,{className:"h-4 w-4"})}),r&&i.jsx(T.div,{className:"absolute z-10 mt-8 bg-gray-800/90 backdrop-blur-sm p-3 rounded-lg border border-gray-700 text-sm text-gray-300 max-w-xs",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:"Your Impact Score measures how news affects causes important to you, quantified through AI analysis of content relevance and potential influence."})]}),i.jsx("span",{className:`${gr[s].color} font-bold`,children:gr[s].statistic})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800/50 rounded-full overflow-hidden relative",children:i.jsx(T.div,{className:`h-full absolute left-0 top-0 ${s===0?"bg-green-600":s===1?"bg-blue-600":s===2?"bg-yellow-500":"bg-purple-600"} rounded-full`,initial:{width:0},animate:{width:gr[s].statistic},transition:{duration:1}})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mn,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-400",children:[i.jsx("span",{className:gr[s].color,children:gr[s].name})," impact"]})]}),i.jsx("div",{className:"flex space-x-2",children:gr.map((o,l)=>i.jsx("button",{onClick:()=>a(l),className:`w-2 h-2 rounded-full ${s===l?"bg-blue-400":"bg-gray-600 hover:bg-gray-500"}`,"aria-label":`View ${gr[l].name} impact`},l))})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[i.jsxs(Pe,{to:"/login?signup=true",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors group relative overflow-hidden",children:[i.jsx(T.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-300/30 to-transparent -z-10",initial:{x:"-100%"},animate:{x:"200%"},transition:{repeat:1/0,duration:2,ease:"linear",repeatDelay:.5}}),"Start Free Trial",i.jsx(yt,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsxs("a",{href:"#features",className:"inline-flex items-center justify-center px-6 py-3 bg-gray-800/60 border border-gray-700 text-gray-300 hover:text-white hover:bg-gray-700/60 rounded-lg transition-colors",children:["How It Works",i.jsx(yt,{className:"ml-2 h-5 w-5"})]})]})]}),i.jsxs(T.div,{className:"flex flex-wrap items-center gap-4 pt-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[i.jsx(ke,{className:"h-4 w-4 mr-1 text-green-400"}),"Real-time updates"]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[i.jsx(ke,{className:"h-4 w-4 mr-1 text-green-400"}),"Personalized scoring"]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[i.jsx(ke,{className:"h-4 w-4 mr-1 text-green-400"}),"AI-powered insights"]})]})]}),i.jsx(T.div,{initial:{opacity:0,x:20},animate:{opacity:t?1:0,x:t?0:20},transition:{duration:.6,delay:.3},children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-blue-500/10 blur-xl rounded-2xl"}),i.jsxs("div",{className:"relative bg-gray-900/80 border border-gray-800/70 rounded-xl overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"p-3 border-b border-gray-800/50 flex items-center gap-1.5",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("div",{className:"ml-3 text-xs text-gray-400",children:"Sentro Dashboard"})]}),i.jsx("div",{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-white font-medium",children:"Your Impact Feed"}),i.jsxs("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 text-xs rounded-full flex items-center",children:[i.jsx(Nn,{className:"h-3 w-3 mr-1"})," High impact day"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(T.div,{className:"bg-gray-800/50 hover:bg-gray-800/80 transition-colors p-3 rounded-lg border border-blue-900/30 flex justify-between items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white text-sm font-medium mb-1",children:"Global Initiative Launches $100M Climate Fund"}),i.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[i.jsx("span",{children:"2 hours ago"}),i.jsx("span",{className:"mx-1.5",children:""}),i.jsx("span",{className:"text-green-400",children:"Environment"})]})]}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-blue-600 text-sm font-bold text-white",children:"85"})]}),i.jsxs(T.div,{className:"bg-gray-800/50 hover:bg-gray-800/80 transition-colors p-3 rounded-lg border border-blue-900/30 flex justify-between items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white text-sm font-medium mb-1",children:"New Social Enterprise Platform Connects Communities"}),i.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[i.jsx("span",{children:"4 hours ago"}),i.jsx("span",{className:"mx-1.5",children:""}),i.jsx("span",{className:"text-blue-400",children:"Social"})]})]}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-600 text-sm font-bold text-white",children:"72"})]}),i.jsxs(T.div,{className:"bg-gray-800/50 hover:bg-gray-800/80 transition-colors p-3 rounded-lg border border-blue-900/30 flex justify-between items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white text-sm font-medium mb-1",children:"Tech Companies Form Coalition to Address Climate Change"}),i.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[i.jsx("span",{children:"6 hours ago"}),i.jsx("span",{className:"mx-1.5",children:""}),i.jsx("span",{className:"text-purple-400",children:"Technology"})]})]}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-blue-800/60 text-sm font-bold text-white",children:"64"})]}),i.jsxs(T.div,{className:"bg-gray-800/50 hover:bg-gray-800/80 transition-colors p-3 rounded-lg border border-blue-900/30 flex justify-between items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7,duration:.3},children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white text-sm font-medium mb-1",children:"Impact Investment Fund Exceeds Return Targets"}),i.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[i.jsx("span",{children:"8 hours ago"}),i.jsx("span",{className:"mx-1.5",children:""}),i.jsx("span",{className:"text-yellow-400",children:"Finance"})]})]}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-700 text-sm font-bold text-white",children:"45"})]})]}),i.jsx(T.button,{className:"w-full mt-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8,duration:.3},whileHover:{scale:1.03},whileTap:{scale:.97},children:"View Your Full Impact Report"})]})})]})]})})]}),i.jsx(mP,{}),i.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:t?1:0,y:t?0:20},transition:{delay:.7,duration:.5},className:"flex items-center justify-center mt-12 text-gray-400",children:i.jsxs("div",{className:"flex items-center px-4 py-2 bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-800/50",children:[i.jsxs("div",{className:"flex -space-x-4 mr-4",children:[i.jsx(T.img,{whileHover:{y:-5},src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"User",className:"w-8 h-8 rounded-full border-2 border-gray-800"}),i.jsx(T.img,{whileHover:{y:-5},src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"User",className:"w-8 h-8 rounded-full border-2 border-gray-800"}),i.jsx(T.img,{whileHover:{y:-5},src:"https://randomuser.me/api/portraits/men/86.jpg",alt:"User",className:"w-8 h-8 rounded-full border-2 border-gray-800"}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-blue-900/50 text-blue-300 text-xs border-2 border-gray-800",children:"+2k"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-blue-400 font-bold",children:"2,000+ impact leaders"})," trust our insights"]})]})})]})},bP=({icon:e,title:t,description:r,index:n})=>{const[s,a]=p.useState(!1),o=p.useRef(null),l=Ns(0),c=Ns(0),u={damping:25,stiffness:300},d=Tr(Ar(c,[0,1],[8,-8]),u),h=Tr(Ar(l,[0,1],[-8,8]),u),f=Tr(s?1.03:1,u),y=Tr(s?-8:0,u),v=Ar(l,[-1,1],[-5,5]),b=Ar(c,[-1,1],[-5,5]),j=m=>{if(!o.current)return;const w=o.current.getBoundingClientRect(),k=w.left+w.width/2,C=w.top+w.height/2;l.set((m.clientX-k)/(w.width/2)),c.set((m.clientY-C)/(w.height/2))},g=()=>a(!0),x=()=>{a(!1),l.set(0),c.set(0)};return i.jsxs(T.div,{ref:o,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:n*.1},style:{rotateX:s?d:0,rotateY:s?h:0,scale:f,y,transformPerspective:1200,transformStyle:"preserve-3d"},onMouseMove:j,onMouseEnter:g,onMouseLeave:x,className:"bg-gray-900/50 border border-gray-800/70 hover:border-blue-500/30 rounded-lg p-6 transition-all duration-300 cursor-pointer",children:[i.jsx(T.div,{className:"p-3 bg-gray-800/50 rounded-lg inline-block mb-4",style:{x:s?v:0,y:s?b:0},children:e}),i.jsxs("h3",{className:"text-lg font-bold text-white mb-3 group",children:[t,s&&i.jsx(T.span,{className:"inline-block ml-2 text-blue-400",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{duration:.2},children:""})]}),i.jsx("p",{className:"text-gray-300 text-sm",children:r}),s&&i.jsx(T.div,{className:"absolute inset-0 -z-10 rounded-lg opacity-30 blur-xl",initial:{opacity:0},animate:{opacity:.15},exit:{opacity:0},transition:{duration:.3},style:{background:"linear-gradient(to bottom right, #3b82f6, #2563eb)"}})]})},jP=()=>{const e=[{icon:i.jsx(wl,{className:"h-6 w-6 text-blue-400"}),title:"Impact Scoring",description:"Every news story is scored based on how it directly affects communities, the environment, and sustainable development goals."},{icon:i.jsx(jn,{className:"h-6 w-6 text-indigo-400"}),title:"AI-Powered Analysis",description:"Advanced AI algorithms analyze news content to extract meaningful insights on social and environmental impact."},{icon:i.jsx(sh,{className:"h-6 w-6 text-yellow-400"}),title:"Solution Spotlights",description:"Discover innovative approaches and successful initiatives driving positive change across sectors and regions."},{icon:i.jsx(k2,{className:"h-6 w-6 text-red-400"}),title:"Real-time Alerts",description:"Receive instant notifications for high-impact news that aligns with your interests and goals for creating change."},{icon:i.jsx(fx,{className:"h-6 w-6 text-purple-400"}),title:"Curated Impact Feed",description:"Your daily news feed is intelligently curated to show stories that can inspire and inform meaningful action."},{icon:i.jsx(ih,{className:"h-6 w-6 text-green-400"}),title:"Action Recommendations",description:"Get personalized suggestions for how to respond to news through donations, volunteering, or amplifying stories."}];return i.jsxs("section",{id:"features",className:"py-20",children:[i.jsxs(T.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"mb-12 text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Our Features"}),i.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Explore how Sentro helps you stay informed about the news that drives real change"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((t,r)=>i.jsx(bP,{index:r,icon:t.icon,title:t.title,description:t.description},r))}),i.jsx("div",{className:"relative mt-16",children:i.jsx(T.div,{className:"absolute left-1/2 -translate-x-1/2 w-48 h-48 rounded-full bg-blue-500/5 blur-xl -z-10",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,ease:"easeInOut",repeat:1/0}})})]})},NP=({showCareer:e=!0,showInvestments:t=!0,showPersonal:r=!0,showIndustry:n=!0,className:s=""})=>i.jsxs(T.div,{className:`bg-gray-900/70 border border-blue-500/30 rounded-xl p-6 shadow-xl ${s}`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Your Personal Impact Score"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Sentro's proprietary Impact Score quantifies how news affects sustainable development goals and communities that matter to you."}),i.jsxs("div",{className:"space-y-6",children:[e&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-gray-300",children:"Environmental Impact"}),i.jsx("span",{className:"text-white font-medium",children:"78%"})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx(T.div,{className:"h-full bg-blue-600",initial:{width:0},whileInView:{width:"78%"},viewport:{once:!0},transition:{duration:1,delay:.2}})})]}),t&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-gray-300",children:"Social Change Impact"}),i.jsx("span",{className:"text-white font-medium",children:"92%"})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx(T.div,{className:"h-full bg-green-600",initial:{width:0},whileInView:{width:"92%"},viewport:{once:!0},transition:{duration:1,delay:.4}})})]}),r&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-gray-300",children:"Community Impact"}),i.jsx("span",{className:"text-white font-medium",children:"45%"})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx(T.div,{className:"h-full bg-yellow-500",initial:{width:0},whileInView:{width:"45%"},viewport:{once:!0},transition:{duration:1,delay:.6}})})]}),n&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-gray-300",children:"Global Impact"}),i.jsx("span",{className:"text-white font-medium",children:"85%"})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx(T.div,{className:"h-full bg-purple-600",initial:{width:0},whileInView:{width:"85%"},viewport:{once:!0},transition:{duration:1,delay:.8}})})]})]}),i.jsx(T.button,{className:"mt-8 px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors w-full",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Get Your Personal Impact Score"})]}),St=[{icon:i.jsx(Hi,{className:"h-8 w-8 text-blue-400"}),title:"Create Your Profile",description:"Set up your profile with your values, interests, and impact goals to tailor your experience."},{icon:i.jsx(zi,{className:"h-8 w-8 text-green-400"}),title:"AI News Gathering",description:"Our AI continuously monitors thousands of news sources to collect relevant impact stories in real-time."},{icon:i.jsx(jn,{className:"h-8 w-8 text-yellow-400"}),title:"Personalized Analysis",description:"Advanced algorithms analyze how each story impacts communities, sustainability goals, and causes you care about."},{icon:i.jsx(wl,{className:"h-8 w-8 text-purple-400"}),title:"Impact Scoring",description:"Each news item receives an impact score from 1-100 based on its relevance to your values and potential for change."},{icon:i.jsx(sa,{className:"h-8 w-8 text-cyan-400"}),title:"Actionable Insights",description:"Get recommendations to help you engage with news through actions that align with your impact goals."},{icon:i.jsx(sh,{className:"h-8 w-8 text-indigo-400"}),title:"Impact Tracking",description:"Monitor your engagement and the collective impact of your community over time."}],Yp=({feature:e,isActive:t,index:r})=>i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:t?1:.7,y:0,scale:t?1:.95,z:t?50:0},transition:{duration:.5},className:`feature-card bg-gray-800/50 backdrop-blur-sm border ${t?"border-blue-500/50 shadow-lg shadow-blue-500/10":"border-gray-700/50"} rounded-xl p-6 transition-all duration-300 h-full flex flex-col cursor-pointer`,children:[i.jsx("div",{className:`p-3 ${t?"bg-blue-900/30":"bg-gray-900/40"} rounded-lg inline-block mb-4 w-fit`,children:e.icon}),i.jsx("h3",{className:`text-xl font-bold ${t?"text-white":"text-gray-300"} mb-3`,children:e.title}),i.jsx("p",{className:"text-gray-300",children:e.description}),i.jsxs("div",{className:"mt-auto pt-4 flex justify-between items-center",children:[i.jsxs("div",{className:"text-xs bg-blue-900/30 text-blue-300 px-3 py-1.5 rounded-full inline-block",children:["Step ",r+1]}),t&&i.jsx(T.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"h-2.5 w-2.5 rounded-full bg-blue-400"})]})]}),kP=()=>{const[e,t]=p.useState(0),[r,n]=p.useState(null),s=p.useRef(null);p.useEffect(()=>{const h=setInterval(()=>{n("right"),t(f=>(f+1)%St.length)},5e3);return()=>clearInterval(h)},[]);const a=()=>{n("left"),t(h=>(h-1+St.length)%St.length)},o=()=>{n("right"),t(h=>(h+1)%St.length)},c=(()=>{if(typeof window>"u")return[e];const h=window.innerWidth;return h>=1024?[(e-1+St.length)%St.length,e,(e+1)%St.length]:h>=768?[e,(e+1)%St.length]:[e]})(),u=h=>{n(h>e?"right":"left"),t(h)},d={enter:h=>({x:h==="left"?-300:h==="right"?300:0,opacity:0,scale:.9}),center:{x:0,opacity:1,scale:1},exit:h=>({x:h==="left"?300:h==="right"?-300:0,opacity:0,scale:.9})};return i.jsx("div",{ref:s,className:"carousel-container my-12 relative",children:i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-5 relative",children:[i.jsx("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(h=>i.jsx(Yp,{feature:St[h],isActive:h===e,index:h+1},h))}),i.jsx("div",{className:"md:hidden relative overflow-hidden",children:i.jsx($t,{custom:r,initial:!1,children:i.jsx(T.div,{custom:r,variants:d,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"w-full",children:i.jsx(Yp,{feature:St[e],isActive:!0,index:e+1})},e)})}),i.jsxs("div",{className:"flex justify-between absolute top-1/2 left-0 right-0 transform -translate-y-1/2 px-4 pointer-events-none",children:[i.jsx("button",{onClick:a,className:"w-10 h-10 rounded-full bg-gray-800/80 hover:bg-gray-700/80 text-white flex items-center justify-center shadow-lg pointer-events-auto transition-colors",children:i.jsx(vl,{size:18})}),i.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full bg-gray-800/80 hover:bg-gray-700/80 text-white flex items-center justify-center shadow-lg pointer-events-auto transition-colors",children:i.jsx(yt,{size:18})})]}),i.jsx("div",{className:"flex justify-center mt-6 gap-3",children:St.map((h,f)=>i.jsx("button",{onClick:()=>u(f),className:`w-3 h-3 rounded-full transition-colors ${f===e?"bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,"aria-label":`Go to step ${f+1}`},f))})]})})},SP=()=>{const[e,t]=p.useState(0),r=p.useRef(null),n=qv(r,{once:!1,amount:.3}),s=[{icon:i.jsx(Hi,{className:"h-8 w-8 text-blue-400"}),title:"1. Create Your Impact Profile",description:"Share your values, interests, and impact goals to tailor your experience. Sentro learns what matters to youfrom environmental justice to social change initiatives.",details:["Personalized onboarding process","SDG focus selection","Community and region settings","Impact preference calibration"],image:"https://images.unsplash.com/photo-1551836022-d5d88e9218df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},{icon:i.jsx(zi,{className:"h-8 w-8 text-green-400"}),title:"2. AI-Powered News Discovery",description:"Our advanced AI continuously monitors thousands of verified news sources, identifying stories with meaningful impact potential across communities and causes worldwide.",details:["24/7 source monitoring across 125+ countries","Real-time semantic analysis","Multi-language content processing","Source credibility verification"],image:"https://images.unsplash.com/photo-1599658880436-c61792e70672?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},{icon:i.jsx(jn,{className:"h-8 w-8 text-yellow-400"}),title:"3. Contextual Impact Analysis",description:"Each story is analyzed through the lens of your values. Our proprietary algorithms evaluate how news items relate to social progress, environmental health, and community development.",details:["Multi-dimensional impact evaluation","Contextual relevance mapping","Value alignment assessment","Sentiment and tone analysis"],image:"https://images.unsplash.com/photo-1523961131990-5ea7c61b2107?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},{icon:i.jsx(wl,{className:"h-8 w-8 text-purple-400"}),title:"4. Personal Impact Scoring",description:"Sentro quantifies the potential impact of each news item specifically for you, scoring articles from 1-100 based on relevance to your goals and potential for meaningful change.",details:["Personalized relevance algorithms","Impact probability assessment","Actionability scoring","Temporal relevance tracking"],image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},{icon:i.jsx(sa,{className:"h-8 w-8 text-cyan-400"}),title:"5. Actionable Intelligence",description:"Transform news into action with tailored recommendations that help you engage, contribute, and amplify stories aligned with your impact goals.",details:["Direct action opportunities","Contribution pathways","Social amplification strategies","Collaboration suggestions"],image:"https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},{icon:i.jsx(na,{className:"h-8 w-8 text-indigo-400"}),title:"6. Measurable Progress Tracking",description:"Track your engagement, measure your influence, and visualize your contribution to causes you care about through comprehensive impact dashboards.",details:["Personal impact analytics","Contribution visualization","Progress tracking over time","Community impact benchmarking"],image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"}],a=o=>{t(o)};return i.jsxs("section",{id:"how-it-works",className:"py-24",ref:r,children:[i.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx(T.h2,{className:"text-4xl font-bold text-white mb-4",initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},children:"How Sentro Transforms Your News Experience"}),i.jsx(T.p,{className:"text-gray-300 text-xl max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.1},children:"Our innovative platform uses AI and advanced technologies to deliver news that inspires action and drives meaningful change for the causes you care about."})]}),i.jsxs("div",{className:"hidden lg:block relative",children:[i.jsx("div",{className:"absolute top-[8rem] left-0 right-0 h-1 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-green-600/20 rounded-full",children:i.jsx(T.div,{className:"absolute top-0 bottom-0 left-0 right-0 bg-gradient-to-r from-blue-500 via-purple-500 to-green-500",animate:{opacity:[.3,.7,.3],backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"}})}),i.jsx("div",{className:"grid grid-cols-6 gap-4",children:s.map((o,l)=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("button",{onClick:()=>a(l),className:`relative p-4 ${e===l?"bg-blue-600":"bg-gray-800/50"} rounded-full transition-colors duration-300 mb-4 z-10`,children:[e===l&&i.jsx(T.div,{className:"absolute inset-0 rounded-full bg-blue-500/50",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}}),i.jsx("div",{className:"relative z-10",children:o.icon})]}),i.jsx("h4",{className:`text-sm font-medium text-center ${e===l?"text-blue-400":"text-gray-400"} transition-colors duration-300`,children:o.title.split(". ")[1]})]},`step-tab-${l}`))}),i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"mt-12 grid grid-cols-5 gap-8 items-center",children:[i.jsxs("div",{className:"col-span-3 space-y-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 bg-blue-900/40 rounded-lg mr-4",children:s[e].icon}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:s[e].title})]}),i.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:s[e].description}),i.jsx("ul",{className:"grid grid-cols-2 gap-3",children:s[e].details.map((o,l)=>i.jsxs("li",{className:"flex items-center text-gray-300",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 mr-2"}),o]},l))}),i.jsx(T.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs("a",{href:"#get-started",className:"inline-flex items-center mt-4 text-blue-400 hover:text-blue-300 group",children:["Learn how to get started",i.jsx(yt,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),i.jsxs("div",{className:"col-span-2 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600/20 to-purple-600/20 rounded-xl blur-xl"}),i.jsx(T.div,{className:"relative rounded-xl overflow-hidden border border-blue-500/30 shadow-lg aspect-[4/3]",whileHover:{scale:1.03},transition:{duration:.3},children:i.jsx("img",{src:s[e].image,alt:s[e].title,className:"w-full h-full object-cover"})})]})]},`step-detail-${e}`)]}),i.jsx("div",{className:"block lg:hidden py-8",children:i.jsx(kP,{})})]}),i.jsx("div",{className:"mt-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"bg-gradient-to-br from-blue-900/30 to-blue-700/20 rounded-2xl p-6 border border-blue-500/30",children:[i.jsx("div",{className:"p-3 bg-blue-900/40 rounded-lg inline-block mb-4",children:i.jsx(sh,{className:"h-6 w-6 text-blue-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"15,000+"}),i.jsx("p",{className:"text-gray-300",children:"News sources monitored in real-time across 125+ countries"})]}),i.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"bg-gradient-to-br from-purple-900/30 to-purple-900/40 rounded-2xl p-6 border border-blue-500/30",children:[i.jsx("div",{className:"p-3 bg-blue-900/40 rounded-lg inline-block mb-4",children:i.jsx(jn,{className:"h-6 w-6 text-purple-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"92%"}),i.jsx("p",{className:"text-gray-300",children:"Accuracy in identifying impact-focused news that aligns with user values"})]}),i.jsxs(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"bg-gradient-to-br from-green-900/30 to-green-900/40 rounded-2xl p-6 border border-blue-500/30",children:[i.jsx("div",{className:"p-3 bg-blue-900/40 rounded-lg inline-block mb-4",children:i.jsx(ih,{className:"h-6 w-6 text-green-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3.5M+"}),i.jsx("p",{className:"text-gray-300",children:"Impact actions taken by our users resulting in meaningful change"})]})]})}),i.jsxs("div",{className:"text-center mt-20 max-w-2xl mx-auto px-4",children:[i.jsxs(T.a,{href:"#get-started",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-lg transition-colors group relative overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},whileHover:{scale:1.05,boxShadow:"0 0 25px 5px rgba(37, 99, 235, 0.5)"},whileTap:{scale:.98},children:[i.jsx(T.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-300/30 to-transparent -z-10",initial:{x:"-100%"},animate:{x:"200%"},transition:{repeat:1/0,duration:2.5,ease:"linear",repeatDelay:1}}),"Experience Sentro Today",i.jsx(Ht,{className:"ml-2 h-5 w-5"})]}),i.jsx(T.p,{className:"text-gray-400 mt-4 text-sm",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.5},children:"Join 10,000+ impact leaders transforming how they engage with world-changing news"})]})]})},Xp=({quote:e,author:t,title:r,avatar:n,index:s,isHighlighted:a=!1,onClick:o})=>{const[l,c]=p.useState(!1),u=p.useRef(null),d=Ns(0),h=Ns(0),f={damping:20,stiffness:300},y=Tr(Ar(h,[0,1],[5,-5]),f),v=Tr(Ar(d,[0,1],[-5,5]),f),b=Tr(l?1.03:1,f),j=Tr(l?-8:0,f),g=Ar(d,[-1,1],[-3,3]),x=Ar(h,[-1,1],[-2,2]),m=C=>{if(!u.current)return;const N=u.current.getBoundingClientRect(),S=N.left+N.width/2,_=N.top+N.height/2;d.set((C.clientX-S)/(N.width/2)),h.set((C.clientY-_)/(N.height/2))},w=()=>c(!0),k=()=>{c(!1),d.set(0),h.set(0)};return i.jsxs(T.div,{ref:u,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*s},style:{rotateX:l?y:0,rotateY:l?v:0,scale:b,y:j,transformPerspective:1200,transformStyle:"preserve-3d",boxShadow:l?"0 20px 40px rgba(0,0,0,0.2)":"0 0 0 rgba(0,0,0,0)"},onMouseMove:m,onMouseEnter:w,onMouseLeave:k,onClick:o,className:`
        rounded-xl overflow-hidden backdrop-blur-sm shadow-lg relative cursor-pointer
        ${a?"bg-blue-900/30 border border-blue-500/50":"bg-gray-800/50 border border-gray-700/50"}
      `,children:[i.jsx("div",{className:"absolute top-6 right-6 text-5xl leading-none text-blue-500/20 font-serif",children:""}),i.jsxs("div",{className:"p-6 relative",children:[i.jsx("div",{className:"flex mb-4",children:Array(5).fill(0).map((C,N)=>i.jsx(jl,{className:"h-4 w-4 mr-1 text-yellow-400 fill-yellow-400"},N))}),i.jsxs("p",{className:"text-gray-300 mb-6 relative z-10",children:["",e,""]}),i.jsxs(T.div,{className:"flex items-center",style:{x:l?g:0,y:l?x:0},children:[i.jsx(T.img,{src:n,alt:t,className:"h-12 w-12 rounded-full mr-4 object-cover border-2 border-blue-500/30",whileHover:{scale:1.1,borderColor:"rgba(59, 130, 246, 0.6)"}}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-white",children:t}),i.jsx("p",{className:"text-sm text-gray-400",children:r})]})]})]}),i.jsx(T.div,{className:"absolute inset-0 -z-10 opacity-0",animate:{opacity:l?a?.3:.15:0},transition:{duration:.3},style:{background:a?"linear-gradient(120deg, #3b82f6 0%, #4f46e5 100%)":"linear-gradient(120deg, #4b5563 0%, #1f2937 100%)"}})]})},_P=()=>{const e=p.useRef(null),t=qv(e,{once:!1,amount:.3}),[r,n]=p.useState(0),[s,a]=p.useState(null),o=[{quote:"Sentro has revolutionized how our organization tracks emerging social impact initiatives. The impact scores provide crucial context that helps us prioritize our resources for maximum community benefit.",author:"Sarah Johnson",title:"Sustainability Director, Green Futures Foundation",avatar:"https://randomuser.me/api/portraits/women/32.jpg",logo:"https://images.unsplash.com/photo-1594608661623-aa0bd3a245a8?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80",rating:5,tag:"Nonprofit Leader",location:"Seattle, USA",featured:!0},{quote:"As an impact investor, staying ahead of sustainability trends is critical for my portfolio. Sentro's AI does the heavy lifting, helping me discover mission-driven opportunities before they become mainstream.",author:"Michael Chen",title:"Founder, Impact Ventures",avatar:"https://randomuser.me/api/portraits/men/45.jpg",rating:5,tag:"Impact Investor",location:"Singapore"},{quote:"The personalized impact scoring system genuinely aligns with my values as a community organizer. It surfaces local stories that would otherwise get lost in the noise of mainstream media.",author:"Priya Patel",title:"Community Engagement Lead",avatar:"https://randomuser.me/api/portraits/women/63.jpg",rating:4,tag:"Changemaker",location:"London, UK"},{quote:"Our team relies on Sentro to track global climate action initiatives. The platform's ability to surface meaningful stories and quantify their potential impact has transformed our research approach.",author:"James Rodriguez",title:"Research Director, Climate Solutions Network",avatar:"https://randomuser.me/api/portraits/men/22.jpg",rating:5,tag:"Environmental Advocate",location:"Barcelona, Spain"},{quote:"Sentro has become essential to our social enterprise incubator. The actionable insights help our startups stay informed about market trends while remaining focused on their mission and impact.",author:"Elena Kowalski",title:"CEO, Social Innovation Hub",avatar:"https://randomuser.me/api/portraits/women/82.jpg",rating:5,tag:"Social Entrepreneur",location:"Toronto, Canada"}],l=d=>{a(d)},c=()=>{n(d=>(d+1)%o.length)},u=()=>{n(d=>(d-1+o.length)%o.length)};return i.jsxs("section",{className:"py-24 relative",id:"testimonials",ref:e,children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-60 bg-gradient-to-b from-blue-900/10 to-transparent -z-10"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-60 bg-gradient-to-t from-blue-900/10 to-transparent -z-10"}),i.jsxs(T.div,{initial:{opacity:0},animate:t?{opacity:1}:{opacity:0},transition:{duration:.5},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs(T.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},children:[i.jsx("h2",{className:"text-4xl font-bold mb-6 text-white",children:"Trusted by Impact Leaders Worldwide"}),i.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Changemakers, social entrepreneurs, and purpose-driven leaders rely on Sentro to navigate the information landscape and drive meaningful impact."})]}),i.jsxs(T.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.2},className:"mt-8 flex justify-center space-x-8 text-gray-400",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Lu,{className:"h-5 w-5 mr-2 text-blue-400"}),i.jsx("span",{children:"10,000+ users"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(mn,{className:"h-5 w-5 mr-2 text-green-400"}),i.jsx("span",{children:"125+ countries"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(na,{className:"h-5 w-5 mr-2 text-yellow-400"}),i.jsx("span",{children:"96% satisfaction"})]})]})]}),i.jsx("div",{className:"hidden md:grid grid-cols-3 gap-8",children:o.slice(0,3).map((d,h)=>i.jsx(Xp,{quote:d.quote,author:d.author,title:d.title,avatar:d.avatar,index:h,isHighlighted:d.featured,onClick:()=>l(d)},h))}),i.jsxs("div",{className:"md:hidden relative",children:[i.jsx("div",{className:"overflow-hidden relative",children:i.jsx(T.div,{className:"flex transition-transform",animate:{x:`-${r*100}%`},transition:{type:"spring",damping:30,stiffness:300},children:o.map((d,h)=>i.jsx("div",{className:"w-full flex-shrink-0 px-4",children:i.jsx(Xp,{quote:d.quote,author:d.author,title:d.title,avatar:d.avatar,index:h,isHighlighted:d.featured,onClick:()=>l(d)})},h))})}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx("button",{onClick:u,className:"p-2 bg-gray-800 rounded-full hover:bg-gray-700 text-white",children:i.jsx(yt,{className:"h-5 w-5 transform rotate-180"})}),i.jsx("div",{className:"flex space-x-2",children:o.map((d,h)=>i.jsx("button",{onClick:()=>n(h),className:`w-2.5 h-2.5 rounded-full ${r===h?"bg-blue-500":"bg-gray-600"}`,"aria-label":`Go to testimonial ${h+1}`},h))}),i.jsx("button",{onClick:c,className:"p-2 bg-gray-800 rounded-full hover:bg-gray-700 text-white",children:i.jsx(yt,{className:"h-5 w-5"})})]})]}),i.jsxs(T.div,{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8",initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.3},children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-blue-700/20 rounded-xl p-6 border border-blue-500/30 text-center",children:[i.jsx(T.div,{initial:{scale:0},animate:t?{scale:1}:{scale:0},transition:{type:"spring",stiffness:300,damping:20,delay:.4},className:"w-16 h-16 rounded-full bg-blue-900/50 flex items-center justify-center mx-auto mb-4",children:i.jsx(mn,{className:"h-8 w-8 text-blue-400"})}),i.jsx("h3",{className:"text-4xl font-bold text-white mb-2",children:i.jsx(T.span,{initial:{opacity:0},animate:t?{opacity:1}:{opacity:0},transition:{duration:.5,delay:.6},children:"78%"})}),i.jsx("p",{className:"text-gray-300",children:"of users report making more informed decisions based on Sentro insights"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-purple-900/40 rounded-xl p-6 border border-blue-500/30 text-center",children:[i.jsx(T.div,{initial:{scale:0},animate:t?{scale:1}:{scale:0},transition:{type:"spring",stiffness:300,damping:20,delay:.5},className:"w-16 h-16 rounded-full bg-purple-900/50 flex items-center justify-center mx-auto mb-4",children:i.jsx(_2,{className:"h-8 w-8 text-purple-400"})}),i.jsx("h3",{className:"text-4xl font-bold text-white mb-2",children:i.jsx(T.span,{initial:{opacity:0},animate:t?{opacity:1}:{opacity:0},transition:{duration:.5,delay:.7},children:"3.2M+"})}),i.jsx("p",{className:"text-gray-300",children:"impact actions taken by our community of changemakers"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-green-900/40 rounded-xl p-6 border border-blue-500/30 text-center",children:[i.jsx(T.div,{initial:{scale:0},animate:t?{scale:1}:{scale:0},transition:{type:"spring",stiffness:300,damping:20,delay:.6},className:"w-16 h-16 rounded-full bg-green-900/50 flex items-center justify-center mx-auto mb-4",children:i.jsx(Lu,{className:"h-8 w-8 text-green-400"})}),i.jsx("h3",{className:"text-4xl font-bold text-white mb-2",children:i.jsx(T.span,{initial:{opacity:0},animate:t?{opacity:1}:{opacity:0},transition:{duration:.5,delay:.8},children:"125+"})}),i.jsx("p",{className:"text-gray-300",children:"countries with active Sentro users driving positive change"})]})]}),i.jsxs(T.div,{className:"mt-24 relative rounded-2xl overflow-hidden bg-gradient-to-br from-blue-900/40 to-purple-900/30 border border-blue-500/30",initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6,delay:.2},children:[i.jsx("div",{className:"absolute top-0 right-0 p-3 bg-green-500 text-white text-sm font-medium z-10",children:"Featured Story"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-8 relative z-10",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx(bm,{className:"h-12 w-12 text-blue-500 opacity-40 mr-2 flex-shrink-0"}),i.jsx("p",{className:"text-xl text-white leading-relaxed italic",children:'"Sentro helped our organization identify a critical climate initiative in Southeast Asia that aligned perfectly with our mission. We were able to form a strategic partnership that has now impacted over 20,000 community members."'})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:"https://randomuser.me/api/portraits/women/28.jpg",alt:"Emma Richardson",className:"w-16 h-16 rounded-full object-cover border-2 border-white mr-4"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium",children:"Emma Richardson"}),i.jsx("p",{className:"text-gray-300",children:"Director of Partnerships, Climate Forward"}),i.jsx("div",{className:"flex mt-2",children:Array(5).fill(null).map((d,h)=>i.jsx(jl,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"},h))})]})]}),i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-400 hover:text-blue-300 transition-colors font-medium",children:["Read their full story",i.jsx(yt,{className:"ml-2 h-4 w-4"})]})]}),i.jsx("div",{className:"hidden md:block",children:i.jsxs("div",{className:"relative h-full",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1491975474562-1f4e30bc9468?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",alt:"Climate Forward Team",className:"w-full h-full object-cover rounded-lg shadow-lg border border-white/20"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-blue-900/90 to-transparent p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1594608661623-aa0bd3a245a8?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80",alt:"Climate Forward Logo",className:"w-10 h-10 rounded-full bg-white p-1 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium",children:"Climate Forward"}),i.jsx("p",{className:"text-gray-300 text-sm",children:"Global Climate Action"})]})]})})]})})]})]}),i.jsx(T.div,{className:"mt-16 text-center",initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.5,delay:.6},children:i.jsxs("div",{className:"inline-block px-8 py-5 rounded-2xl bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-500/30",children:[i.jsx("div",{className:"text-xl font-medium text-blue-300 mb-2",children:"Join over 10,000+ impact leaders making informed decisions daily"}),i.jsx("div",{className:"text-gray-300",children:"From nonprofit directors to sustainability professionals, our users save an average of 2 hours daily while making better informed decisions."}),i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsxs(T.a,{href:"#get-started",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg inline-flex items-center transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:["Start Your Impact Journey",i.jsx(yt,{className:"ml-2 h-5 w-5"})]})})]})})]}),i.jsx($t,{children:s&&i.jsx(T.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(null),children:i.jsxs(T.div,{className:"bg-gray-900 rounded-xl p-6 max-w-2xl relative border border-blue-500/30 w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),children:[i.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-white",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsxs("div",{className:"flex items-start",children:[i.jsx(bm,{className:"h-12 w-12 text-blue-500 opacity-40 mr-2 flex-shrink-0"}),i.jsx("p",{className:"text-xl text-white leading-relaxed",children:s.quote})]}),i.jsxs("div",{className:"flex items-center mt-8",children:[i.jsx("img",{src:s.avatar,alt:s.author,className:"w-16 h-16 rounded-full object-cover border-2 border-blue-500 mr-4"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium",children:s.author}),i.jsx("p",{className:"text-gray-300",children:s.title}),i.jsxs("div",{className:"flex items-center mt-2",children:[s.tag&&i.jsx("span",{className:"bg-blue-900/50 text-blue-300 text-xs px-2 py-1 rounded-full mr-2",children:s.tag}),s.location&&i.jsxs("span",{className:"text-gray-400 text-xs flex items-center",children:[i.jsx(mn,{className:"h-3 w-3 mr-1"}),s.location]})]})]})]})]})})})]})},CP=()=>i.jsxs("section",{id:"get-started",className:"py-20 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/40 to-purple-900/40 opacity-50 rounded-2xl"}),i.jsx("div",{className:"relative z-10",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx(T.h2,{className:"text-3xl font-bold mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:"Start making an impact with better informed decisions"}),i.jsx(T.p,{className:"text-xl text-gray-300 mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:"Join changemakers, social entrepreneurs, and impact professionals who use Sentro to stay ahead of the news that matters for creating positive change."}),i.jsx(T.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:i.jsxs(Pe,{to:"/login?signup=true",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-lg transition-colors",children:["Start Your Free Trial",i.jsx(yt,{className:"ml-2 h-5 w-5"})]})})]})})]}),EP=({className:e="",particleColor:t="#3b82f6",count:r=50,speed:n=1,opacity:s=.3})=>{const a=p.useRef(null);return p.useEffect(()=>{const o=a.current;if(!o)return;const l=o.getContext("2d");if(!l)return;const c=()=>{const f=o.parentElement;f?(o.width=f.clientWidth,o.height=f.clientHeight):(o.width=window.innerWidth,o.height=window.innerHeight)};window.addEventListener("resize",c),c();class u{constructor(){U(this,"x");U(this,"y");U(this,"radius");U(this,"speedX");U(this,"speedY");U(this,"color");this.x=Math.random()*o.width,this.y=Math.random()*o.height,this.radius=Math.random()*2.5+.5,this.speedX=(Math.random()-.5)*n*.3,this.speedY=(Math.random()-.5)*n*.3;const y=Math.floor(s*255).toString(16).padStart(2,"0");this.color=`${t}${y}`}update(){this.x+=this.speedX,this.y+=this.speedY,(this.x<0||this.x>o.width)&&(this.speedX=-this.speedX),(this.y<0||this.y>o.height)&&(this.speedY=-this.speedY)}draw(y){y.beginPath(),y.arc(this.x,this.y,this.radius,0,Math.PI*2),y.fillStyle=this.color,y.fill()}}const d=[];for(let f=0;f<r;f++)d.push(new u);const h=()=>{requestAnimationFrame(h),l.clearRect(0,0,o.width,o.height),d.forEach(f=>{f.update(),f.draw(l)});for(let f=0;f<d.length;f++)for(let y=f+1;y<d.length;y++){const v=d[f].x-d[y].x,b=d[f].y-d[y].y,j=Math.sqrt(v*v+b*b);if(j<100){const g=(1-j/100)*s*.5,x=Math.floor(g*255).toString(16).padStart(2,"0");l.beginPath(),l.moveTo(d[f].x,d[f].y),l.lineTo(d[y].x,d[y].y),l.strokeStyle=`${t}${x}`,l.lineWidth=.5,l.stroke()}}};return h(),()=>{window.removeEventListener("resize",c)}},[t,r,n,s]),i.jsx("canvas",{ref:a,className:`absolute top-0 left-0 w-full h-full -z-10 ${e}`})},Qp=({className:e="",size:t=300,color:r="#3b82f6"})=>{const n=p.useRef(null);return p.useEffect(()=>{const s=n.current;if(!s)return;const a=s.getContext("2d");if(!a)return;s.width=t,s.height=t;const o=t*.35,l=t/2,c=t/2,u=Array(15).fill(0).map(()=>({startAngle:Math.random()*Math.PI*2,endAngle:Math.random()*Math.PI*2,radius:o*(.9+Math.random()*.3),speed:.005+Math.random()*.01,width:1+Math.random()*2,opacity:.1+Math.random()*.4,position:Math.random()*Math.PI*2,clockwise:Math.random()>.5})),d=Array(20).fill(0).map(()=>{const f=Math.random()*Math.PI*2,y=o*.8+Math.random()*o*.2;return{x:l+Math.cos(f)*y,y:c+Math.sin(f)*y,size:1+Math.random()*3,pulse:Math.random()*Math.PI*2,pulseSpeed:.03+Math.random()*.02}}),h=()=>{requestAnimationFrame(h),a.clearRect(0,0,s.width,s.height),a.beginPath(),a.arc(l,c,o,0,Math.PI*2),a.strokeStyle=`${r}20`,a.lineWidth=2,a.stroke();for(let f=0;f<3;f++)a.beginPath(),a.ellipse(l,c,o,o*.4,f*Math.PI/3,0,Math.PI*2),a.strokeStyle=`${r}15`,a.lineWidth=1,a.stroke(),a.beginPath(),a.ellipse(l,c+(o*.5-f*o*.5),o*Math.sqrt(1-Math.pow((o*.5-f*o*.5)/o,2)),o*Math.sqrt(1-Math.pow((o*.5-f*o*.5)/o,2))*.4,0,0,Math.PI*2),a.stroke();u.forEach(f=>{f.position+=f.speed,f.position>Math.PI*2&&(f.position=0,f.startAngle=Math.random()*Math.PI*2,f.endAngle=f.startAngle+Math.PI*(.5+Math.random()*.5),f.opacity=.1+Math.random()*.4);const v=Math.abs(f.endAngle-f.startAngle)*Math.min(1,f.position/(Math.PI/2));a.beginPath(),a.arc(l,c,f.radius,f.startAngle,f.startAngle+v*(f.clockwise?1:-1)),a.strokeStyle=`${r}${Math.floor(f.opacity*255).toString(16).padStart(2,"0")}`,a.lineWidth=f.width,a.stroke()}),d.forEach(f=>{f.pulse+=f.pulseSpeed,f.pulse>Math.PI*2&&(f.pulse=0);const y=f.size*(.7+Math.sin(f.pulse)*.3);a.beginPath(),a.arc(f.x,f.y,y,0,Math.PI*2),a.fillStyle=r,a.fill()})};return h(),()=>{}},[t,r]),i.jsx(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:e,children:i.jsx("canvas",{ref:n,width:t,height:t,className:"w-full h-full"})})},PP=()=>i.jsxs(hP,{children:[i.jsx(sw,{}),i.jsx(EP,{count:30,opacity:.2,speed:.8}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -top-20 -right-20 opacity-20 pointer-events-none",children:i.jsx(Qp,{size:500})}),i.jsx(wP,{})]}),i.jsx("div",{className:"mb-24",children:i.jsx(jP,{})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-32",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Your Personal Impact Score"}),i.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Sentro's proprietary Impact Score quantifies how each news story affects causes and communities you care about. Say goodbye to information overload and focus on news that drives positive change."})]}),i.jsx(NP,{})]}),i.jsxs("div",{className:"mb-24 relative",children:[i.jsx("div",{className:"absolute -bottom-40 -left-40 opacity-20 pointer-events-none",children:i.jsx(Qp,{size:400,color:"#a855f7"})}),i.jsx(SP,{})]}),i.jsx("div",{className:"mb-24",children:i.jsx(_P,{})}),i.jsx("div",{className:"mb-24",children:i.jsx(CP,{})})]});function Ml(){const{user:e}=be(),[t,r]=p.useState([]),[n,s]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(new Set),u=p.useCallback(async y=>{if(!e){r([]);return}s(!0),o(null);try{const v=await Zt.getUserHistory(e.id,y);r(v);const b=new Set;v.forEach(j=>{j.article_id&&b.add(j.article_id)}),c(b)}catch(v){console.error("Error fetching view history:",v),o("Failed to load view history")}finally{s(!1)}},[e]),d=p.useCallback(async y=>{if(!e)return null;if(l.has(y))return console.log("Article already in recently viewed, skipping duplicate record"),null;try{const v=await Zt.recordView(e.id,y);return v&&c(b=>new Set(b).add(y)),v}catch(v){return console.error("Error recording view:",v),null}},[e,l]),h=p.useCallback(async()=>{if(!e)return!1;s(!0),o(null);try{const y=await Zt.clearHistory(e.id);return y&&(r([]),c(new Set)),y}catch(y){return console.error("Error clearing history:",y),o("Failed to clear history"),!1}finally{s(!1)}},[e]),f=p.useCallback(async y=>{if(!e)return!1;if(l.has(y))return!0;try{return await Zt.hasViewedArticle(e.id,y)}catch(v){return console.error("Error checking if article was viewed:",v),!1}},[e,l]);return p.useEffect(()=>{e?u():(r([]),c(new Set))},[e,u]),{history:t,loading:n,error:a,recordView:d,fetchHistory:u,clearHistory:h,hasViewed:f}}const aw=({isOpen:e,onClose:t,title:r,children:n,size:s="md"})=>{const a=p.useRef(null);p.useEffect(()=>{const l=u=>{a.current&&!a.current.contains(u.target)&&t()},c=u=>{u.key==="Escape"&&t()};return e&&(document.addEventListener("mousedown",l),document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",c),document.body.style.overflow="auto"}},[e,t]);const o={sm:"max-w-md",md:"max-w-xl",lg:"max-w-3xl",xl:"max-w-5xl"};return i.jsx($t,{children:e&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx(T.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:t}),i.jsxs(T.div,{ref:a,className:`relative ${o[s]} w-full bg-gray-800/95 rounded-xl shadow-2xl overflow-hidden border border-gray-700/70 max-h-[90vh] flex flex-col`,initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3},children:[r&&i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-900/50 sticky top-0 z-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:r}),i.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-700/70 transition-colors text-gray-400 hover:text-white",children:i.jsx(kn,{className:"h-5 w-5"})})]}),i.jsx("div",{className:`flex-1 overflow-y-auto ${r?"":"pt-4"} custom-scrollbar`,children:n})]})]})})};function TP(e){const{user:t}=be(),[r,n]=p.useState(!1),[s,a]=p.useState(!1),[o,l]=p.useState(null);p.useEffect(()=>{if(!t||!e)return;(async()=>{a(!0);try{const h=await Jt.isBookmarked(t.id,e);n(h),l(null)}catch(h){console.error("Error checking bookmark status:",h),l("Failed to check bookmark status")}finally{a(!1)}})()},[t,e]);const c=p.useCallback(async(d,h)=>{if(!t)return!1;a(!0),l(null);try{if(r){const f=await Jt.removeBookmark(t.id,d.id);return n(!1),f}else{const f=await Jt.addBookmark(t.id,d.id,h);return n(!0),!!f}}catch(f){return console.error("Error toggling bookmark:",f),l("Failed to update bookmark"),!1}finally{a(!1)}},[t,r]),u=p.useCallback(async d=>{if(!t)return!1;try{return await Jt.isBookmarked(t.id,d)}catch(h){return console.error("Error checking article bookmark:",h),!1}},[t]);return{isBookmarked:r,loading:s,error:o,toggleBookmark:c,checkArticleBookmark:u}}const Rl=({article:e,className:t="",iconSize:r=18,asIcon:n=!0,showText:s=!1})=>{const{user:a}=be(),{isBookmarked:o,toggleBookmark:l,loading:c}=TP(e.id),[u,d]=p.useState(!1),h=async y=>{if(y.stopPropagation(),y.preventDefault(),!a){alert("Please sign in to bookmark articles");return}await l(e)&&(d(!0),setTimeout(()=>d(!1),500))},f=i.jsxs(i.Fragment,{children:[c?i.jsx(cx,{className:"h-5 w-5 animate-spin"}):o?i.jsx(T.div,{animate:u?{scale:[1,1.3,1]}:{},transition:{duration:.3},children:i.jsx(xs,{size:r,className:"text-blue-400"})}):i.jsx(ix,{size:r}),s&&i.jsx("span",{className:"ml-2",children:o?"Bookmarked":"Bookmark"})]});return n?i.jsx("button",{onClick:h,className:`p-2 rounded-full focus:outline-none hover:bg-gray-700/50 transition-colors ${t}`,"aria-label":o?"Remove bookmark":"Add bookmark",children:f}):i.jsx("button",{onClick:h,className:`flex items-center px-3 py-1.5 rounded-md focus:outline-none hover:bg-gray-700/50 transition-colors ${t}`,"aria-label":o?"Remove bookmark":"Add bookmark",children:f})},Dl=({article:e,isOpen:t,onClose:r})=>{const n=Nt(),{user:s}=be(),{recordView:a}=Ml(),[o,l]=p.useState([]),[c,u]=p.useState(0),[d,h]=p.useState(!1),[f,y]=p.useState(null),[v,b]=p.useState(!1);p.useEffect(()=>{(async()=>{t&&e&&s&&!v&&(await a(e.id),b(!0))})(),t||b(!1)},[t,e,s,a,v]),p.useEffect(()=>{t&&e&&(async()=>{if(!(!e||!s)){h(!0);try{let S=f;if(S||(S=await ys(s.id),S&&y(S)),S){const _=Kv(e,S);u(_),l(g(e,S))}}catch(S){console.error("Error calculating relevance:",S)}finally{h(!1)}}})()},[e,s,t,f]);const j=()=>{e&&(r(),n(`/dashboard/article/${e.id}`))},g=(N,S)=>{const _=[];if(S.keywords&&S.keywords.length>0){const Q=S.keywords.filter(ne=>N.title.toLowerCase().includes(ne.toLowerCase())||N.content.toLowerCase().includes(ne.toLowerCase()));Q.length>0&&_.push({label:"Keyword Matches",score:Q.length*10,description:`Matches ${Q.length} of your keywords`})}if(S.categories&&S.categories.includes(N.category)&&_.push({label:"Category Match",score:20,description:`Matches your preferred category: ${N.category}`}),S.sources&&S.sources.includes(N.source)&&_.push({label:"Source Match",score:15,description:`From your preferred source: ${N.source}`}),N.tags&&N.tags.length>0&&S.keywords&&S.keywords.length>0){const Q=N.tags.filter(ne=>{var J;return(J=S.keywords)==null?void 0:J.some(R=>ne.toLowerCase().includes(R.toLowerCase())||R.toLowerCase().includes(ne.toLowerCase()))});Q.length>0&&_.push({label:"Tag Matches",score:Q.length*5,description:"Article tags match your interests"})}const E=new Date(N.published_at),A=(new Date().getTime()-E.getTime())/(1e3*60*60);let I=0,B="";return A<6?(I=20,B="Published within the last 6 hours"):A<24?(I=10,B="Published within the last 24 hours"):A<48&&(I=5,B="Published within the last 48 hours"),I>0&&_.push({label:"Freshness",score:I,description:B}),_.push({label:"Base Score",score:10,description:"Default relevance value"}),_};if(!e)return null;const x=Ve(new Date(e.published_at),"MMMM dd, yyyy"),m=C(e.content),w=Math.min(Math.max(c/100*100,10),100),k=N=>N>=80?"text-green-400":N>=60?"text-green-300":N>=40?"text-blue-400":N>=20?"text-blue-300":"text-gray-400";function C(N){const S=N.split(/[.!?]+/).filter(E=>E.trim().length>0),_=Math.min(S.length,2);return S.slice(0,_).join(". ")+"."}return i.jsx(aw,{isOpen:t,onClose:r,size:"lg",children:i.jsxs("div",{className:"p-6",children:[e.image_url&&i.jsx("div",{className:"h-48 mb-4 overflow-hidden rounded-lg",children:i.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-400 mb-4",children:[i.jsx("span",{className:"px-3 py-1 bg-blue-900/60 text-blue-200 rounded-full",children:e.category}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ut,{className:"h-4 w-4 mr-1"}),x]}),i.jsxs("span",{children:["Source: ",e.source]})]}),i.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Summary"}),i.jsx("p",{className:"text-gray-300",children:m})]}),s&&i.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6",children:[i.jsxs("h3",{className:"flex items-center text-lg font-semibold text-white mb-3",children:[i.jsx(na,{className:"h-5 w-5 mr-2 text-blue-400"}),"Relevance for You"]}),d?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex justify-between text-lg mb-2",children:[i.jsx("span",{className:"text-gray-400",children:"Match Score"}),i.jsxs("span",{className:`${k(c)} font-bold text-xl`,children:[c,"%"]})]}),i.jsx("div",{className:"h-2.5 bg-gray-700 rounded-full overflow-hidden mb-2",children:i.jsx(T.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",initial:{width:0},animate:{width:`${w}%`},transition:{duration:.5}})}),c>=70&&i.jsxs("div",{className:"flex items-center gap-2 text-yellow-300 text-sm mt-1",children:[i.jsx(Nn,{className:"h-4 w-4"}),i.jsx("span",{children:"This article is a top match for your preferences"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-md font-medium text-gray-300 mb-2",children:"Match Breakdown"}),o.map((N,S)=>i.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-700/50 last:border-0",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(jl,{className:`h-4 w-4 mr-2 ${N.score>10?"text-yellow-400":"text-gray-500"}`}),i.jsx("span",{className:"text-gray-300",children:N.label})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"text-sm font-semibold text-white",children:["+",N.score]}),i.jsx("span",{className:"text-xs text-gray-500",children:N.description})]})]},S))]})]})]}),e.tags&&e.tags.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-400 mb-2",children:[i.jsx(fx,{className:"h-4 w-4 mr-1"}),"Tags"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(N=>i.jsx("span",{className:"px-3 py-1 bg-gray-700/60 text-gray-300 rounded-full text-sm",children:N},N))})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-6 pt-4 border-t border-gray-700 gap-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:j,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Read Full Article",i.jsx(zr,{className:"h-4 w-4 ml-2"})]}),i.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:["View Source",i.jsx(Ht,{className:"h-4 w-4 ml-2"})]})]}),i.jsx("div",{className:"flex space-x-2",children:i.jsx(Rl,{article:e,asIcon:!1,showText:!0,className:"text-gray-300"})})]})]})})},ow=({article:e,index:t,showRelevanceScore:r=!0})=>{const{user:n}=be(),s=Nt(),{recordView:a}=Ml(),[o,l]=p.useState(!1),c=Ve(new Date(e.published_at),"MMM dd, yyyy"),u=y=>{y.preventDefault(),n&&a(e.id),l(!0)},d=y=>{y.preventDefault(),s(`/dashboard/article/${e.id}`)},h=y=>y?y>=80?"text-green-400":y>=60?"text-green-300":y>=40?"text-blue-400":y>=20?"text-blue-300":"text-gray-400":"text-gray-400",f=y=>y?y>=80?"bg-green-900/60":y>=60?"bg-green-800/60":y>=40?"bg-blue-900/60":y>=20?"bg-blue-800/60":"bg-gray-800/60":"bg-gray-800/60";return i.jsxs(i.Fragment,{children:[i.jsxs(T.div,{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl overflow-hidden shadow-lg border border-gray-700/50 hover:border-blue-500/50 transition-all h-full flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.05},whileHover:{y:-5,transition:{duration:.2}},children:[i.jsxs("div",{className:"relative h-48 overflow-hidden cursor-pointer",onClick:u,children:[e.image_url?i.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-transform hover:scale-105"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900/40 to-purple-900/40 flex items-center justify-center",children:i.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"SophIQ"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent",children:i.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:i.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[i.jsx("span",{className:"px-2 py-1 bg-blue-900/60 backdrop-blur-sm rounded-full text-blue-200",children:e.category}),r&&e.relevance_score&&i.jsxs("span",{className:`px-2 py-1 ${f(e.relevance_score)} backdrop-blur-sm rounded-full flex items-center ${h(e.relevance_score)}`,children:[i.jsx(na,{className:"h-3 w-3 mr-1"}),e.relevance_score,"%"]})]})})}),r&&e.relevance_score&&e.relevance_score>=70&&i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-600/80 to-amber-600/80 rounded-lg text-xs text-white font-medium shadow-lg backdrop-blur-sm",children:[i.jsx(Nn,{className:"h-3 w-3"}),i.jsx("span",{children:"Top Match"})]})})]}),i.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[i.jsxs("div",{className:"mb-4 cursor-pointer flex-grow",onClick:u,children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-white line-clamp-2 hover:text-blue-400 transition-colors",children:e.title}),i.jsx("p",{className:"text-sm text-gray-400 line-clamp-3",children:e.content})]}),i.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[i.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[i.jsx(Se,{className:"h-3 w-3 mr-1"}),c]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Rl,{article:e}),i.jsx("button",{onClick:d,className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",children:i.jsx(Ht,{className:"h-4 w-4 text-gray-400"})})]})]})]}),i.jsx("div",{className:"px-4 py-2 bg-gray-900/50 border-t border-gray-700/50",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",e.source]}),r&&e.relevance_score&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(jl,{className:`h-3 w-3 mr-1 ${h(e.relevance_score)}`}),i.jsxs("span",{className:`text-xs ${h(e.relevance_score)}`,children:[e.relevance_score,"% relevance"]})]})]})})]}),i.jsx(Dl,{article:e,isOpen:o,onClose:()=>l(!1)})]})},jt=({size:e="w-12 h-12",color:t="border-blue-500"})=>i.jsx("div",{className:"flex justify-center items-center",children:i.jsx(T.div,{className:`${e} border-4 border-t-transparent rounded-full ${t}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}),lw=({limit:e=5,className:t="",showTitle:r=!0,compact:n=!1})=>{const[s,a]=p.useState(null),[o,l]=p.useState(!0),[c,u]=p.useState(null),[d,h]=p.useState(!1),[f,y]=p.useState(!1),v=async()=>{try{l(!0),u(null);const m=await fetch("/feeds/coindesk-rss.json");if(!m.ok)throw new Error(`Failed to fetch CoinDesk RSS feed: ${m.status}`);const w=await m.json();if(w.Data&&Array.isArray(w.Data)){const k={title:"CoinDesk: Bitcoin, Ethereum, Crypto News and Price Data",description:"Leader in cryptocurrency, Bitcoin, Ethereum, XRP, blockchain, DeFi, digital finance and Web3 news with analysis, video and live price updates.",link:"https://www.coindesk.com",items:w.Data.map(C=>{var N,S;return{title:C.TITLE||"Untitled",link:C.URL||"#",pubDate:C.PUBLISHED_ON?new Date(C.PUBLISHED_ON*1e3).toUTCString():new Date().toUTCString(),content:C.BODY||C.SUBTITLE||"",contentSnippet:C.SUBTITLE||"",creator:((N=C.SOURCE_DATA)==null?void 0:N.NAME)||"CoinDesk",categories:((S=C.CATEGORY_DATA)==null?void 0:S.map(_=>_.NAME))||[],enclosure:C.IMAGE_URL?{url:C.IMAGE_URL,type:"image/jpeg"}:void 0}})};a(k)}else if(w.items&&Array.isArray(w.items))a(w);else throw console.warn("Unexpected CoinDesk API response format:",w),new Error("Invalid feed data format")}catch(m){console.error("Error fetching CoinDesk RSS feed:",m),u(m instanceof Error?m.message:"Failed to load CoinDesk feed")}finally{l(!1),h(!1)}};p.useEffect(()=>{v()},[]);const b=()=>{h(!0),v()},j=m=>{try{const w=new Date(m);return Ve(w,"MMM dd, yyyy")}catch(w){return console.warn("Error formatting date:",w),m}},g=m=>{var w,k,C;if((w=m.enclosure)!=null&&w.url)return m.enclosure.url;if((k=m.mediaContent)!=null&&k.length)return m.mediaContent[0].url;if((C=m["media:content"])!=null&&C.length)return m["media:content"][0].$.url;if(m.content){const N=m.content.match(/<img[^>]+src="([^">]+)"/i);if(N&&N[1])return N[1]}};if(o&&!d)return i.jsx("div",{className:`${n?"p-2":"p-4"} rounded-lg bg-gray-900/50 ${t}`,children:i.jsxs("div",{className:"flex items-center justify-center py-6",children:[i.jsx(q,{className:"w-6 h-6 text-blue-500 animate-spin"}),i.jsx("span",{className:"ml-2 text-gray-400",children:"Loading CoinDesk news..."})]})});if(c)return i.jsxs("div",{className:`${n?"p-2":"p-4"} rounded-lg bg-red-900/20 border border-red-800/30 ${t}`,children:[i.jsxs("div",{className:"flex items-start text-red-300",children:[i.jsx(lt,{className:"h-5 w-5 mt-0.5 mr-2 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Failed to load CoinDesk feed"}),i.jsx("p",{className:"mt-1",children:c})]})]}),i.jsxs("button",{onClick:b,className:"mt-3 text-blue-400 hover:text-blue-300 flex items-center",children:[i.jsx(q,{className:"w-4 h-4 mr-1"}),"Try again"]})]});if(!s||!s.items||s.items.length===0)return i.jsxs("div",{className:`${n?"p-2":"p-4"} rounded-lg bg-gray-900/50 ${t}`,children:[i.jsx("p",{className:"text-gray-400 text-center py-4",children:"No CoinDesk news available"}),i.jsxs("button",{onClick:b,className:"mt-2 text-blue-400 hover:text-blue-300 flex items-center justify-center w-full",children:[i.jsx(q,{className:"w-4 h-4 mr-1"}),"Refresh"]})]});const x=s.items.slice(0,e);return i.jsxs("div",{className:`${n?"p-2":"p-4"} rounded-xl bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 ${t}`,children:[r&&i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[i.jsx(Do,{className:"h-5 w-5 mr-2 text-blue-400"}),"CoinDesk Impact News"]}),i.jsx("button",{onClick:b,disabled:d,className:"p-1.5 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors",children:i.jsx(q,{className:`w-4 h-4 text-gray-300 ${d?"animate-spin":""}`})})]}),i.jsx("div",{className:"space-y-3",children:x.map((m,w)=>{const k=g(m);return i.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:w*.05},className:`${n?"p-2":"p-3"} bg-gray-800/70 hover:bg-gray-700/70 rounded-lg border border-gray-700/40 transition-colors group`,children:i.jsx("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:i.jsxs("div",{className:"flex items-start gap-3",children:[k&&!n&&i.jsx("img",{src:k,alt:m.title,className:"w-16 h-16 object-cover rounded-md flex-shrink-0",onError:C=>{C.target.style.display="none"}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.categories&&m.categories[0]&&i.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-900/50 text-blue-300 rounded-full",children:m.categories[0]}),i.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx(Se,{className:"h-3 w-3 mr-1"}),j(m.pubDate||m.isoDate||"")]})]}),i.jsx("h4",{className:`${n?"text-sm":"text-base"} font-medium text-white mb-2 line-clamp-2 group-hover:text-blue-300 transition-colors`,children:m.title}),!n&&m.contentSnippet&&i.jsx("p",{className:"text-gray-400 text-sm line-clamp-1",children:m.contentSnippet}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx("span",{className:"text-xs text-gray-500",children:m.creator||"CoinDesk"}),i.jsx(Ht,{className:"w-3.5 h-3.5 text-gray-500 group-hover:text-blue-400 transition-colors"})]})]})]})})},`${m.link}-${w}`)})}),i.jsx("div",{className:"mt-3 text-center",children:i.jsxs("a",{href:"https://www.coindesk.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:text-blue-300 inline-flex items-center transition-colors",children:["More on CoinDesk",i.jsx(nx,{className:"w-3.5 h-3.5 ml-1"})]})})]})},Ll=({articles:e,loading:t,title:r,loadMore:n,hasMore:s=!1,categories:a=[],onFilterChange:o,totalCount:l,onArticleRemoved:c,showCoinDeskPanel:u=!1})=>{var m;const{ref:d,inView:h}=iw({threshold:0,triggerOnce:!1}),[f,y]=p.useState(!1),[v,b]=p.useState({category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"});p0.useEffect(()=>{h&&s&&n&&!t&&n()},[h,s,n,t]);const j=p.useCallback(w=>{const k={...v,...w};b(k),o&&o(k)},[v,o]),g=p.useCallback(()=>{y(!f)},[f]);if(t&&e.length===0)return i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(jt,{}),i.jsx("p",{className:"mt-4 text-gray-400",children:"Loading articles..."})]});const x=a.reduce((w,k)=>(k.id.includes("ai")||k.id.includes("machine_learning")||k.id.includes("llm")||k.id.includes("generative_ai")||k.id.includes("artificial_intelligence")?(w.ai||(w.ai={id:"ai",name:"AI & Machine Learning",subcategories:[]}),w.ai.subcategories.push(k)):(w.main||(w.main=[]),w.main.push(k)),w),{});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r&&i.jsxs(T.h2,{className:"text-2xl font-bold text-white flex items-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[r,l!==void 0&&i.jsxs("span",{className:"ml-3 text-base font-normal text-gray-400",children:["(",l," ",l===1?"article":"articles",")"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:g,className:`px-3 py-2 rounded-lg flex items-center text-sm ${f?"bg-blue-700/40 text-blue-300":"bg-gray-800 text-gray-300"} hover:bg-gray-700 transition-colors`,children:[i.jsx(nh,{className:"h-4 w-4 mr-2"}),"Filters"]}),o&&i.jsx("button",{onClick:()=>{const w={category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"};b(w),o(w)},className:"p-2 rounded-lg bg-gray-800 text-gray-300 hover:bg-gray-700",title:"Reset filters",children:i.jsx(q,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex border border-gray-700 rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:()=>j({layout:"grid"}),className:`p-2 ${v.layout==="grid"?"bg-gray-700 text-white":"bg-gray-800 text-gray-400"}`,title:"Grid view",children:i.jsx(T2,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>j({layout:"compact"}),className:`p-2 ${v.layout==="compact"?"bg-gray-700 text-white":"bg-gray-800 text-gray-400"}`,title:"Compact view",children:i.jsx(ia,{className:"h-4 w-4"})})]})]})]}),f&&i.jsx(T.div,{className:"bg-gray-800/70 backdrop-blur-sm p-4 rounded-lg border border-gray-700/50",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Category"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>j({category:void 0}),className:`px-3 py-1 text-sm rounded-full ${v.category?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white"}`,children:"All"}),(m=x.main)==null?void 0:m.map(w=>i.jsx("button",{onClick:()=>j({category:w.id}),className:`px-3 py-1 text-sm rounded-full ${v.category===w.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:w.name},w.id)),x.ai&&i.jsxs("div",{className:"flex flex-col gap-2 w-full mt-2",children:[i.jsx("div",{className:"text-sm font-medium text-blue-400 border-b border-gray-700 pb-1",children:x.ai.name}),i.jsx("div",{className:"flex flex-wrap gap-2 pl-2",children:x.ai.subcategories.map(w=>i.jsx("button",{onClick:()=>j({category:w.id}),className:`px-3 py-1 text-sm rounded-full ${v.category===w.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:w.name},w.id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Sort By"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>j({sortBy:"relevance"}),className:`px-3 py-1 text-sm rounded-full flex items-center ${v.sortBy==="relevance"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[i.jsx(N2,{className:"h-3 w-3 mr-1"}),"Relevance"]}),i.jsxs("button",{onClick:()=>j({sortBy:"date"}),className:`px-3 py-1 text-sm rounded-full flex items-center ${v.sortBy==="date"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[i.jsx(j2,{className:"h-3 w-3 mr-1"}),"Newest"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Time Frame"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>j({timeFrame:"day"}),className:`px-3 py-1 text-sm rounded-full ${v.timeFrame==="day"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Today"}),i.jsx("button",{onClick:()=>j({timeFrame:"week"}),className:`px-3 py-1 text-sm rounded-full ${v.timeFrame==="week"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Week"}),i.jsx("button",{onClick:()=>j({timeFrame:"month"}),className:`px-3 py-1 text-sm rounded-full ${v.timeFrame==="month"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Month"}),i.jsx("button",{onClick:()=>j({timeFrame:"all"}),className:`px-3 py-1 text-sm rounded-full ${v.timeFrame==="all"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All Time"})]})]})]})}),u&&i.jsx("div",{className:"mb-8",children:i.jsx(lw,{})}),i.jsx("div",{className:`grid gap-6 ${v.layout==="compact"?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:e.map((w,k)=>i.jsx(ow,{article:w,index:k,showRelevanceScore:v.sortBy==="relevance"},w.id))}),e.length===0&&!t&&i.jsx("div",{className:"text-center py-12 bg-gray-800/30 rounded-lg",children:i.jsx("p",{className:"text-gray-400",children:"No articles found matching your criteria"})}),t&&e.length>0&&i.jsx("div",{className:"flex justify-center my-8",children:i.jsx(jt,{size:"w-8 h-8"})}),s&&i.jsx("div",{ref:d,className:"h-10"})]})},AP=({article:e})=>{const t=Nt(),r=()=>{t(`/dashboard/article/${e.id}`)},n=e.relevance_score||0,s=E3(n);return i.jsx(T.div,{className:"rounded-xl overflow-hidden bg-gradient-to-r from-blue-900/40 to-purple-900/40 mb-8 border border-blue-500/30",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.01},children:i.jsxs("div",{className:"flex flex-col md:flex-row cursor-pointer",onClick:r,children:[e.image_url?i.jsx("div",{className:"w-full md:w-1/3 h-48 md:h-auto",children:i.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}):i.jsx("div",{className:"w-full md:w-1/3 bg-blue-900/20 flex items-center justify-center py-12",children:i.jsx(dx,{className:"h-16 w-16 text-blue-500/40"})}),i.jsxs("div",{className:"w-full md:w-2/3 p-6 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-900/60 rounded-lg text-sm text-blue-200",children:[i.jsx(na,{className:"h-4 w-4"}),i.jsx("span",{children:"Top Recommendation"})]}),i.jsxs("div",{className:`px-2.5 py-1.5 rounded-lg text-sm font-medium ${s}`,children:[n,"% Match"]})]}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors",children:e.title}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2",children:e.content})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-400",children:[e.category,"  ",e.source]}),i.jsxs("button",{className:"flex items-center text-blue-400 hover:text-blue-300 transition-colors",onClick:a=>{a.stopPropagation(),r()},children:["Read More",i.jsx(yt,{className:"h-4 w-4 ml-1"})]})]})]})]})})};async function gn(e){try{const{limit:t=9,category:r,tags:n,search:s,sortBy:a="published_at",fromDate:o,toDate:l,page:c=1,excludeUserPreferences:u,useCache:d=!0}=e,h=th({type:"articles",limit:t,category:r,tags:n,search:s,sortBy:a,fromDate:o,toDate:l,page:c,excludeUserPreferences:u});if(d){const m=Ye.get(h);if(m)return console.log("Using cached article data"),m}const f=(c-1)*t,y=L.from("articles").select("*",{count:"exact",head:!0});if(r&&y.eq("category",r),n&&n.length>0&&y.contains("tags",n),s&&y.or(`title.ilike.%${s}%,content.ilike.%${s}%`),o&&y.gte("published_at",o),l&&y.lte("published_at",l),u){const m=await ys(u);m!=null&&m.categories&&m.categories.length>0&&y.not("category","in",`(${m.categories.join(",")})`)}const{count:v}=await y;let b=L.from("articles").select("*").range(f,f+t-1);if(r&&(b=b.eq("category",r)),n&&n.length>0&&(b=b.contains("tags",n)),s&&(b=b.or(`title.ilike.%${s}%,content.ilike.%${s}%`)),o&&(b=b.gte("published_at",o)),l&&(b=b.lte("published_at",l)),u){const m=await ys(u);m!=null&&m.categories&&m.categories.length>0&&b.not("category","in",`(${m.categories.join(",")})`)}if(a==="random")b=b.order("id",{ascending:!1});else{const m="desc",w=a==="relevance_score"?"relevance_score":"published_at";b=b.order(w,{ascending:m==="asc"})}const{data:j,error:g}=await b;if(g)throw g;const x={articles:j||[],totalCount:v||0};return d&&Ye.set(h,x),x}catch(t){return console.error("Error fetching articles:",t),{articles:[],totalCount:0}}}async function MP(e,t={}){try{const{limit:r=9,category:n,fromDate:s,page:a=1,useCache:o=!0}=t,l=th({type:"rankedArticles",userId:e,limit:r,category:n,fromDate:s,page:a});if(o){const b=Ye.get(l);if(b)return console.log("Using cached ranked article data"),b}const c=await ys(e);if(!c)return gn({limit:r,category:n,fromDate:s,page:a,sortBy:"published_at",useCache:o});const u=await gn({limit:100,category:n,fromDate:s,page:1,sortBy:"published_at",useCache:o});if(!u||!u.articles||u.articles.length===0)return{articles:[],totalCount:0};const d=u.articles,h=Gv(d,c),f=(a-1)*r,v={articles:h.slice(f,Math.min(f+r,h.length)),totalCount:h.length};return o&&Ye.set(l,v),v}catch(r){return console.error("Error in rankArticlesForUser:",r),{articles:[],totalCount:0}}}async function RP(e,t=!0){try{const r=`article-${e}`;if(t){const a=Ye.get(r);if(a)return a}const{data:n,error:s}=await L.from("articles").select("*").eq("id",e).single();if(s)throw s;return t&&n&&Ye.set(r,n),n}catch(r){return console.error("Error fetching article by ID:",r),null}}async function DP(e,t=3,r=!0){try{const n=`related-${e.id}-${t}`;if(r){const l=Ye.get(n);if(l)return l}let s=L.from("articles").select("*").eq("category",e.category).neq("id",e.id);if(e.tags&&e.tags.length>0){const{data:l}=await s.contains("tags",e.tags).limit(t);if(l&&l.length>=t)return r&&Ye.set(n,l),l;const c=t-((l==null?void 0:l.length)||0);if(c>0){const{data:u}=await L.from("articles").select("*").eq("category",e.category).neq("id",e.id).not("id","in",`(${(l||[]).map(h=>h.id).join(",")})`).limit(c),d=[...l||[],...u||[]];return r&&Ye.set(n,d),d}return r&&l&&Ye.set(n,l),l||[]}const{data:a,error:o}=await s.limit(t);if(o)throw o;return r&&a&&Ye.set(n,a),a||[]}catch(n){return console.error("Error fetching related articles:",n),[]}}function Il(){return[{id:"business",name:"Business"},{id:"technology",name:"Technology"},{id:"science",name:"Science"},{id:"health",name:"Health"},{id:"stocks",name:"Stock Market"},{id:"web3",name:"Web3"},{id:"artificial_intelligence",name:"Artificial Intelligence"},{id:"machine_learning",name:"Machine Learning"},{id:"llm",name:"LLMs"},{id:"generative_ai",name:"Generative AI"},{id:"ai_ethics",name:"AI Ethics"},{id:"ai_research",name:"AI Research"},{id:"general",name:"General"}]}const LP=({className:e,newsItems:t})=>{const[r,n]=p.useState(0),[s,a]=p.useState(!0);if(p.useEffect(()=>{if(t.length<=1)return;const l=setInterval(()=>{a(!1),setTimeout(()=>{n(c=>(c+1)%t.length),a(!0)},500)},1e4);return()=>clearInterval(l)},[t]),!t||t.length===0)return null;const o=t[r];return i.jsx("div",{className:`relative ${e}`,children:i.jsx($t,{mode:"wait",children:s&&i.jsx(T.div,{className:"bg-blue-900/20 backdrop-blur-sm border border-blue-900/40 rounded-lg p-4 shadow-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:i.jsx("div",{className:"p-2 bg-blue-900/40 rounded-full",children:i.jsx(Nn,{className:"w-5 h-5 text-blue-300"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"text-xs text-blue-300 flex items-center",children:[i.jsx("span",{className:"font-medium uppercase",children:"Breaking Impact News"}),o.category&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-900/50 rounded-full text-xs",children:o.category})]}),o.pubDate&&i.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[i.jsx(Se,{className:"h-3 w-3 mr-1"}),Ve(new Date(o.pubDate),"MMM dd, HH:mm")]})]}),i.jsx("h3",{className:"text-white font-medium mb-2",children:o.title}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:t.length>1&&i.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:t.length}).map((l,c)=>i.jsx("div",{className:`h-1.5 rounded-full ${c===r?"w-4 bg-blue-400":"w-1.5 bg-gray-600"}`},c))})}),i.jsxs("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["Read More",i.jsx(Ht,{className:"h-3.5 w-3.5 ml-1"})]})]})]})]})},r)})})},Jp=({feedUrl:e,limit:t=5,className:r="",showTitle:n=!0})=>{const[s,a]=p.useState(null),[o,l]=p.useState(!0),[c,u]=p.useState(null),[d,h]=p.useState(!1),[f,y]=p.useState(!1),v=async()=>{try{l(!0),u(null);const m=await fetch(e);if(!m.ok)throw new Error(`Failed to fetch feed: ${m.status} ${m.statusText}`);const w=await m.json(),k=w.items.filter(C=>{var N,S,_;return((N=C.enclosure)==null?void 0:N.url)||((S=C.mediaContent)==null?void 0:S.length)||((_=C["media:content"])==null?void 0:_.length)}).length;y(k>0),a(w)}catch(m){console.error("Error fetching RSS feed:",m),u(m instanceof Error?m.message:"Failed to load RSS feed")}finally{l(!1),h(!1)}};p.useEffect(()=>{v()},[e]);const b=()=>{h(!0),v()},j=m=>{var w,k,C;if((w=m.enclosure)!=null&&w.url)return m.enclosure.url;if((k=m.mediaContent)!=null&&k.length)return m.mediaContent[0].url;if((C=m["media:content"])!=null&&C.length)return m["media:content"][0].$.url;if(m.content){const N=m.content.match(/<img[^>]+src="([^">]+)"/i);if(N&&N[1])return N[1]}},g=m=>{try{const w=new Date(m);return Ve(w,"MMM dd, yyyy")}catch(w){return console.warn("Error formatting date:",w),m}};if(o&&!d)return i.jsx("div",{className:`p-4 rounded-lg bg-gray-900/50 ${r}`,children:i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx(q,{className:"w-6 h-6 text-blue-500 animate-spin"}),i.jsx("span",{className:"ml-2 text-gray-400",children:"Loading news feed..."})]})});if(c)return i.jsxs("div",{className:`p-4 rounded-lg bg-red-900/20 border border-red-800/30 ${r}`,children:[i.jsxs("div",{className:"flex items-start text-red-300",children:[i.jsx(lt,{className:"h-5 w-5 mt-0.5 mr-2 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Failed to load RSS feed"}),i.jsx("p",{className:"mt-1",children:c})]})]}),i.jsxs("button",{onClick:b,className:"mt-3 text-blue-400 hover:text-blue-300 flex items-center",children:[i.jsx(q,{className:"w-4 h-4 mr-1"}),"Try again"]})]});if(!s)return i.jsxs("div",{className:`p-4 rounded-lg bg-gray-900/50 ${r}`,children:[i.jsx("p",{className:"text-gray-400 text-center py-4",children:"No feed data available"}),i.jsxs("button",{onClick:b,className:"mt-2 text-blue-400 hover:text-blue-300 flex items-center justify-center w-full",children:[i.jsx(q,{className:"w-4 h-4 mr-1"}),"Refresh"]})]});const x=s.items.slice(0,t);return i.jsxs("div",{className:`p-4 rounded-xl bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 ${r}`,children:[n&&i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[i.jsx(V2,{className:"h-5 w-5 mr-2 text-blue-400"}),s.title||"RSS News Feed"]}),i.jsx("button",{onClick:b,disabled:d,className:"p-1.5 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors",children:i.jsx(q,{className:`w-4 h-4 text-gray-300 ${d?"animate-spin":""}`})})]}),i.jsx("div",{className:"space-y-4",children:x.map((m,w)=>{const k=j(m);return i.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:w*.05},className:"bg-gray-800/70 hover:bg-gray-700/70 rounded-lg border border-gray-700/40 transition-colors group overflow-hidden",children:i.jsxs("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:[f&&i.jsxs("div",{className:"flex flex-col md:flex-row",children:[k&&i.jsx("div",{className:"md:w-1/3 h-48 md:h-auto overflow-hidden",children:i.jsx("img",{src:k,alt:m.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:C=>{C.target.style.display="none"}})}),i.jsxs("div",{className:`p-4 ${k?"md:w-2/3":"w-full"}`,children:[i.jsx("div",{className:"flex justify-between items-start mb-2",children:i.jsxs("div",{className:"flex items-center",children:[m.categories&&m.categories[0]&&i.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-900/50 text-blue-300 rounded-full mr-2",children:m.categories[0]}),i.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx(Se,{className:"w-3 h-3 mr-1"}),g(m.pubDate||m.isoDate||"")]})]})}),i.jsx("h4",{className:"text-lg font-medium text-white mb-2 line-clamp-2 group-hover:text-blue-300 transition-colors",children:m.title}),m.contentSnippet&&i.jsx("p",{className:"text-gray-300 line-clamp-3 mb-3",children:m.contentSnippet}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("span",{className:"text-xs text-gray-500",children:m.creator||s.title}),i.jsxs("div",{className:"text-blue-400 text-sm flex items-center font-medium",children:["Read article",i.jsx(Ht,{className:"ml-1 w-3.5 h-3.5"})]})]})]})]}),!f&&i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"flex justify-between items-start mb-2",children:i.jsxs("div",{className:"flex items-center",children:[m.categories&&m.categories[0]&&i.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-900/50 text-blue-300 rounded-full mr-2",children:m.categories[0]}),i.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx(Se,{className:"w-3 h-3 mr-1"}),g(m.pubDate||m.isoDate||"")]})]})}),i.jsx("h4",{className:"text-lg font-medium text-white mb-2 group-hover:text-blue-300 transition-colors",children:m.title}),m.contentSnippet&&i.jsx("p",{className:"text-gray-300 line-clamp-3 mb-3",children:m.contentSnippet}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("span",{className:"text-xs text-gray-500",children:m.creator||s.title}),i.jsxs("div",{className:"text-blue-400 text-sm flex items-center font-medium",children:["Read article",i.jsx(Ht,{className:"ml-1 w-3.5 h-3.5"})]})]})]})]})},`${m.link}-${w}`)})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:text-blue-300 inline-flex items-center transition-colors",children:["View more news",i.jsx(nx,{className:"w-3.5 h-3.5 ml-1"})]})})]})},IP=({limit:e=5,className:t="",showTitle:r=!0,showRefresh:n=!0,compact:s=!1})=>i.jsx(lw,{limit:e,className:t,showTitle:r,compact:s}),OP=({className:e=""})=>i.jsxs(T.div,{className:`bg-gray-900/50 border border-gray-700/50 rounded-xl overflow-hidden ${e}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"p-4 border-b border-gray-700/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[i.jsx(mn,{className:"h-5 w-5 mr-2 text-blue-400"}),"Impact News Dashboard"]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("div",{className:"text-xs px-2 py-1 bg-blue-900/40 text-blue-300 rounded-full flex items-center",children:[i.jsx(xs,{className:"h-3 w-3 mr-1"}),"Top Sources"]})})]})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-4",children:[i.jsxs("h4",{className:"flex items-center text-white text-base font-medium mb-3",children:[i.jsx(ux,{className:"h-4 w-4 mr-2 text-blue-400"}),"CoinDesk Crypto Impact News"]}),i.jsx(IP,{limit:3,showTitle:!1,compact:!0})]}),i.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-4",children:[i.jsx("h4",{className:"text-white text-base font-medium mb-3",children:"Environmental Impact"}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-400",children:"Positive climate news"}),i.jsx("span",{className:"text-green-400",children:"+12%"})]}),i.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-500",style:{width:"62%"}})})]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-4 h-full",children:[i.jsx("h4",{className:"text-white text-base font-medium mb-3",children:"Social Impact Trends"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Community Development"}),i.jsx("span",{className:"text-blue-400",children:" 8.2%"})]}),i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Education Initiatives"}),i.jsx("span",{className:"text-green-400",children:" 12.7%"})]}),i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Healthcare Access"}),i.jsx("span",{className:"text-red-400",children:" 3.1%"})]}),i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Economic Equality"}),i.jsx("span",{className:"text-blue-400",children:" 5.4%"})]}),i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Sustainable Cities"}),i.jsx("span",{className:"text-green-400",children:" 9.8%"})]})]})]})})]})})]}),yr=9,$P=[{title:"Major climate initiative launches with backing from global investors",link:"https://www.reuters.com/sustainability/",pubDate:new Date().toISOString(),category:"Sustainability"},{title:"New social impact fund raises $100M to address housing inequality",link:"https://www.reuters.com/business/sustainable-business/",pubDate:new Date().toISOString(),category:"Social Impact"},{title:"Tech companies form coalition to advance climate change solutions",link:"https://www.reuters.com/technology/",pubDate:new Date().toISOString(),category:"Technology"}],FP=()=>{const{user:e,profile:t,isAdmin:r}=be(),[n,s]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[h,f]=p.useState(null),[y,v]=p.useState({category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"}),[b,j]=p.useState({personalized:!0,trending:!0,recent:!0,discover:!0}),[g,x]=p.useState(1),[m,w]=p.useState(!0),[k,C]=p.useState(0),[N,S]=p.useState(e?"for-you":"trending"),[_,E]=p.useState(null),P=p.useRef(!1),A=Il(),I=p.useCallback(Vi(W=>{v(W),x(1),w(!0)},300),[]),B=p.useCallback(async()=>{if(!P.current){P.current=!0,E(null);try{const se=(()=>{if(y.timeFrame==="all")return;const G=new Date;if(y.timeFrame==="day"){const H=new Date(G);return H.setDate(G.getDate()-1),H.toISOString()}else if(y.timeFrame==="week"){const H=new Date(G);return H.setDate(G.getDate()-7),H.toISOString()}else if(y.timeFrame==="month"){const H=new Date(G);return H.setMonth(G.getMonth()-1),H.toISOString()}})();if(N==="trending"){j(H=>({...H,trending:!0}));const G=await gn({limit:yr,sortBy:"relevance_score",category:y.category,fromDate:se,page:g});G.articles.length<yr?w(!1):w(!0),o(g===1?G.articles:H=>[...H,...G.articles]),C(G.totalCount),j(H=>({...H,trending:!1}))}else if(N==="recent"){j(H=>({...H,recent:!0}));const G=await gn({limit:yr,sortBy:"published_at",category:y.category,fromDate:se,page:g});G.articles.length<yr?w(!1):w(!0),c(g===1?G.articles:H=>[...H,...G.articles]),C(G.totalCount),j(H=>({...H,recent:!1}))}else if(N==="discover"){j(H=>({...H,discover:!0}));const G=await gn({limit:yr,sortBy:"random",category:y.category,fromDate:se,excludeUserPreferences:e==null?void 0:e.id,page:g});G.articles.length<yr?w(!1):w(!0),d(g===1?G.articles:H=>[...H,...G.articles]),C(G.totalCount),j(H=>({...H,discover:!1}))}else if(e&&N==="for-you"){j(G=>({...G,personalized:!0}));try{const G=new Date;G.setMonth(G.getMonth()-1);const{articles:H,totalCount:Ds}=await MP(e.id,{limit:yr,category:y.category,fromDate:y.timeFrame==="all"?G.toISOString():se,page:g});if(H.length<yr?w(!1):w(!0),g===1){if(s(H),H.length>0){const et=[...H].sort((fr,Uh)=>(Uh.relevance_score||0)-(fr.relevance_score||0))[0];et&&(et.relevance_score||0)>=70?f(et):f(null)}}else s(et=>{const fr=[...et,...H];return Array.from(new Map(fr.map(Bh=>[Bh.id,Bh])).values())});C(Ds)}catch(G){console.error("Error fetching personalized articles:",G),E("Could not load personalized articles. Please try again.")}finally{j(G=>({...G,personalized:!1}))}}}catch(W){console.error("Error fetching articles:",W),E("Failed to load articles. Please try refreshing the page."),j({personalized:!1,trending:!1,recent:!1,discover:!1})}finally{P.current=!1}}},[N,y,g,e]);p.useEffect(()=>{B()},[B]),p.useEffect(()=>{x(1),N!=="for-you"&&f(null)},[N]);const Q=()=>{!b[N]&&!P.current&&x(W=>W+1)},ne=W=>{I(W)},J=()=>{switch(N){case"for-you":return b.personalized;case"trending":return b.trending;case"recent":return b.recent;case"discover":return b.discover;default:return!1}},R=()=>{switch(N){case"for-you":return n.filter(W=>!h||W.id!==h.id);case"trending":return a;case"recent":return l;case"discover":return u;default:return[]}},$=W=>`px-4 py-2 rounded-lg flex items-center text-sm transition-colors ${N===W?"bg-blue-600 text-white font-medium":"text-gray-400 hover:text-gray-200 hover:bg-gray-800/70"}`,V=()=>{E(null),B()};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs(T.div,{className:"relative overflow-hidden rounded-2xl h-64 bg-gradient-to-r from-blue-900 to-purple-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"absolute inset-0 bg-grid-white/5 bg-[size:20px_20px]"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/90 to-transparent"}),i.jsxs("div",{className:"relative h-full flex flex-col justify-end p-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:e?`Welcome back, ${(t==null?void 0:t.username)||"User"}`:"Discover impact news with Sentro"}),i.jsx("p",{className:"text-gray-300 max-w-2xl",children:"Stay informed with the most relevant impact news tailored to your interests, curated by our advanced AI ranking system."})]})]}),i.jsx(LP,{newsItems:$P,className:"mb-6"}),i.jsx(OP,{className:"mb-8"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsx(Jp,{feedUrl:"/feeds/reuters-topnews.json",limit:3,showTitle:!0}),i.jsx(Jp,{feedUrl:"/feeds/impact-news.json",limit:3,showTitle:!0})]}),_&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300 flex items-center justify-between",children:[i.jsx("div",{children:_}),i.jsx("button",{onClick:V,className:"px-3 py-1 bg-red-800/40 hover:bg-red-800/60 rounded-md text-red-200 transition-colors",children:"Try Again"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e&&i.jsxs("button",{onClick:()=>S("for-you"),className:$("for-you"),children:[i.jsx(B2,{className:"h-4 w-4 mr-2"}),"For You"]}),i.jsxs("button",{onClick:()=>S("trending"),className:$("trending"),children:[i.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Trending"]}),i.jsxs("button",{onClick:()=>S("recent"),className:$("recent"),children:[i.jsx(Se,{className:"h-4 w-4 mr-2"}),"Recent"]}),i.jsxs("button",{onClick:()=>S("discover"),className:$("discover"),children:[i.jsx(q,{className:"h-4 w-4 mr-2"}),"Discover"]})]}),N==="for-you"&&h&&h.relevance_score>=70&&i.jsx(AP,{article:h}),i.jsx(Ll,{articles:R(),loading:J(),title:N==="for-you"?"Personalized For You":N==="trending"?"Trending Impact News":N==="recent"?"Recently Published":"Discover New Topics",loadMore:Q,hasMore:m,categories:A,onFilterChange:ne,totalCount:k,showCoinDeskPanel:!0})]})},VP=()=>{const e=hr(),[t,r]=p.useState(!e.search.includes("signup=true")),[n,s]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(!1),[h,f]=p.useState(""),{signIn:y,signUp:v,user:b}=be(),j=Nt();p.useEffect(()=>{b&&j("/")},[b,j]),p.useEffect(()=>{r(!e.search.includes("signup=true"))},[e.search]);const g=async m=>{m.preventDefault(),f(""),d(!0);try{if(t){const{error:w}=await y(n,a);if(w)throw w;j("/")}else{if(!l.trim())throw new Error("Username is required");const{error:w}=await v(n,a,l);if(w)throw w;j("/onboarding")}}catch(w){f(w.message||"An error occurred")}finally{d(!1)}},x=()=>{r(!t),j(t?"/login?signup=true":"/login",{replace:!0})};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-black px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-white/5 bg-[size:20px_20px]"}),i.jsxs(Pe,{to:"/",className:"absolute top-8 left-8 flex items-center text-gray-400 hover:text-white transition-colors",children:[i.jsx(vl,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),i.jsxs(T.div,{className:"max-w-md w-full bg-gray-800/70 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-gray-700/50 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:i.jsx(lx,{className:"h-8 w-8 text-white"})})}),i.jsx("h1",{className:"text-2xl font-bold text-center text-white mb-2",children:t?"Sign in to SophIQ":"Create a SophIQ account"}),i.jsx("p",{className:"text-center text-gray-400 mb-6",children:t?"Your personalized AI-powered news aggregator":"Join SophIQ and get news tailored to your interests"}),i.jsxs("div",{className:"flex mb-8 bg-gray-900/70 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>r(!0),className:`flex-1 py-2 rounded-md transition-colors ${t?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-200"}`,children:"Sign In"}),i.jsx("button",{onClick:()=>r(!1),className:`flex-1 py-2 rounded-md transition-colors ${t?"text-gray-400 hover:text-gray-200":"bg-blue-600 text-white"}`,children:"Sign Up"})]}),h&&i.jsx("div",{className:"bg-red-900/40 border border-red-800 text-red-200 px-4 py-3 rounded-lg mb-6",children:h}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[!t&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-400 mb-1",children:"Username"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Hi,{className:"h-5 w-5 text-gray-500"})}),i.jsx("input",{id:"username",type:"text",value:l,onChange:m=>c(m.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"johndoe",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(L2,{className:"h-5 w-5 text-gray-500"})}),i.jsx("input",{id:"email",type:"email",value:n,onChange:m=>s(m.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(R2,{className:"h-5 w-5 text-gray-500"})}),i.jsx("input",{id:"password",type:"password",value:a,onChange:m=>o(m.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,minLength:6})]})]}),i.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 flex items-center justify-center",children:u?i.jsxs(i.Fragment,{children:[i.jsx(cx,{className:"h-5 w-5 mr-2 animate-spin"}),t?"Signing in...":"Creating account..."]}):i.jsx(i.Fragment,{children:t?"Sign in":"Create account"})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:x,className:"text-blue-400 hover:text-blue-300 focus:outline-none",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})},UP=()=>{const{user:e}=be(),t=Nt(),[r,n]=p.useState(0),[s,a]=p.useState({keywords:[],categories:[],sources:[],excluded_keywords:[]}),[o,l]=p.useState(""),[c,u]=p.useState(""),d=[{id:"business",name:"Business"},{id:"crypto",name:"Cryptocurrency"},{id:"stocks",name:"Stock Market"},{id:"technology",name:"Technology"},{id:"web3",name:"Web3"},{id:"science",name:"Science"},{id:"health",name:"Health"}],h=[{id:"bloomberg",name:"Bloomberg"},{id:"cnn",name:"CNN"},{id:"bbc-news",name:"BBC News"},{id:"reuters",name:"Reuters"},{id:"techcrunch",name:"TechCrunch"},{id:"the-verge",name:"The Verge"},{id:"wired",name:"Wired"}],f=()=>{o&&!s.keywords.includes(o)&&(a({...s,keywords:[...s.keywords,o]}),l(""))},y=N=>{a({...s,keywords:s.keywords.filter(S=>S!==N)})},v=()=>{c&&!s.excluded_keywords.includes(c)&&(a({...s,excluded_keywords:[...s.excluded_keywords,c]}),u(""))},b=N=>{a({...s,excluded_keywords:s.excluded_keywords.filter(S=>S!==N)})},j=N=>{s.categories.includes(N)?a({...s,categories:s.categories.filter(S=>S!==N)}):a({...s,categories:[...s.categories,N]})},g=N=>{s.sources.includes(N)?a({...s,sources:s.sources.filter(S=>S!==N)}):a({...s,sources:[...s.sources,N]})},x=async()=>{if(e)try{const{error:N}=await L.from("user_preferences").upsert({user_id:e.id,keywords:s.keywords,categories:s.categories,sources:s.sources,excluded_keywords:s.excluded_keywords,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(N){console.error("Error saving preferences:",N);return}t("/dashboard")}catch(N){console.error("Error in handleComplete:",N)}},m=[{title:"Interests",description:"What topics are you most interested in?",component:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Add keywords to track"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),placeholder:"e.g., Bitcoin, AI, Investment",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:N=>N.key==="Enter"&&f()}),i.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),s.keywords.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Your keywords"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map(N=>i.jsxs("div",{className:"bg-blue-900/40 px-3 py-1 rounded-full text-blue-200 text-sm flex items-center",children:[N,i.jsx("button",{onClick:()=>y(N),className:"ml-2 text-blue-300 hover:text-blue-100",children:""})]},N))})]})]})},{title:"Categories",description:"Choose categories you want to follow",component:i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:d.map(N=>i.jsxs("button",{onClick:()=>j(N.id),className:`p-3 rounded-lg border ${s.categories.includes(N.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[i.jsx("span",{children:N.name}),s.categories.includes(N.id)&&i.jsx(ke,{className:"h-4 w-4"})]},N.id))})})},{title:"Sources",description:"Select your preferred news sources",component:i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(N=>i.jsxs("button",{onClick:()=>g(N.id),className:`p-3 rounded-lg border ${s.sources.includes(N.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[i.jsx("span",{children:N.name}),s.sources.includes(N.id)&&i.jsx(ke,{className:"h-4 w-4"})]},N.id))})})},{title:"Exclusions",description:"What topics would you like to exclude?",component:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Add keywords to exclude"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),placeholder:"e.g., Politics, Sports",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:N=>N.key==="Enter"&&v()}),i.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),s.excluded_keywords.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Your excluded keywords"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.excluded_keywords.map(N=>i.jsxs("div",{className:"bg-red-900/40 px-3 py-1 rounded-full text-red-200 text-sm flex items-center",children:[N,i.jsx("button",{onClick:()=>b(N),className:"ml-2 text-red-300 hover:text-red-100",children:""})]},N))})]})]})}],w=()=>{r<m.length-1&&n(r+1)},k=()=>{r>0&&n(r-1)},C=(r+1)/m.length*100;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white",children:[i.jsx("div",{className:"w-full h-2 bg-gray-800",children:i.jsx(T.div,{className:"h-full bg-blue-600",initial:{width:"0%"},animate:{width:`${C}%`},transition:{duration:.5}})}),i.jsx("div",{className:"max-w-2xl mx-auto p-6 md:py-12",children:i.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold",children:m[r].title}),i.jsx("p",{className:"text-gray-400",children:m[r].description})]}),i.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 shadow-xl",children:m[r].component}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs("button",{onClick:k,disabled:r===0,className:`px-4 py-2 rounded-lg flex items-center ${r===0?"opacity-50 cursor-not-allowed bg-gray-800 text-gray-500":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[i.jsx(ax,{className:"h-5 w-5 mr-1"}),"Back"]}),r<m.length-1?i.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:["Next",i.jsx(ox,{className:"h-5 w-5 ml-1"})]}):i.jsx("button",{onClick:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Complete"})]})]},r)})]})},BP=()=>{const{id:e}=yj(),{user:t}=be(),{recordView:r}=Ml(),[n,s]=p.useState(null),[a,o]=p.useState(!0),[l,c]=p.useState([]),[u,d]=p.useState(null),[h,f]=p.useState(!1),[y,v]=p.useState(0),[b,j]=p.useState(null),[g,x]=p.useState(null),[m,w]=p.useState(!1);p.useEffect(()=>(n&&t&&!m&&((async()=>{const _=await r(n.id);_&&(x(_.id),w(!0)),j(new Date)})(),(async()=>{const _=await Zt.getArticleViewCount(n.id);v(_)})()),()=>{if(n&&b&&g&&t){const S=Math.round((new Date().getTime()-b.getTime())/1e3);S>=5&&Zt.updateViewDuration(g,S)}}),[n,t,r,m]),p.useEffect(()=>{async function N(){if(e)try{o(!0);const S=await RP(e);if(S){s(S);const _=await DP(S,3);c(_)}}catch(S){console.error("Error fetching article:",S)}finally{o(!1)}}N(),w(!1)},[e]);const k=N=>{d(N),f(!0)};if(a)return i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)]",children:i.jsx(jt,{})});if(!n)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Article Not Found"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"The article you're looking for doesn't exist or has been removed."}),i.jsx(Pe,{to:"/dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Home"})]});const C=Ve(new Date(n.published_at),"MMMM dd, yyyy");return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[i.jsxs(Pe,{to:"/dashboard",className:"flex items-center text-gray-400 hover:text-blue-400 transition-colors mb-6",children:[i.jsx(vl,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),i.jsxs(T.article,{className:"bg-gray-800/60 rounded-xl overflow-hidden shadow-xl border border-gray-700/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[n.image_url&&i.jsx("div",{className:"h-72 overflow-hidden",children:i.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-6 md:p-8",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-400 mb-4",children:[i.jsx("span",{className:"px-3 py-1 bg-blue-900/60 text-blue-200 rounded-full",children:n.category}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ut,{className:"h-4 w-4 mr-1"}),C]}),i.jsxs("span",{children:["Source: ",n.source]}),y>0&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(zr,{className:"h-4 w-4 mr-1 text-gray-500"}),i.jsxs("span",{className:"text-gray-500",children:[y," ",y===1?"view":"views"]})]})]}),i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:n.title}),i.jsx("div",{className:"prose prose-invert max-w-none mb-8",children:n.content.split(`
`).map((N,S)=>i.jsx("p",{className:"mb-4 text-gray-300 leading-relaxed",children:N},S))}),n.tags&&n.tags.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(N=>i.jsx("span",{className:"px-3 py-1 bg-gray-700/60 text-gray-300 rounded-full text-sm",children:N},N))})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between border-t border-gray-700 pt-6 gap-3",children:[i.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center",children:["Read Original Article",i.jsx(Ht,{className:"h-4 w-4 ml-1"})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700/50 transition-colors text-gray-400 hover:text-white",children:i.jsx(H2,{className:"h-5 w-5"})}),i.jsx(Rl,{article:n}),i.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700/50 transition-colors text-gray-400 hover:text-white",children:i.jsx(U2,{className:"h-5 w-5"})})]})]})]})]}),l.length>0&&i.jsxs("div",{className:"mt-12",children:[i.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Related Articles"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(N=>i.jsxs(T.div,{className:"bg-gray-800/60 rounded-lg overflow-hidden shadow-lg border border-gray-700/50 hover:border-blue-500/50 transition-all cursor-pointer",whileHover:{y:-5,transition:{duration:.2}},onClick:()=>k(N),children:[i.jsx("div",{className:"h-40 overflow-hidden",children:N.image_url?i.jsx("img",{src:N.image_url,alt:N.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900/40 to-purple-900/40"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-medium text-white line-clamp-2 mb-2",children:N.title}),i.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[i.jsx(Se,{className:"h-3 w-3 mr-1"}),Ve(new Date(N.published_at),"MMM dd, yyyy")]})]})]},N.id))})]})]}),i.jsx(Dl,{article:u,isOpen:h,onClose:()=>f(!1)})]})},at={async triggerAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("aggregate-news",{body:e});if(r)throw console.error("Error from Supabase function:",r),new Error(r.message||"Error calling the aggregation function");return t}catch(t){if(console.error("Error triggering aggregation:",t),typeof t=="object"&&t!==null&&"response"in t)try{const r=t.response;if(typeof r=="string"){const n=JSON.parse(r);if(n.error)throw new Error(n.error)}}catch{}throw t}},async triggerCryptoAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-crypto-news",{body:e});if(r)throw console.error("Error from fetch-crypto-news function:",r),new Error(r.message||"Error calling the crypto news function");return t}catch(t){throw console.error("Error triggering crypto aggregation:",t),t}},async triggerCoindeskAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-coindesk-news",{body:e});if(r)throw console.error("Error from fetch-coindesk-news function:",r),new Error(r.message||"Error calling the CoinDesk news function");return t}catch(t){throw console.error("Error triggering CoinDesk aggregation:",t),t}},async triggerCryptoPanicAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-cryptopanic-news",{body:e});if(r)throw console.error("Error from fetch-cryptopanic-news function:",r),new Error(r.message||"Error calling the CryptoPanic news function");return t}catch(t){throw console.error("Error triggering CryptoPanic aggregation:",t),t}},async triggerFireCrawlAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-firecrawl-news",{body:e});if(r)throw console.error("Error from fetch-firecrawl-news function:",r),new Error(r.message||"Error calling the FireCrawl news function");return t}catch(t){throw console.error("Error triggering FireCrawl aggregation:",t),t}},async triggerScheduledAggregation(){try{const{data:e,error:t}=await L.functions.invoke("scheduled-aggregation",{body:{manual:!0}});if(t)throw console.error("Error from scheduled-aggregation function:",t),new Error(t.message||"Error calling the scheduled aggregation function");return e}catch(e){throw console.error("Error triggering scheduled aggregation:",e),e}},async createCrawlJob(e){try{const{data:t,error:r}=await L.functions.invoke("create-crawl-job",{body:e});if(r)throw console.error("Error from create-crawl-job function:",r),new Error(r.message||"Error calling the create crawl job function");return t}catch(t){throw console.error("Error creating crawl job:",t),t}},async createCrawlJobsFromTable(e={}){try{const{data:t,error:r}=await L.functions.invoke("create-crawl-jobs-from-table",{body:e});if(r)throw console.error("Error from create-crawl-jobs-from-table function:",r),new Error(r.message||"Error calling the create crawl jobs function");return t}catch(t){throw console.error("Error creating crawl jobs:",t),t}},async runCryptoCrawler(){try{const{data:e,error:t}=await L.functions.invoke("supadata-crypto-crawler",{body:{}});if(t)throw console.error("Error from supadata-crypto-crawler function:",t),new Error(t.message||"Error calling the crypto crawler function");return e}catch(e){throw console.error("Error running crypto crawler:",e),e}},async getAggregationStatus(){try{const{data:e,error:t}=await L.from("system_settings").select("*").eq("id","aggregation_status").maybeSingle();return t?(console.error("Error getting aggregation status:",t),{id:"aggregation_status",last_run:null,status:"never_run",articles_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):e||{id:"aggregation_status",last_run:null,status:"never_run",articles_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(e){return console.error("Error getting aggregation status:",e),null}},async getAggregationLogs(e={}){try{const{limit:t=100,status:r,type:n,offset:s=0}=e;let a=L.from("aggregation_logs").select("*").order("created_at",{ascending:!1}).range(s,s+t-1);r&&(a=a.eq("status",r)),n&&(a=a.eq("event_type",n));const{data:o,error:l}=await a;if(l)throw console.error("Error fetching aggregation logs:",l),l;return o||[]}catch(t){return console.error("Error in getAggregationLogs:",t),[]}},async createAggregationLog(e){try{const{data:t,error:r}=await L.from("aggregation_logs").insert({event_type:e.event_type,status:e.status,details:e.details}).select().single();if(r)throw console.error("Error creating aggregation log:",r),r;return t}catch(t){return console.error("Error in createAggregationLog:",t),null}},async getSchedule(){try{const{data:e,error:t}=await L.from("system_settings").select("*").eq("id","aggregation_status").single();if(t){if(t.code==="PGRST116")return{id:"aggregation_status",enabled:!0,frequency:"15min",next_scheduled:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};throw t}return e}catch(e){return console.error("Error getting aggregation schedule:",e),null}},async updateSchedule(e){try{const{data:t,error:r}=await L.from("system_settings").upsert({id:"aggregation_status",...e,updated_at:new Date().toISOString()}).select();if(r)throw r;return await this.createAggregationLog({event_type:"schedule_update",status:"success",details:{frequency:e.frequency,enabled:e.enabled,next_scheduled:e.next_scheduled}}),t}catch(t){throw console.error("Error updating aggregation schedule:",t),t}},async updateCoindeskSettings(e){try{const{data:t,error:r}=await L.from("system_settings").update({coindesk_enabled:e.enabled,coindesk_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"coindesk_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating CoinDesk settings:",t),t}},async updateCryptoPanicSettings(e){try{const{data:t,error:r}=await L.from("system_settings").update({cryptopanic_enabled:e.enabled,cryptopanic_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"cryptopanic_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating CryptoPanic settings:",t),t}},async updateFireCrawlSettings(e){try{const{data:t,error:r}=await L.from("system_settings").update({firecrawl_enabled:e.enabled,firecrawl_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"firecrawl_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating FireCrawl settings:",t),t}}},cw=({status:e,onRefresh:t})=>{const[r,n]=p.useState(!1),[s,a]=p.useState("idle"),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,y]=p.useState(null),[v,b]=p.useState(!1),[j,g]=p.useState(null),[x,m]=p.useState(!0),[w,k]=p.useState(!1),[C,N]=p.useState(null),S=async()=>{try{if(j&&new Date<j){const P=Math.ceil((j.getTime()-new Date().getTime())/1e3/60);l(`Please wait approximately ${P} minutes before trying again to avoid rate limiting`);return}n(!0),a("running"),l(null),h(!0),y(null),b(!1);const E=await at.triggerAggregation({forceUpdate:c,singleCategory:x});y(E),a("completed"),setTimeout(()=>{t(),a("idle")},1e3)}catch(E){console.error("Error triggering aggregation:",E),a("error");let P="An unknown error occurred";try{if(typeof E=="object"&&E!==null)if(E.subType==="supabase-function"&&E.response)try{const I=JSON.parse(E.response);P=I.error||"Error calling Edge Function",console.log("Supabase function error details:",I)}catch{P=E.response}else if(E.response&&typeof E.response.json=="function"){const I=await E.response.json();P=I.error||I.message||P}else E.error?P=E.error:E.message&&(P=E.message)}catch{P=String(E)}l(P);const A=P.toLowerCase();if(A.includes("rate limit")||A.includes("too many fetch errors")||A.includes("too many requests")||A.includes("api issues")||A.includes("try again later")||A.includes("check api key")){b(!0);const I=ro(new Date,15);g(I)}}finally{n(!1)}},_=async()=>{try{k(!0),l(null),N(null);const E=await at.triggerScheduledAggregation();N(E),t()}catch(E){console.error("Error testing scheduled function:",E),l(E instanceof Error?E.message:"Unknown error testing scheduled function")}finally{k(!1)}};return i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"News Aggregation Status"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300 mb-1",children:"Last Aggregation"}),i.jsx("p",{className:"text-lg font-semibold text-white",children:e!=null&&e.last_run?Ve(dn(e.last_run),"MMM dd, yyyy HH:mm:ss"):"Never Run"}),(e==null?void 0:e.last_run)&&i.jsx("p",{className:"text-sm text-gray-400",children:qo(dn(e.last_run),{addSuffix:!0})})]}),i.jsx(zP,{status:e==null?void 0:e.status,count:e==null?void 0:e.articles_count})]}),(e==null?void 0:e.next_scheduled)&&i.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 flex items-center",children:[i.jsx(Ut,{className:"h-4 w-4 text-blue-400 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-300",children:"Next scheduled run:"}),i.jsx("p",{className:"text-white",children:Ve(dn(e.next_scheduled),"MMM dd, yyyy HH:mm:ss")}),i.jsx("p",{className:"text-xs text-gray-400",children:qo(dn(e.next_scheduled),{addSuffix:!0})})]})]}),(e==null?void 0:e.error_message)&&i.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300 flex items-start mt-3",children:[i.jsx(lt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"Error Details:"}),i.jsx("p",{children:e.error_message})]})]}),o&&i.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300 flex items-start mt-3",children:[i.jsx(lt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"Error Details:"}),i.jsx("p",{children:o}),v&&i.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 rounded",children:[i.jsx("p",{className:"font-medium text-yellow-300",children:"NewsAPI Rate Limit Exceeded"}),i.jsx("p",{className:"mt-1",children:"The NewsAPI has rate limits on how many requests can be made. Please wait before trying again."}),j&&i.jsxs("p",{className:"mt-1 flex items-center text-yellow-200",children:[i.jsx(Se,{className:"h-4 w-4 mr-1"}),"Try again after: ",Ve(j,"HH:mm:ss")]}),i.jsx("p",{className:"mt-2 text-xs text-gray-300",children:"For more frequent updates, consider upgrading to a premium NewsAPI account with higher rate limits."})]})]})]}),d&&f&&i.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/70 border border-gray-700/30 rounded-md p-3 text-sm text-gray-300 mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h4",{className:"font-medium flex items-center",children:[i.jsx(z2,{className:"h-4 w-4 mr-2"}),"Aggregation Results"]}),i.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-200",children:"Hide"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:f.message}),f.count>0?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Added ",f.count," new articles"]}),f.categories&&i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mt-2 mb-1",children:"Categories:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(f.categories).map(([E,P])=>i.jsxs("span",{className:"px-2 py-1 bg-gray-700/60 rounded-full text-xs",children:[E,": ",P]},E))})]}),f.languages&&i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mt-2 mb-1",children:"Languages:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(f.languages).map(([E,P])=>i.jsxs("span",{className:"px-2 py-1 bg-gray-700/60 rounded-full text-xs",children:[E,": ",P]},E))})]})]}):i.jsx("p",{children:"No new articles were found to add"}),f.errors&&f.errors.length>0&&i.jsx("div",{className:"mt-2",children:i.jsxs("p",{className:"text-yellow-400 font-medium",children:["Encountered ",f.errors.length," errors during insertion"]})})]})]}),d&&C&&i.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/70 border border-gray-700/30 rounded-md p-3 text-sm text-gray-300 mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h4",{className:"font-medium flex items-center",children:[i.jsx(Se,{className:"h-4 w-4 mr-2"}),"Scheduled Function Test Results"]}),i.jsx("button",{onClick:()=>N(null),className:"text-gray-400 hover:text-gray-200",children:"Hide"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:C.message}),C.status==="skipped"&&i.jsxs("p",{className:"text-yellow-400",children:["Aggregation was skipped: ",C.reason]}),C.result&&i.jsx("p",{children:C.result.count>0?`Added ${C.result.count} new articles`:"No new articles were added"}),C.nextScheduled&&i.jsxs("div",{className:"flex items-center text-blue-300 mt-2",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Next scheduled: ",new Date(C.nextScheduled).toLocaleString()]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[i.jsx("p",{className:"text-gray-300 mb-3",children:"Manual Actions"}),i.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"force-update",checked:c,onChange:E=>u(E.target.checked),className:"h-4 w-4 rounded border-gray-600 text-blue-600 focus:ring-blue-600 bg-gray-700"}),i.jsx("label",{htmlFor:"force-update",className:"ml-2 text-sm text-gray-300",children:"Force Update (bypass duplicate check)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"single-category",checked:x,onChange:E=>m(E.target.checked),className:"h-4 w-4 rounded border-gray-600 text-blue-600 focus:ring-blue-600 bg-gray-700"}),i.jsx("label",{htmlFor:"single-category",className:"ml-2 text-sm text-gray-300",children:"Single Category (avoid rate limiting)"})]}),i.jsx("button",{onClick:S,disabled:r||j&&new Date<j,className:`px-4 py-2 rounded-lg flex items-center ${r||j&&new Date<j?"bg-gray-700 cursor-not-allowed text-gray-400":s==="running"?"bg-blue-900/40 cursor-wait":s==="completed"?"bg-green-600 hover:bg-green-700":s==="error"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Running manual aggregation..."]}):j&&new Date<j?i.jsxs(i.Fragment,{children:[i.jsx(Se,{className:"h-4 w-4 mr-2"}),"Rate limited (try again later)"]}):s==="completed"?i.jsxs(i.Fragment,{children:[i.jsx(ke,{className:"h-4 w-4 mr-2"}),"Aggregation completed"]}):s==="error"?i.jsxs(i.Fragment,{children:[i.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Error, try again"]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2"}),"Run Manual Aggregation Now"]})})]}),i.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg border border-gray-700/30 space-y-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-white flex items-center",children:[i.jsx(Se,{className:"h-4 w-4 mr-2 text-blue-400"}),"Test Scheduled Function"]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Run the scheduled aggregation function manually to test that it's working correctly."}),i.jsx("button",{onClick:_,disabled:w,className:`px-4 py-2 rounded-lg flex items-center text-sm ${w?"bg-blue-900/40 cursor-wait text-gray-300":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:w?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Test Scheduled Function"]})})]})]}),j&&new Date<j&&i.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["NewsAPI rate limit reached. Can run again in approximately ",Math.ceil((j.getTime()-new Date().getTime())/1e3/60)," minutes."]}),i.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[i.jsx("p",{children:"Note: The free NewsAPI plan has strict rate limits. To avoid hitting these limits, aggregations are now limited to fewer categories and articles per run."}),i.jsx("p",{className:"mt-1",children:"Each aggregation request uses only 1 randomly selected category and collects a small number of articles to stay within rate limits."})]})]})]})]})},zP=({status:e,count:t})=>{if(!e)return null;switch(e){case"success":return i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"px-3 py-1 bg-green-900/40 text-green-300 rounded-full text-sm flex items-center",children:[i.jsx(ke,{className:"h-3 w-3 mr-1"}),"Success"]}),t!==void 0&&i.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[t," articles added"]})]});case"partial_success":return i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"px-3 py-1 bg-yellow-900/40 text-yellow-300 rounded-full text-sm flex items-center",children:[i.jsx(lt,{className:"h-3 w-3 mr-1"}),"Partial Success"]}),t!==void 0&&i.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[t," articles added"]})]});case"error":return i.jsxs("span",{className:"px-3 py-1 bg-red-900/40 text-red-300 rounded-full text-sm flex items-center",children:[i.jsx(Nl,{className:"h-3 w-3 mr-1"}),"Failed"]});case"never_run":return i.jsxs("span",{className:"px-3 py-1 bg-yellow-900/40 text-yellow-300 rounded-full text-sm flex items-center",children:[i.jsx(lt,{className:"h-3 w-3 mr-1"}),"Never Run"]});default:return i.jsx("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm",children:"Unknown"})}},HP=({usersCount:e,articlesCount:t,systemStatus:r,onRefresh:n})=>i.jsxs(T.div,{className:"space-y-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Total Users"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:e})]}),i.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Total Articles"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:t})]}),i.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Last Aggregation"}),i.jsx("p",{className:"text-xl font-bold text-white",children:r!=null&&r.last_run?Ve(new Date(r.last_run),"MMM dd, yyyy HH:mm"):"Never"}),(r==null?void 0:r.last_run)&&i.jsx("p",{className:"text-sm text-gray-400",children:qo(new Date(r.last_run),{addSuffix:!0})})]})]}),i.jsx("div",{children:i.jsx(cw,{status:r,onRefresh:n})})]}),WP=({initialUsers:e,loading:t})=>{const[r,n]=p.useState(e||[]),[s,a]=p.useState(t||!1),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState({}),[f,y]=p.useState(null),[v,b]=p.useState(!1);p.useEffect(()=>{e?n(e):j()},[e]),p.useEffect(()=>{r.length>0&&g()},[r]);const j=async()=>{try{a(!0),l(null);const{data:C,error:N}=await L.from("profiles").select("*").order("created_at",{ascending:!1});if(N)throw console.error("Error fetching users:",N),l(`Error fetching users: ${N.message}`),N;n(C||[]),console.log(`Fetched ${(C==null?void 0:C.length)||0} users`)}catch(C){const N=C instanceof Error?C.message:"An unknown error occurred";l(N),console.error("Error in fetchUsers:",C)}finally{a(!1)}},g=async()=>{const C={};try{const N=r.slice(0,10);for(const S of N){const _=await Jt.getUserBookmarks(S.id,!1),E=await Zt.getUserHistory(S.id,100,!1);C[S.id]={bookmarks:_.length,history:E.length}}h(C)}catch(N){console.error("Error fetching user stats:",N)}},x=async()=>{u(!0),await j(),await g(),u(!1)},m=C=>{y(C),b(!0)},w=async C=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{a(!0);const{error:N}=await L.rpc("delete_user",{user_id:C});if(N)throw N;n(r.filter(S=>S.id!==C))}catch(N){console.error("Error deleting user:",N),alert("Failed to delete user. Please try again.")}finally{a(!1)}},k=async C=>{console.log("Edit user:",C)};return s?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jt,{})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:"User Management"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("p",{className:"text-gray-400",children:["Total: ",r.length," users"]}),i.jsx("button",{onClick:x,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",disabled:c,title:"Refresh user list",children:i.jsx(q,{className:`h-4 w-4 text-gray-300 ${c?"animate-spin":""}`})})]})]}),o&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-red-300",children:[i.jsx("h3",{className:"font-medium mb-1",children:"Error"}),i.jsx("p",{children:o})]}),r.length===0&&!s?i.jsx("div",{className:"text-center py-10 bg-gray-800/50 rounded-lg",children:i.jsx("p",{className:"text-gray-400",children:"No users found."})}):i.jsx(T.div,{className:"overflow-x-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-900/30",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Joined"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Login"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Activity"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map(C=>{var N;return i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center mr-3",children:C.avatar_url?i.jsx("img",{src:C.avatar_url,alt:"",className:"h-10 w-10 rounded-full"}):i.jsx("span",{className:"text-white font-medium",children:((N=C.username)==null?void 0:N[0])||"U"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-white",children:C.username}),i.jsx("div",{className:"text-xs text-gray-400",children:C.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C.role==="admin"?"bg-purple-900/40 text-purple-300":"bg-blue-900/40 text-blue-300"}`,children:C.role})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:C.created_at?new Date(C.created_at).toLocaleDateString():"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:C.last_login?new Date(C.last_login).toLocaleDateString():"Never"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex space-x-3 text-xs",children:d[C.id]?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"flex items-center text-blue-300",children:[i.jsx(xs,{className:"h-3.5 w-3.5 mr-1"}),d[C.id].bookmarks]}),i.jsxs("span",{className:"flex items-center text-gray-400",children:[i.jsx(Se,{className:"h-3.5 w-3.5 mr-1"}),d[C.id].history]})]}):i.jsx("span",{className:"text-gray-500",children:"Loading..."})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"View User Data",onClick:()=>m(C),children:i.jsx(sa,{className:"h-4 w-4 text-gray-400"})}),i.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"Edit User",onClick:()=>k(C.id),children:i.jsx(hx,{className:"h-4 w-4 text-gray-400"})}),i.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"Delete User",onClick:()=>w(C.id),children:i.jsx(ah,{className:"h-4 w-4 text-gray-400"})})]})})]},C.id)})})]})}),v&&f&&i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-3xl w-full max-h-[80vh] overflow-auto",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["User Details: ",f.username]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{children:"This feature is not fully implemented in the demo."}),i.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded-lg",onClick:()=>b(!1),children:"Close"})]})]})})]})},qP=({articlesCount:e})=>i.jsxs(T.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Articles Management"}),i.jsxs("p",{className:"text-gray-400",children:["Total: ",e]})]}),i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[i.jsx("p",{className:"text-gray-300 mb-4",children:"Article management is available through Supabase directly."}),i.jsx("p",{className:"text-sm text-gray-400",children:"Supabase provides a powerful interface for managing database records, including filtering, sorting, and bulk operations that are perfect for content management."})]})]}),KP=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,a]=p.useState("all"),[o,l]=p.useState(!1),[c,u]=p.useState(null);p.useEffect(()=>{d()},[s]);const d=async()=>{try{n(!0),u(null);const v={};s==="success"?v.status="success":s==="error"?v.status="error":s==="scheduled"&&(v.type="scheduled_aggregation");const b=await at.getAggregationLogs(v);t(b)}catch(v){console.error("Error fetching aggregation logs:",v),u(v instanceof Error?v.message:"Failed to fetch logs")}finally{n(!1)}},h=async()=>{l(!0),await d(),l(!1)},f=v=>{switch(v){case"success":return i.jsx(ke,{className:"h-4 w-4 text-green-400"});case"error":return i.jsx(Nl,{className:"h-4 w-4 text-red-400"});case"running":return i.jsx(q,{className:"h-4 w-4 text-blue-400 animate-spin"});case"skipped":return i.jsx(Se,{className:"h-4 w-4 text-yellow-400"});default:return i.jsx(Se,{className:"h-4 w-4 text-gray-400"})}},y=v=>{if(!v.details)return"No details available";const b=v.details;switch(v.event_type){case"aggregation":return v.status==="success"?`${b.count||b.articles_count||0} articles added`:b.error||"Error during aggregation";case"crypto_aggregation":return v.status==="success"?`${b.count||0} crypto articles added`:b.error||"Error during crypto aggregation";case"scheduled_aggregation":if(v.status==="success"){const j=b.generalNewsCount||0,g=b.cryptoNewsCount||0;return`Scheduled: ${j+g} articles added (${j} general, ${g} crypto)`}else return v.status==="skipped"?`Scheduled run skipped: ${b.reason}`:b.error||"Error during scheduled aggregation";case"schedule_update":return`Schedule updated: ${b.frequency||"unknown frequency"}, ${b.enabled?"enabled":"disabled"}`;case"migration":return`Migration: ${b.migration||"unknown migration"}`;case"system_migration":return b.message||"System migration";default:return typeof b=="object"?Object.entries(b).map(([j,g])=>`${j}: ${g}`).join(", "):String(b)}};return i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"Aggregation Logs"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>a("all"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="all"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"All"}),i.jsx("button",{onClick:()=>a("success"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="success"?"bg-green-900/40 text-green-300":"text-gray-400 hover:text-white"}`,children:"Success"}),i.jsx("button",{onClick:()=>a("error"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="error"?"bg-red-900/40 text-red-300":"text-gray-400 hover:text-white"}`,children:"Errors"}),i.jsx("button",{onClick:()=>a("scheduled"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="scheduled"?"bg-blue-900/40 text-blue-300":"text-gray-400 hover:text-white"}`,children:"Scheduled"})]}),i.jsx("button",{onClick:h,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",disabled:o||r,title:"Refresh logs",children:i.jsx(q,{className:`h-4 w-4 text-gray-300 ${o?"animate-spin":""}`})})]})]}),c&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-4 text-red-300",children:[i.jsx("h3",{className:"font-medium mb-1",children:"Error"}),i.jsx("p",{children:c})]}),r&&!o?i.jsx("div",{className:"flex justify-center py-6",children:i.jsx(q,{className:"h-6 w-6 text-blue-500 animate-spin"})}):e.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"No logs found"}):i.jsx(T.div,{className:"overflow-x-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-900/30",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Event"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Time"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Details"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-800",children:e.map(v=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center",children:f(v.status)})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-white capitalize",children:v.event_type==="scheduled_aggregation"?i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ut,{className:"h-4 w-4 mr-1 text-blue-400"}),"scheduled"]}):v.event_type.replace(/_/g," ")})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-400",children:Ve(dn(v.created_at),"MMM dd, HH:mm:ss")}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:v.status==="success"?i.jsx("span",{children:y(v)}):i.jsx("span",{className:"text-red-400",children:y(v)})})]},v.id))})]})})]})},GP=({systemStatus:e,onRefresh:t})=>i.jsxs(T.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsx("div",{children:i.jsx(cw,{status:e,onRefresh:t})}),i.jsx(KP,{}),i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"API Configuration"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"NewsAPI.org API Key"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"text",value:"efc7d919e7af413ba5a7f4a3ebdb3862",readOnly:!0,className:"flex-1 bg-gray-800 border border-gray-700 rounded-l-lg px-3 py-2 text-gray-300"}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r-lg",children:"Update"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Edge Function URL: https://yvprahxaturmpzcdzddb.supabase.co/functions/v1/aggregate-news"})]})})]})]}),YP=({onUpdate:e})=>{const[t,r]=p.useState(!0),[n,s]=p.useState(null),[a,o]=p.useState(!0),[l,c]=p.useState("15min"),[u,d]=p.useState(!1),[h,f]=p.useState(!1),[y,v]=p.useState(null),[b,j]=p.useState(null),g=[{value:"15min",label:"Every 15 minutes"},{value:"30min",label:"Every 30 minutes"},{value:"1hour",label:"Every hour"},{value:"3hours",label:"Every 3 hours"},{value:"6hours",label:"Every 6 hours"},{value:"12hours",label:"Every 12 hours"},{value:"24hours",label:"Once a day"}];p.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0),v(null);const k=await at.getSchedule();k&&(s(k),o(k.enabled),c(k.frequency||"15min"));const C=await at.getAggregationLogs({limit:10,type:"scheduled_aggregation"});if(C.length>0){const N=C.find(S=>S.status==="success");N&&j(N.created_at)}}catch(k){console.error("Error fetching schedule:",k),v(k instanceof Error?k.message:"Failed to fetch schedule")}finally{r(!1)}},m=k=>{const C=new Date;switch(k){case"15min":return ro(C,15).toISOString();case"30min":return ro(C,30).toISOString();case"1hour":return Ws(C,1).toISOString();case"3hours":return Ws(C,3).toISOString();case"6hours":return Ws(C,6).toISOString();case"12hours":return Ws(C,12).toISOString();case"24hours":return Ws(C,24).toISOString();default:return ro(C,15).toISOString()}},w=async()=>{try{d(!0),v(null);const k={enabled:a,frequency:l,next_scheduled:a?m(l):null};await at.updateSchedule(k),await x(),e(),f(!0),setTimeout(()=>f(!1),3e3)}catch(k){console.error("Error updating schedule:",k),v(k instanceof Error?k.message:"Failed to update schedule")}finally{d(!1)}};return t?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(q,{className:"h-6 w-6 text-blue-500 animate-spin"})}):i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg space-y-6",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Aggregation Schedule"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Enable Scheduled Aggregation"}),i.jsx("button",{onClick:()=>o(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full ${a?"bg-blue-600":"bg-gray-700"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${a?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Aggregation Frequency"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:g.map(k=>i.jsxs("button",{onClick:()=>c(k.value),disabled:!a,className:`flex justify-between items-center w-full p-3 rounded-lg transition-colors ${a?l===k.value?"bg-blue-900/40 border-blue-500/70 text-blue-200 border":"bg-gray-800/40 border border-gray-700 text-gray-300 hover:bg-gray-700/70":"bg-gray-800/40 text-gray-500 cursor-not-allowed border border-gray-700/50"}`,children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Se,{className:"h-4 w-4 mr-2"}),k.label]}),l===k.value&&a&&i.jsx(ke,{className:"h-4 w-4"})]},k.value))})]}),b&&i.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center text-gray-300 mb-2",children:[i.jsx(Se,{className:"h-4 w-4 mr-2 text-green-400"}),i.jsx("span",{className:"text-sm font-medium",children:"Last Automated Run"})]}),i.jsx("p",{className:"text-white",children:Ve(dn(b),"MMM dd, yyyy HH:mm:ss")})]}),a&&(n==null?void 0:n.next_scheduled)&&i.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center text-gray-300 mb-2",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2 text-blue-400"}),i.jsx("span",{className:"text-sm font-medium",children:"Next Scheduled Run"})]}),i.jsx("p",{className:"text-lg text-white",children:Ve(dn(n.next_scheduled),"MMM dd, yyyy HH:mm:ss")})]}),y&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300",children:[i.jsx("p",{className:"font-medium",children:"Error:"}),i.jsx("p",{children:y})]}),i.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-md p-3 text-sm text-blue-300",children:[i.jsx("p",{className:"font-medium mb-2",children:"About Automated Aggregation:"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[i.jsx("li",{children:"Articles will be automatically fetched according to the schedule you set"}),i.jsx("li",{children:"The system will automatically adjust for rate limits to avoid API issues"}),i.jsx("li",{children:"Each automated run fetches a small batch of articles to stay within API limits"}),i.jsx("li",{children:"The schedule works with Supabase's built-in cron scheduler"})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[i.jsx("button",{onClick:w,disabled:u,className:`px-4 py-2 rounded-lg flex items-center ${u?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:u?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsx(i.Fragment,{children:"Save Schedule"})}),h&&i.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 text-sm text-green-400 flex items-center",children:[i.jsx(ke,{className:"h-4 w-4 mr-1"}),"Schedule saved successfully"]})]})]})]})},XP=()=>{const[e,t]=p.useState(!0),[r,n]=p.useState(!1),[s,a]=p.useState(null),[o,l]=p.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,y]=p.useState(!1),[v,b]=p.useState(null);p.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),a(null);const{data:w,error:k}=await L.from("system_settings").select("coindesk_enabled, coindesk_api_key, coindesk_last_run, coindesk_rate_limited").eq("id","aggregation_status").single();if(k)throw k;l({enabled:w.coindesk_enabled||!1,api_key:w.coindesk_api_key||"",last_run:w.coindesk_last_run,rate_limited:w.coindesk_rate_limited||!1})}catch(w){console.error("Error fetching CoinDesk settings:",w),a(w instanceof Error?w.message:"Failed to load CoinDesk settings")}finally{t(!1)}},g=async()=>{try{n(!0),a(null),await at.updateCoindeskSettings({enabled:o.enabled,api_key:o.api_key}),h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(w){console.error("Error saving CoinDesk settings:",w),a(w instanceof Error?w.message:"Failed to save settings")}finally{n(!1)}},x=()=>{l(w=>({...w,enabled:!w.enabled}))},m=async()=>{try{y(!0),a(null),b(null);const w=await at.triggerCoindeskAggregation();b(w),await j()}catch(w){console.error("Error running CoinDesk aggregation:",w),a(w instanceof Error?w.message:"Failed to run CoinDesk aggregation")}finally{y(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"CoinDesk API Configuration"}),i.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:i.jsx(q,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&i.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[i.jsx(ke,{className:"h-5 w-5 mr-2"}),"CoinDesk settings saved successfully"]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-700/50",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Enable CoinDesk API"}),i.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"CoinDesk API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:w=>l(k=>({...k,api_key:w.target.value})),placeholder:"Enter your CoinDesk API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),i.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?i.jsx(rh,{className:"h-5 w-5"}):i.jsx(zr,{className:"h-5 w-5"})})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Required to use the CoinDesk API. You can get a key by signing up at"," ",i.jsx("a",{href:"https://api.coindesk.com/sign-up",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"api.coindesk.com"})]})]}),o.last_run&&i.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",i.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&i.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[i.jsx(lt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 24 hours."]})]}),i.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(lt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"About the CoinDesk API"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[i.jsx("li",{children:"The CoinDesk API has strict rate limits for free accounts"}),i.jsx("li",{children:"Rate limits are typically 10 requests per day"}),i.jsx("li",{children:"If rate limited, the system will automatically disable requests for 24 hours"}),i.jsx("li",{children:"Enable this option only if you have a valid API key"})]})]})]})}),i.jsxs("div",{className:"flex justify-between items-center pt-4",children:[i.jsx("button",{onClick:g,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bl,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),i.jsx("button",{onClick:m,disabled:f||!o.enabled||!o.api_key||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||!o.api_key||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2"}),"Run CoinDesk Aggregation"]})})]})]})}),v&&i.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),i.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?i.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from CoinDesk"]}):i.jsx("p",{className:"text-yellow-400",children:"No new articles were added from CoinDesk"}),v.status==="skipped"&&i.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[i.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),i.jsx("p",{className:"text-sm mt-1",children:v.reason||"CoinDesk API is disabled in system settings"})]}),v.error&&i.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[i.jsx("p",{className:"font-medium",children:"Error:"}),i.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},QP=()=>{const[e,t]=p.useState(!0),[r,n]=p.useState(!1),[s,a]=p.useState(null),[o,l]=p.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,y]=p.useState(!1),[v,b]=p.useState(null);p.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),a(null);const{data:w,error:k}=await L.from("system_settings").select("cryptopanic_enabled, cryptopanic_api_key, cryptopanic_last_run, cryptopanic_rate_limited").eq("id","aggregation_status").single();if(k)throw k;l({enabled:w.cryptopanic_enabled||!1,api_key:w.cryptopanic_api_key||"",last_run:w.cryptopanic_last_run,rate_limited:w.cryptopanic_rate_limited||!1})}catch(w){console.error("Error fetching CryptoPanic settings:",w),a(w instanceof Error?w.message:"Failed to load CryptoPanic settings")}finally{t(!1)}},g=async()=>{try{n(!0),a(null);const{error:w}=await L.from("system_settings").update({cryptopanic_enabled:o.enabled,cryptopanic_api_key:o.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status");if(w)throw w;h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(w){console.error("Error saving CryptoPanic settings:",w),a(w instanceof Error?w.message:"Failed to save settings")}finally{n(!1)}},x=()=>{l(w=>({...w,enabled:!w.enabled}))},m=async()=>{try{y(!0),a(null),b(null);const w=await at.triggerCryptoPanicAggregation();b(w),await j()}catch(w){console.error("Error running CryptoPanic aggregation:",w),a(w instanceof Error?w.message:"Failed to run CryptoPanic aggregation")}finally{y(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"CryptoPanic API Configuration"}),i.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:i.jsx(q,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&i.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[i.jsx(ke,{className:"h-5 w-5 mr-2"}),"CryptoPanic settings saved successfully"]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-700/50",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Enable CryptoPanic API"}),i.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"CryptoPanic API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:w=>l(k=>({...k,api_key:w.target.value})),placeholder:"Enter your CryptoPanic API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),i.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?i.jsx(rh,{className:"h-5 w-5"}):i.jsx(zr,{className:"h-5 w-5"})})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Required to use the CryptoPanic API. You can get a key by signing up at"," ",i.jsx("a",{href:"https://cryptopanic.com/developers/api/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"cryptopanic.com/developers/api"})]})]}),o.last_run&&i.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",i.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&i.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[i.jsx(lt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 1 hour."]})]}),i.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(lt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"About the CryptoPanic API"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[i.jsx("li",{children:"Free API tier has rate limits of 5 requests per second"}),i.jsx("li",{children:"PRO API tier has higher rate limits of 10 requests per second"}),i.jsx("li",{children:"If rate limited, the system will automatically disable requests for 1 hour"}),i.jsx("li",{children:"The API provides trending cryptocurrency news from multiple sources"})]})]})]})}),i.jsxs("div",{className:"flex justify-between items-center pt-4",children:[i.jsx("button",{onClick:g,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bl,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),i.jsx("button",{onClick:m,disabled:f||!o.enabled||!o.api_key||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||!o.api_key||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2"}),"Run CryptoPanic Aggregation"]})})]})]})}),v&&i.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),i.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?i.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from CryptoPanic"]}):i.jsx("p",{className:"text-yellow-400",children:"No new articles were added from CryptoPanic"}),v.status==="skipped"&&i.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[i.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),i.jsx("p",{className:"text-sm mt-1",children:v.reason||"CryptoPanic API is disabled in system settings"})]}),v.error&&i.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[i.jsx("p",{className:"font-medium",children:"Error:"}),i.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},JP=()=>{const[e,t]=p.useState(!0),[r,n]=p.useState(!1),[s,a]=p.useState(null),[o,l]=p.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,y]=p.useState(!1),[v,b]=p.useState(null);p.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),a(null);const{data:w,error:k}=await L.from("system_settings").select("firecrawl_enabled, firecrawl_api_key, firecrawl_last_run, firecrawl_rate_limited").eq("id","aggregation_status").single();if(k)throw k;l({enabled:w.firecrawl_enabled||!1,api_key:w.firecrawl_api_key||"",last_run:w.firecrawl_last_run,rate_limited:w.firecrawl_rate_limited||!1})}catch(w){console.error("Error fetching FireCrawl settings:",w),a(w instanceof Error?w.message:"Failed to load FireCrawl settings")}finally{t(!1)}},g=async()=>{try{n(!0),a(null),await at.updateFireCrawlSettings({enabled:o.enabled,api_key:o.api_key}),h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(w){console.error("Error saving FireCrawl settings:",w),a(w instanceof Error?w.message:"Failed to save settings")}finally{n(!1)}},x=()=>{l(w=>({...w,enabled:!w.enabled}))},m=async()=>{try{y(!0),a(null),b(null);const w=await at.triggerFireCrawlAggregation();b(w),await j()}catch(w){console.error("Error running FireCrawl aggregation:",w),a(w instanceof Error?w.message:"Failed to run FireCrawl aggregation")}finally{y(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"FireCrawl API Configuration"}),i.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:i.jsx(q,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&i.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[i.jsx(ke,{className:"h-5 w-5 mr-2"}),"FireCrawl settings saved successfully"]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-700/50",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Enable FireCrawl API"}),i.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"FireCrawl API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:w=>l(k=>({...k,api_key:w.target.value})),placeholder:"Enter your FireCrawl API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),i.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?i.jsx(rh,{className:"h-5 w-5"}):i.jsx(zr,{className:"h-5 w-5"})})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Default key is provided, but for production use, get your own key from"," ",i.jsx("a",{href:"https://firecrawl.dev",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"firecrawl.dev"})]})]}),o.last_run&&i.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",i.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&i.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[i.jsx(lt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 1 hour."]})]}),i.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(lt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"About FireCrawl"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[i.jsx("li",{children:"Crawls multiple crypto news sources including Tree of Alpha and TradingView"}),i.jsx("li",{children:"Extracts structured news data from web pages"}),i.jsx("li",{children:"Automatically runs every 15 minutes to keep your feed updated"}),i.jsx("li",{children:"Focuses on Bitcoin, Ethereum, Solana, TON, and XRP news"})]})]})]})}),i.jsxs("div",{className:"flex justify-between items-center pt-4",children:[i.jsx("button",{onClick:g,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bl,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),i.jsx("button",{onClick:m,disabled:f||!o.enabled||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2"}),"Run FireCrawl Aggregation"]})})]})]})}),v&&i.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),i.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?i.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from FireCrawl"]}):i.jsx("p",{className:"text-yellow-400",children:"No new articles were added from FireCrawl"}),v.status==="skipped"&&i.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[i.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),i.jsx("p",{className:"text-sm mt-1",children:v.reason||"FireCrawl API is disabled in system settings"})]}),v.error&&i.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[i.jsx("p",{className:"font-medium",children:"Error:"}),i.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},ZP={async enableCryptoIntegrations(){try{const{data:e,error:t}=await L.functions.invoke("update-crypto-settings");return t?(console.error("Error enabling crypto integrations:",t),{success:!1,message:"Failed to enable crypto integrations",error:t.message}):{success:!0,message:(e==null?void 0:e.message)||"Successfully enabled all crypto integrations"}}catch(e){return console.error("Error in enableCryptoIntegrations:",e),{success:!1,message:"An error occurred while enabling crypto integrations",error:e instanceof Error?e.message:String(e)}}},async runFireCrawlAggregation(){try{const{data:e,error:t}=await L.functions.invoke("fetch-firecrawl-news",{body:{forceUpdate:!0}});if(t)throw t;return e}catch(e){throw console.error("Error running FireCrawl aggregation:",e),e}},async runCryptoPanicAggregation(){try{const{data:e,error:t}=await L.functions.invoke("fetch-cryptopanic-news",{body:{forceUpdate:!0}});if(t)throw t;return e}catch(e){throw console.error("Error running CryptoPanic aggregation:",e),e}},async runCoinDeskAggregation(){try{const{data:e,error:t}=await L.functions.invoke("fetch-coindesk-news",{body:{forceUpdate:!0}});if(t)throw t;return e}catch(e){throw console.error("Error running CoinDesk aggregation:",e),e}}},eT=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(null),s=async()=>{t(!0);try{const a=await ZP.enableCryptoIntegrations();n(a)}catch(a){n({success:!1,message:"An error occurred",error:a instanceof Error?a.message:String(a)})}finally{t(!1)}};return i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg border border-gray-700/50",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(ux,{className:"h-5 w-5 mr-2 text-yellow-400"}),i.jsx("h3",{className:"text-lg font-medium text-white",children:"Crypto Integrations Manager"})]}),i.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4 mb-6",children:[i.jsx("p",{className:"text-blue-300 text-sm",children:"This will enable all crypto news integrations with your API keys:"}),i.jsxs("ul",{className:"mt-2 space-y-1 text-gray-300 text-sm pl-6 list-disc",children:[i.jsx("li",{children:"CryptoPanic"}),i.jsx("li",{children:"FireCrawl"}),i.jsx("li",{children:"CoinDesk"})]})]}),r&&i.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-4 mb-6 rounded-lg border ${r.success?"bg-green-900/30 border-green-800/30 text-green-300":"bg-red-900/30 border-red-800/30 text-red-300"}`,children:i.jsxs("div",{className:"flex items-start",children:[r.success?i.jsx(S2,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}):i.jsx(b2,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:r.message}),r.error&&i.jsx("p",{className:"mt-2 text-sm",children:r.error})]})]})}),i.jsx("button",{onClick:s,disabled:e,className:`w-full flex items-center justify-center px-4 py-2 rounded-lg ${e?"bg-blue-700/50 cursor-wait text-gray-300":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:e?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Enabling Integrations..."]}):"Enable All Crypto Integrations"})]})},tT=()=>{const[e,t]=p.useState("Sentro"),[r,n]=p.useState("all"),[s,a]=p.useState(!1),[o,l]=p.useState(!1),c=()=>{a(!0),setTimeout(()=>{a(!1),alert("Settings saved successfully")},1e3)},u=()=>{l(!0)},d=()=>{alert("This feature is not implemented in the demo"),l(!1)};return i.jsxs(T.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsx(eT,{}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(XP,{}),i.jsx(QP,{}),i.jsx(JP,{})]}),i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"System Settings"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Default User Preferences"}),i.jsxs("select",{value:r,onChange:h=>n(h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Categories"}),i.jsx("option",{value:"business",children:"Business"}),i.jsx("option",{value:"technology",children:"Technology"}),i.jsx("option",{value:"web3",children:"Web3"})]})]}),i.jsx("button",{onClick:c,disabled:s,className:`px-4 py-2 ${s?"bg-blue-700/60 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white rounded-lg transition-colors`,children:s?"Saving...":"Save Settings"})]})]}),i.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Danger Zone"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"p-4 border border-red-800/30 rounded-lg bg-red-900/20",children:[i.jsx("h4",{className:"text-red-300 font-medium mb-2",children:"Clear All Articles"}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"This will permanently delete all articles from the database. This action cannot be undone."}),o?i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Delete"}),i.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]}):i.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear Articles"})]})})]})]})},rT=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,a]=p.useState(null),[o,l]=p.useState(null),[c,u]=p.useState({name:"",url:"",type:"rss",article_limit:50}),[d,h]=p.useState(!1),[f,y]=p.useState(!1),[v,b]=p.useState(!1),[j,g]=p.useState(null);p.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0),a(null);const{data:_,error:E}=await L.from("crypto_crawl_sites").select("*").order("name");if(E)throw E;t(_||[])}catch(_){console.error("Error fetching crypto sources:",_),a(_ instanceof Error?_.message:"Failed to fetch sources")}finally{n(!1)}},m=_=>{l({..._})},w=()=>{l(null)},k=async()=>{if(o)try{n(!0),a(null);const{error:_}=await L.from("crypto_crawl_sites").update({name:o.name,url:o.url,type:o.type,article_limit:o.article_limit,updated_at:new Date().toISOString()}).eq("id",o.id);if(_)throw _;await x(),l(null),y(!0),setTimeout(()=>y(!1),3e3)}catch(_){console.error("Error updating source:",_),a(_ instanceof Error?_.message:"Failed to update source")}finally{n(!1)}},C=async _=>{if(window.confirm("Are you sure you want to delete this source?"))try{n(!0),a(null);const{error:E}=await L.from("crypto_crawl_sites").delete().eq("id",_);if(E)throw E;await x()}catch(E){console.error("Error deleting source:",E),a(E instanceof Error?E.message:"Failed to delete source")}finally{n(!1)}},N=async()=>{var _,E,P;try{if(n(!0),a(null),!((_=c.name)!=null&&_.trim())||!((E=c.url)!=null&&E.trim())||!((P=c.type)!=null&&P.trim())){a("Name, URL, and type are required"),n(!1);return}const{error:A}=await L.from("crypto_crawl_sites").insert({name:c.name.trim(),url:c.url.trim(),type:c.type,article_limit:c.article_limit||50});if(A)throw A;u({name:"",url:"",type:"rss",article_limit:50}),h(!1),await x(),y(!0),setTimeout(()=>y(!1),3e3)}catch(A){console.error("Error adding source:",A),a(A instanceof Error?A.message:"Failed to add source")}finally{n(!1)}},S=async()=>{try{b(!0),a(null),g(null);const _=await at.triggerCryptoAggregation();g(_)}catch(_){console.error("Error running crypto aggregation:",_),a(_ instanceof Error?_.message:"Failed to run crypto aggregation")}finally{b(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Crypto News Sources"}),i.jsx("div",{className:"flex space-x-3",children:i.jsx("button",{onClick:x,disabled:r,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh sources",children:i.jsx(q,{className:`h-4 w-4 text-gray-300 ${r?"animate-spin":""}`})})})]}),s&&i.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),f&&i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[i.jsx(ke,{className:"h-5 w-5 mr-2"}),"Changes saved successfully"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[i.jsxs("div",{className:"p-4 bg-gray-900/30 border-b border-gray-700/50 flex justify-between items-center",children:[i.jsx("h3",{className:"font-medium text-white",children:"Configured Sources"}),i.jsx("button",{onClick:()=>h(!d),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:d?i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"h-4 w-4 mr-1"}),"Cancel"]}):i.jsxs(i.Fragment,{children:[i.jsx(Lo,{className:"h-4 w-4 mr-1"}),"Add Source"]})})]}),d&&i.jsxs("div",{className:"p-4 border-b border-gray-700/50 bg-gray-800/30",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Add New Source"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),i.jsx("input",{type:"text",value:c.name||"",onChange:_=>u({...c,name:_.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",placeholder:"CoinDesk"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Type"}),i.jsxs("select",{value:c.type||"rss",onChange:_=>u({...c,type:_.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",children:[i.jsx("option",{value:"rss",children:"RSS Feed"}),i.jsx("option",{value:"api",children:"API"}),i.jsx("option",{value:"html",children:"HTML Scraper"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"URL"}),i.jsx("input",{type:"text",value:c.url||"",onChange:_=>u({...c,url:_.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",placeholder:"https://example.com/rss"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Limit"}),i.jsx("input",{type:"number",value:c.article_limit||50,onChange:_=>u({...c,article_limit:parseInt(_.target.value)}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",min:"1",max:"100"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:N,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[r?i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Add Source"]})})]}),r&&e.length===0?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"inline-block w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"mt-2 text-gray-400",children:"Loading sources..."})]}):e.length===0?i.jsx("div",{className:"p-6 text-center text-gray-400",children:"No sources configured yet. Add your first source to get started."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-900/40",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"URL"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Limit"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-800",children:e.map(_=>i.jsx("tr",{children:(o==null?void 0:o.id)===_.id?i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("input",{type:"text",value:o.name,onChange:E=>l({...o,name:E.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white"})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsxs("select",{value:o.type,onChange:E=>l({...o,type:E.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white",children:[i.jsx("option",{value:"rss",children:"RSS Feed"}),i.jsx("option",{value:"api",children:"API"}),i.jsx("option",{value:"html",children:"HTML Scraper"})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("input",{type:"text",value:o.url,onChange:E=>l({...o,url:E.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white"})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("input",{type:"number",value:o.article_limit,onChange:E=>l({...o,article_limit:parseInt(E.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white",min:"1",max:"100"})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:k,className:"p-1 rounded text-green-400 hover:bg-gray-700",title:"Save",children:i.jsx(ke,{className:"h-5 w-5"})}),i.jsx("button",{onClick:w,className:"p-1 rounded text-red-400 hover:bg-gray-700",title:"Cancel",children:i.jsx(kn,{className:"h-5 w-5"})})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-white",children:_.name})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-700",children:_.type})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:i.jsx("div",{className:"max-w-xs truncate",children:_.url})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300",children:_.article_limit}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>m(_),className:"p-1 rounded text-blue-400 hover:bg-gray-700",title:"Edit",children:i.jsx(hx,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>C(_.id),className:"p-1 rounded text-red-400 hover:bg-gray-700",title:"Delete",children:i.jsx(W2,{className:"h-5 w-5"})})]})})]})},_.id))})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 p-6",children:[i.jsxs("h3",{className:"font-medium text-white mb-4 flex items-center",children:[i.jsx(sa,{className:"h-5 w-5 mr-2 text-blue-400"}),"Crypto News Aggregation"]}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Manually trigger the crypto news aggregation process to fetch the latest articles from all configured sources."}),i.jsx("button",{onClick:S,disabled:v,className:`px-4 py-2 rounded-lg flex items-center ${v?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:v?i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Fetching crypto news..."]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"h-4 w-4 mr-2"}),"Run Crypto Aggregation Now"]})}),j&&i.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-800/70 border border-gray-700/30 rounded-lg text-sm",children:[i.jsx("h4",{className:"font-medium text-white mb-2",children:"Aggregation Results"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-gray-300",children:j.message}),j.count>0?i.jsxs("p",{className:"text-green-400",children:["Added ",j.count," new articles"]}):i.jsx("p",{className:"text-yellow-400",children:"No new articles were added"}),j.sources&&Object.keys(j.sources).length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 mt-2 mb-1",children:"Articles by source:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(j.sources).map(([_,E])=>i.jsxs("div",{className:"bg-gray-900/40 px-3 py-1 rounded-md text-xs flex justify-between",children:[i.jsx("span",{children:_}),i.jsx("span",{className:"text-blue-400",children:E})]},_))})]}),j.errors&&j.errors.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-red-400",children:"Errors:"}),i.jsx("div",{className:"bg-red-900/20 p-2 rounded-md text-red-300 mt-1 text-xs",children:j.errors.map((_,E)=>i.jsxs("div",{className:"mb-1 last:mb-0",children:[_.source,": ",_.error]},E))})]})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 p-6",children:[i.jsx("h3",{className:"font-medium text-white mb-4",children:"About Crypto News Aggregation"}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[i.jsx("p",{children:"The crypto news aggregator fetches articles from RSS feeds of popular cryptocurrency news sites."}),i.jsx("p",{children:"Features of the aggregation system:"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-400",children:[i.jsx("li",{children:"Automatically runs with the scheduled aggregation every 15 minutes"}),i.jsx("li",{children:"Fetches from multiple sources in a single run"}),i.jsx("li",{children:"Deduplicates articles to avoid storing the same article twice"}),i.jsx("li",{children:"Extracts metadata like images, tags, and publication dates"}),i.jsx("li",{children:"Categorizes articles based on content"})]}),i.jsxs("div",{className:"bg-blue-900/30 border border-blue-700/30 rounded-md p-3 flex items-start mt-2",children:[i.jsx(lt,{className:"h-5 w-5 mr-2 text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-300",children:"Supported RSS Types"}),i.jsx("p",{className:"mt-1 text-gray-300",children:"The system supports standard RSS feeds and Atom feeds. API integrations can be added for sources that provide structured data APIs."})]})]})]})]})]})]})]})},ie={DASHBOARD:"dashboard",USERS:"users",ARTICLES:"articles",AGGREGATION:"aggregation",SCHEDULE:"schedule",CRYPTO:"crypto",SETTINGS:"settings"},nT=()=>{const{isAdmin:e,loading:t}=be(),[r,n]=p.useState(ie.DASHBOARD),[s,a]=p.useState([]),[o,l]=p.useState(0),[c,u]=p.useState(!0),[d,h]=p.useState(null),[f,y]=p.useState(null);p.useEffect(()=>{e&&v()},[e,r]);async function v(){u(!0),y(null);try{const b=await at.getAggregationStatus();if(h(b),r===ie.USERS||r===ie.DASHBOARD){console.log("Fetching users for admin dashboard");const{data:j,error:g}=await L.from("profiles").select("*").order("created_at",{ascending:!1});if(g)throw console.error("Error fetching users:",g),y(`Error fetching users: ${g.message}`),g;a(j||[]),console.log(`Fetched ${(j==null?void 0:j.length)||0} users`)}if(r===ie.ARTICLES||r===ie.DASHBOARD){const{count:j,error:g}=await L.from("articles").select("*",{count:"exact",head:!0});if(g)throw console.error("Error counting articles:",g),y(`Error counting articles: ${g.message}`),g;l(j||0)}}catch(b){console.error("Error fetching admin data:",b instanceof Error?b.message:b),f||y("Error fetching admin data. Please try again.")}finally{u(!1)}}return t?i.jsx(jt,{}):e?i.jsxs("div",{className:"space-y-6",children:[i.jsx(T.h1,{className:"text-3xl font-bold text-white",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Admin Dashboard"}),f&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-red-300",children:[i.jsx("h3",{className:"font-medium mb-1",children:"Error"}),i.jsx("p",{children:f})]}),i.jsxs("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"flex flex-wrap text-sm font-medium text-center border-b border-gray-700",children:[i.jsx(Jr,{isActive:r===ie.DASHBOARD,onClick:()=>n(ie.DASHBOARD),icon:i.jsx(Do,{className:"h-4 w-4 mr-2"}),label:"Dashboard"}),i.jsx(Jr,{isActive:r===ie.USERS,onClick:()=>n(ie.USERS),icon:i.jsx(Lu,{className:"h-4 w-4 mr-2"}),label:"Users"}),i.jsx(Jr,{isActive:r===ie.ARTICLES,onClick:()=>n(ie.ARTICLES),icon:i.jsx(E2,{className:"h-4 w-4 mr-2"}),label:"Articles"}),i.jsx(Jr,{isActive:r===ie.AGGREGATION,onClick:()=>n(ie.AGGREGATION),icon:i.jsx(Se,{className:"h-4 w-4 mr-2"}),label:"Manual"}),i.jsx(Jr,{isActive:r===ie.SCHEDULE,onClick:()=>n(ie.SCHEDULE),icon:i.jsx(Ut,{className:"h-4 w-4 mr-2"}),label:"Scheduler"}),i.jsx(Jr,{isActive:r===ie.CRYPTO,onClick:()=>n(ie.CRYPTO),icon:i.jsx(sa,{className:"h-4 w-4 mr-2"}),label:"Crypto News"}),i.jsx(Jr,{isActive:r===ie.SETTINGS,onClick:()=>n(ie.SETTINGS),icon:i.jsx(Io,{className:"h-4 w-4 mr-2"}),label:"Settings"})]}),i.jsx("div",{className:"p-6",children:c?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jt,{})}):i.jsxs(i.Fragment,{children:[r===ie.DASHBOARD&&i.jsx(HP,{usersCount:s.length,articlesCount:o,systemStatus:d,onRefresh:v}),r===ie.USERS&&i.jsx(WP,{initialUsers:s}),r===ie.ARTICLES&&i.jsx(qP,{articlesCount:o}),r===ie.AGGREGATION&&i.jsx(GP,{systemStatus:d,onRefresh:v}),r===ie.SCHEDULE&&i.jsx(YP,{onUpdate:v}),r===ie.CRYPTO&&i.jsx(rT,{}),r===ie.SETTINGS&&i.jsx(tT,{})]})})]})]}):i.jsx(ms,{to:"/dashboard",replace:!0})},Jr=({isActive:e,onClick:t,icon:r,label:n})=>i.jsxs("button",{onClick:t,className:`px-5 py-3 flex items-center ${e?"bg-blue-900/30 text-blue-400 border-b-2 border-blue-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-300"}`,children:[r,n]}),sT=({userId:e,onSaved:t})=>{const[r,n]=p.useState(null),[s,a]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState(!1),[f,y]=p.useState(""),[v,b]=p.useState(""),j=m2(),g=p2(),x=f2();p.useEffect(()=>{(async()=>{try{a(!0),u(null);const A=await ys(e);n(A||Bi(e))}catch(A){console.error("Error fetching user preferences:",A),u("Failed to load your preferences. Please try again.")}finally{a(!1)}})()},[e]);const m=()=>{var A;if(!f.trim()||!r)return;const P=f.trim().toLowerCase();if((A=r.keywords)!=null&&A.includes(P)){y("");return}n({...r,keywords:[...r.keywords||[],P]}),y("")},w=P=>{var A;r&&n({...r,keywords:((A=r.keywords)==null?void 0:A.filter(I=>I!==P))||[]})},k=()=>{var A;if(!v.trim()||!r)return;const P=v.trim().toLowerCase();if((A=r.excluded_keywords)!=null&&A.includes(P)){b("");return}n({...r,excluded_keywords:[...r.excluded_keywords||[],P]}),b("")},C=P=>{var A;r&&n({...r,excluded_keywords:((A=r.excluded_keywords)==null?void 0:A.filter(I=>I!==P))||[]})},N=P=>{if(!r)return;const A=r.categories||[];A.includes(P)?n({...r,categories:A.filter(I=>I!==P)}):n({...r,categories:[...A,P]})},S=P=>{if(!r)return;const A=r.sources||[];A.includes(P)?n({...r,sources:A.filter(I=>I!==P)}):n({...r,sources:[...A,P]})},_=P=>{if(!r)return;const A=r.languages||[];if(A.includes(P)){if(A.length<=1)return;n({...r,languages:A.filter(I=>I!==P)})}else n({...r,languages:[...A,P]})},E=async()=>{if(r)try{l(!0),u(null),h(!1);const P={...r,user_id:e};await Ui(P)?(h2(e),h(!0),setTimeout(()=>h(!1),3e3),t&&t()):u("Failed to save preferences. Please try again.")}catch(P){console.error("Error saving preferences:",P),u("An error occurred while saving your preferences.")}finally{l(!1)}};return s?i.jsx("div",{className:"flex justify-center py-6",children:i.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):r?i.jsxs("div",{className:"space-y-8",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"Keywords to Track"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:f,onChange:P=>y(P.target.value),placeholder:"e.g., Bitcoin, AI, Investment",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",onKeyDown:P=>P.key==="Enter"&&m()}),i.jsxs("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(Lo,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.keywords&&r.keywords.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:r.keywords.map(P=>i.jsxs("div",{className:"bg-blue-900/40 px-3 py-1 rounded-full text-blue-200 text-sm flex items-center",children:[P,i.jsx("button",{onClick:()=>w(P),className:"ml-2 text-blue-300 hover:text-blue-100",children:i.jsx(kn,{className:"h-3 w-3"})})]},P))}):i.jsx("p",{className:"text-sm text-gray-400",children:"No keywords added yet. Add keywords to track specific topics."})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"Categories"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:j.map(P=>{var A,I;return i.jsxs("button",{onClick:()=>N(P.id),className:`p-3 rounded-lg border ${(A=r.categories)!=null&&A.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[i.jsx("span",{children:P.name}),((I=r.categories)==null?void 0:I.includes(P.id))&&i.jsx(ke,{className:"h-4 w-4"})]},P.id)})})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"Language Preferences"}),i.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select the languages you want to see articles in."}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:x.map(P=>{var A,I,B,Q,ne,J;return i.jsxs("button",{onClick:()=>_(P.id),disabled:((A=r.languages)==null?void 0:A.length)===1&&((I=r.languages)==null?void 0:I.includes(P.id)),className:`p-3 rounded-lg border ${(B=r.languages)!=null&&B.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} ${((Q=r.languages)==null?void 0:Q.length)===1&&((ne=r.languages)!=null&&ne.includes(P.id))?"opacity-70 cursor-not-allowed":""} transition-colors flex items-center justify-between`,children:[i.jsx("span",{children:P.name}),((J=r.languages)==null?void 0:J.includes(P.id))&&i.jsx(ke,{className:"h-4 w-4"})]},P.id)})}),i.jsx("p",{className:"text-xs text-gray-500",children:"You must select at least one language."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"News Sources"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:g.map(P=>{var A,I;return i.jsxs("button",{onClick:()=>S(P.id),className:`p-3 rounded-lg border ${(A=r.sources)!=null&&A.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[i.jsx("span",{children:P.name}),((I=r.sources)==null?void 0:I.includes(P.id))&&i.jsx(ke,{className:"h-4 w-4"})]},P.id)})})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"Excluded Keywords"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:v,onChange:P=>b(P.target.value),placeholder:"e.g., Politics, Sports",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",onKeyDown:P=>P.key==="Enter"&&k()}),i.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(Lo,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.excluded_keywords&&r.excluded_keywords.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:r.excluded_keywords.map(P=>i.jsxs("div",{className:"bg-red-900/40 px-3 py-1 rounded-full text-red-200 text-sm flex items-center",children:[P,i.jsx("button",{onClick:()=>C(P),className:"ml-2 text-red-300 hover:text-red-100",children:i.jsx(kn,{className:"h-3 w-3"})})]},P))}):i.jsx("p",{className:"text-sm text-gray-400",children:"No excluded keywords added yet. Add keywords you want to avoid seeing."})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-700 flex justify-between items-center",children:[i.jsx("button",{onClick:E,disabled:o,className:`px-6 py-2 rounded-lg flex items-center ${o?"bg-blue-700/50 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bl,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})}),c&&i.jsx("p",{className:"text-sm text-red-400",children:c}),d&&i.jsxs(T.p,{className:"text-sm text-green-400 flex items-center",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0},children:[i.jsx(ke,{className:"h-4 w-4 mr-1"}),"Preferences saved successfully"]})]})]}):i.jsx("div",{className:"text-center py-6 text-red-400",children:i.jsx("p",{children:"Failed to load preferences. Please refresh the page and try again."})})},iT=()=>{const{user:e,loading:t}=be();return t?i.jsx("div",{className:"flex items-center justify-center min-h-[70vh]",children:i.jsx(jt,{})}):e?i.jsx("div",{className:"max-w-4xl mx-auto py-8",children:i.jsxs(T.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[i.jsx("div",{className:"p-3 bg-blue-900/30 rounded-lg",children:i.jsx(Io,{className:"h-6 w-6 text-blue-400"})}),i.jsx("h1",{className:"text-2xl font-bold text-white",children:"News Preferences"})]}),i.jsxs("div",{className:"bg-gray-800/70 rounded-xl border border-gray-700/50 overflow-hidden shadow-lg",children:[i.jsxs("div",{className:"p-6 border-b border-gray-700/50",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Customize Your News Experience"}),i.jsx("p",{className:"text-gray-400 mt-1",children:"Adjust your preferences to get news that's relevant to you. These settings will be used to rank and prioritize articles in your feed."})]}),i.jsx("div",{className:"p-6",children:i.jsx(sT,{userId:e.id})})]})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please Sign In"}),i.jsx("p",{className:"text-gray-400",children:"You need to be logged in to view and edit your preferences."})]})},Zp=12,e0=()=>{var S;const e=hr(),t=Nt(),r=new URLSearchParams(e.search),[n,s]=p.useState([]),[a,o]=p.useState(!0),[l,c]=p.useState({category:r.get("category")||void 0,sortBy:r.get("sortBy")||"relevance",layout:r.get("layout")||"grid",timeFrame:r.get("timeFrame")||"all"}),[u,d]=p.useState(1),[h,f]=p.useState(!0),[y,v]=p.useState(0),[b,j]=p.useState(null),g=p.useRef(!1),x=p.useRef(l),m=Il();p.useEffect(()=>{x.current=l},[l]);const w=p.useCallback(Vi(_=>{const E=new URLSearchParams;_.category&&E.set("category",_.category),_.sortBy&&E.set("sortBy",_.sortBy),_.layout&&E.set("layout",_.layout),_.timeFrame&&E.set("timeFrame",_.timeFrame),t(`${e.pathname}?${E.toString()}`,{replace:!0})},300),[t,e.pathname]);p.useEffect(()=>{w(l)},[l,w]);const k=p.useCallback(async()=>{if(!g.current){g.current=!0;try{o(!0),j(null);const E=(()=>{if(x.current.timeFrame==="all")return;const I=new Date;if(x.current.timeFrame==="day"){const B=new Date(I);return B.setDate(I.getDate()-1),B.toISOString()}else if(x.current.timeFrame==="week"){const B=new Date(I);return B.setDate(I.getDate()-7),B.toISOString()}else if(x.current.timeFrame==="month"){const B=new Date(I);return B.setMonth(I.getMonth()-1),B.toISOString()}})(),P=x.current.sortBy==="relevance"?"relevance_score":x.current.sortBy==="date"?"published_at":"source",A=await gn({limit:Zp,category:x.current.category,sortBy:P,fromDate:E,page:u});s(u===1?A.articles:I=>[...I,...A.articles]),v(A.totalCount),f(A.articles.length===Zp)}catch(_){console.error("Error fetching articles:",_),j("Failed to load articles. Please try again.")}finally{o(!1),g.current=!1}}},[u]);p.useEffect(()=>{k()},[k]),p.useEffect(()=>{d(1)},[l]);const C=p.useCallback(Vi(_=>{c(_)},300),[]),N=()=>{!a&&!g.current&&d(_=>_+1)};return i.jsxs("div",{className:"space-y-6",children:[b&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[b,i.jsx("button",{onClick:()=>k(),className:"ml-4 underline hover:text-red-200",children:"Retry"})]}),i.jsx(Ll,{articles:n,loading:a,title:l.category?`${((S=m.find(_=>_.id===l.category))==null?void 0:S.name)||"Filtered"} Articles`:"All Articles",hasMore:h,loadMore:N,categories:m,onFilterChange:C,totalCount:y})]})},aT=()=>{var b;const{user:e}=be(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[a,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState({}),h=Il(),f=p.useCallback(async()=>{if(e){s(!0),o(null);try{const g=(await Jt.getUserBookmarks(e.id)).filter(m=>m.article).map(m=>m.article);r(g);const x={};g.forEach(m=>{x[m.category]=(x[m.category]||0)+1}),d(x)}catch(j){console.error("Error fetching bookmarks:",j),o("Failed to load your bookmarks")}finally{s(!1)}}},[e]);p.useEffect(()=>{f()},[f]);const y=async()=>{if(!(!e||!window.confirm("Are you sure you want to remove all your bookmarks?"))){s(!0);try{for(const j of t)await Jt.removeBookmark(e.id,j.id);r([]),d({})}catch(j){console.error("Error clearing bookmarks:",j),o("Failed to clear bookmarks")}finally{s(!1)}}},v=()=>l?t.filter(j=>j.category===l):t;return e?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[i.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[i.jsx(xs,{className:"h-7 w-7 mr-3 text-blue-400"}),"Your Bookmarks"]}),t.length>0&&i.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-300 rounded-lg transition-colors",children:[i.jsx(ah,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),a&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[a,i.jsx("button",{onClick:f,className:"ml-4 underline hover:text-red-200",children:"Try Again"})]}),Object.keys(u).length>0&&i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-3 mb-6",children:[i.jsxs("button",{onClick:()=>c(null),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${l===null?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[i.jsx(nh,{className:"h-3.5 w-3.5 mr-2"}),"All Categories",i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-gray-700/70 rounded-md",children:t.length})]}),Object.entries(u).sort(([j,g],[x,m])=>m-g).map(([j,g])=>{var x;return i.jsxs("button",{onClick:()=>c(j),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l===j?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[((x=h.find(m=>m.id===j))==null?void 0:x.name)||j,i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-gray-700/70 rounded-md",children:g})]},j)})]}),n?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jt,{})}):t.length===0?i.jsxs("div",{className:"py-16 text-center",children:[i.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"No bookmarks yet"}),i.jsx("p",{className:"text-gray-400",children:"When you bookmark articles, they'll appear here for easy access."})]}):i.jsx(Ll,{articles:v(),loading:!1,title:l?`${((b=h.find(j=>j.id===l))==null?void 0:b.name)||l} Bookmarks`:"",onArticleRemoved:f})]}):i.jsxs("div",{className:"py-12 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign in to see your bookmarks"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to view and manage your bookmarks."})]})},oT=()=>{const{user:e}=be(),{history:t,loading:r,error:n,fetchHistory:s,clearHistory:a}=Ml(),[o,l]=p.useState({}),[c,u]=p.useState("all"),[d,h]=p.useState(null),[f,y]=p.useState(!1);p.useEffect(()=>{const g={};t.forEach(m=>{const w=new Date(m.viewed_at).toISOString().split("T")[0];g[w]||(g[w]=[]),g[w].push(m)});const x={};Object.keys(g).sort((m,w)=>w.localeCompare(m)).forEach(m=>{x[m]=g[m]}),l(x)},[t]),p.useEffect(()=>{e&&(async()=>await s(100))()},[e,c,s]);const v=p.useCallback(async()=>{!e||!window.confirm("Are you sure you want to clear your browsing history?")||await a()},[e,a]),b=g=>{h(g),y(!0)};if(!e)return i.jsxs("div",{className:"py-12 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign in to see your history"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to view your article history."})]});const j=g=>{const x=new Date(g.split("T")[0]),m=new Date,w=new Date;return w.setDate(w.getDate()-1),x.toDateString()===m.toDateString()?"Today":x.toDateString()===w.toDateString()?"Yesterday":Ve(x,"MMMM d, yyyy")};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[i.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[i.jsx(Se,{className:"h-7 w-7 mr-3 text-blue-400"}),"Browsing History"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(o).length>0&&i.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-300 rounded-lg transition-colors",children:[i.jsx(ah,{className:"h-4 w-4 mr-2"}),"Clear History"]})})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[i.jsxs("button",{onClick:()=>u("all"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="all"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[i.jsx(ia,{className:"h-3.5 w-3.5 mr-2"}),"All Time"]}),i.jsxs("button",{onClick:()=>u("today"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="today"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[i.jsx(Ut,{className:"h-3.5 w-3.5 mr-2"}),"Today"]}),i.jsxs("button",{onClick:()=>u("week"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="week"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[i.jsx(Ut,{className:"h-3.5 w-3.5 mr-2"}),"This Week"]})]}),n&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[n,i.jsx("button",{onClick:()=>s(),className:"ml-4 underline hover:text-red-200",children:"Try Again"})]}),r?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jt,{})}):Object.keys(o).length===0?i.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"py-16 text-center",children:[i.jsx("div",{className:"mb-4 inline-flex p-4 bg-gray-800/50 rounded-full",children:i.jsx(P2,{className:"h-8 w-8 text-gray-500"})}),i.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"No browsing history"}),i.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Articles you view will appear here. Start exploring content to build your history."})]}):i.jsx("div",{className:"space-y-8",children:Object.entries(o).map(([g,x])=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:j(g)}),i.jsx("div",{className:"space-y-2",children:x.map(m=>i.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-800/70 border border-gray-700/50 rounded-lg p-4 hover:border-blue-500/30 transition-colors",children:m.article&&i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.article.image_url&&i.jsx("div",{className:"w-full sm:w-40 h-28 flex-shrink-0 overflow-hidden rounded-lg cursor-pointer",onClick:()=>b(m.article),children:i.jsx("img",{src:m.article.image_url,alt:m.article.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-1 hover:text-blue-400 transition-colors cursor-pointer",onClick:()=>b(m.article),children:m.article.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-gray-400 mb-2",children:[i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-700/60",children:m.article.category}),i.jsx("span",{children:m.article.source}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(zr,{className:"h-3 w-3 mr-1"}),"Viewed ",qo(new Date(m.viewed_at),{addSuffix:!0})]}),m.view_duration&&i.jsxs("div",{className:"text-gray-500",children:[Math.floor(m.view_duration/60)>0?`${Math.floor(m.view_duration/60)}m ${m.view_duration%60}s`:`${m.view_duration}s`," view time"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsx(Pe,{to:`/dashboard/article/${m.article.id}`,className:"p-1.5 rounded-md hover:bg-gray-700/70 transition-colors text-gray-400 hover:text-white",children:i.jsx(Ht,{className:"h-4 w-4"})}),i.jsx(Rl,{article:m.article})]})]})]})},m.id))})]},g))}),d&&i.jsx(Dl,{article:d,isOpen:f,onClose:()=>y(!1)})]})},lT=({isOpen:e,onClose:t,categoryId:r,categoryName:n})=>{const[s,a]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(null),[d,h]=p.useState("date"),[f,y]=p.useState(null),[v,b]=p.useState(!1);p.useEffect(()=>{e&&r&&j()},[e,r,d]);const j=async()=>{try{l(!0),u(null);const m=await gn({category:r,limit:12,sortBy:d==="relevance"?"relevance_score":"published_at"});a(m.articles)}catch(m){console.error("Error fetching category articles:",m),u("Failed to load articles for this category.")}finally{l(!1)}},g=m=>{y(m),b(!0)},x=()=>{b(!1),y(null)};return i.jsxs(i.Fragment,{children:[i.jsx(aw,{isOpen:e,onClose:t,size:"xl",title:`${n} Articles`,children:i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>h("date"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${d==="date"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Newest First"}),i.jsx("button",{onClick:()=>h("relevance"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${d==="relevance"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Relevance"})]}),o&&i.jsx(q,{className:"h-4 w-4 animate-spin text-blue-400"})]})}),c&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-sm text-red-300",children:[c,i.jsx("button",{onClick:j,className:"ml-2 underline hover:text-red-200",children:"Retry"})]}),o&&s.length===0?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jt,{})}):s.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-400",children:"No articles found in this category."})}):i.jsx(T.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.map((m,w)=>i.jsx("div",{onClick:()=>g(m),className:"cursor-pointer",children:i.jsx(ow,{article:m,index:w,showRelevanceScore:d==="relevance"})},m.id))})]})}),f&&i.jsx(Dl,{article:f,isOpen:v,onClose:x})]})},t0={business:i.jsx(sx,{className:"h-8 w-8 text-blue-400"}),technology:i.jsxs("svg",{className:"h-8 w-8 text-purple-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),science:i.jsx("svg",{className:"h-8 w-8 text-green-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),health:i.jsx("svg",{className:"h-8 w-8 text-red-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),stocks:i.jsxs("svg",{className:"h-8 w-8 text-green-500",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),i.jsx("polyline",{points:"16 7 22 7 22 13"})]}),web3:i.jsxs("svg",{className:"h-8 w-8 text-yellow-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),i.jsx("polyline",{points:"17 2 12 7 7 2"})]}),artificial_intelligence:i.jsx(jn,{className:"h-8 w-8 text-indigo-400"}),machine_learning:i.jsx(O2,{className:"h-8 w-8 text-blue-500"}),llm:i.jsx(lx,{className:"h-8 w-8 text-purple-500"}),generative_ai:i.jsx(dx,{className:"h-8 w-8 text-amber-400"}),ai_ethics:i.jsx(nh,{className:"h-8 w-8 text-red-400"}),ai_research:i.jsx(C2,{className:"h-8 w-8 text-cyan-400"}),general:i.jsx(ia,{className:"h-8 w-8 text-gray-400"})},r0={business:"from-blue-900/30 to-blue-700/20",technology:"from-purple-900/30 to-indigo-700/20",science:"from-green-900/30 to-emerald-700/20",health:"from-red-900/30 to-rose-700/20",stocks:"from-green-900/30 to-teal-700/20",web3:"from-yellow-900/30 to-amber-700/20",artificial_intelligence:"from-indigo-900/30 to-violet-700/20",machine_learning:"from-blue-900/30 to-cyan-700/20",llm:"from-purple-900/30 to-fuchsia-700/20",generative_ai:"from-amber-900/30 to-orange-700/20",ai_ethics:"from-red-900/30 to-pink-700/20",ai_research:"from-cyan-900/30 to-sky-700/20",general:"from-gray-800/50 to-gray-700/30"},cT=()=>{const e=Nt(),{user:t,isAdmin:r}=be(),[n,s]=p.useState(!0),[a,o]=p.useState(null),[l,c]=p.useState({}),[u,d]=p.useState([]),[h,f]=p.useState(!1),[y,v]=p.useState(null),b=Il(),j={aiCategories:b.filter(_=>["artificial_intelligence","machine_learning","llm","generative_ai","ai_ethics","ai_research"].includes(_.id)),mainCategories:b.filter(_=>!["artificial_intelligence","machine_learning","llm","generative_ai","ai_ethics","ai_research","general"].includes(_.id))};p.useEffect(()=>{m()},[]),p.useEffect(()=>{t&&(w(),r&&k())},[t,r]);const g=(_,E)=>{E.stopPropagation();const P=b.find(A=>A.id===_);P&&(v(P),f(!0))},x=_=>{e(`/dashboard/category/${_}`)},m=async()=>{try{s(!0),o(null);const _={};b.forEach(E=>{_[E.id]={count:0}});for(const E of b){const{count:P,error:A}=await L.from("articles").select("*",{count:"exact",head:!0}).eq("category",E.id);if(A){console.error(`Error fetching count for category ${E.id}:`,A);continue}_[E.id]={count:P||0}}c(_)}catch(_){console.error("Error fetching category data:",_),o("Failed to load categories. Please try again.")}finally{s(!1)}},w=async()=>{if(t)try{const{data:_,error:E}=await L.from("user_preferences").select("categories").eq("user_id",t.id).single();if(E&&E.code!=="PGRST116"){console.error("Error fetching user preferences:",E);return}_!=null&&_.categories&&d(_.categories);const P=await Jt.getBookmarkStatsByCategory(t.id),A=await Zt.getMostViewedCategories(t.id);c(I=>{const B={...I};return Object.entries(P).forEach(([Q,ne])=>{B[Q]&&(B[Q]={...B[Q],bookmarkCount:ne})}),Object.entries(A).forEach(([Q,ne])=>{B[Q]&&(B[Q]={...B[Q],viewCount:ne})}),B})}catch(_){console.error("Error fetching user category data:",_)}},k=async()=>{if(r)try{console.log("Admin would fetch additional analytics here")}catch(_){console.error("Error fetching admin category analytics:",_)}},C=_=>u.includes(_),N=_=>t0[_]||t0.general,S=_=>r0[_]||r0.general;return n?i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(jt,{})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx(T.h1,{className:"text-3xl font-bold text-white mb-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"News Categories"}),i.jsx("p",{className:"text-gray-400",children:"Browse news articles by category to find content relevant to your interests."})]}),a&&i.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[a,i.jsx("button",{onClick:m,className:"ml-4 underline hover:text-red-200",children:"Retry"})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center border-b border-gray-700 pb-2",children:[i.jsx(jn,{className:"h-6 w-6 mr-2 text-indigo-400"}),"AI & Machine Learning"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.aiCategories.map((_,E)=>{var P,A,I,B,Q;return i.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:E*.1},className:`bg-gradient-to-br ${S(_.id)} rounded-xl border border-gray-700/50 overflow-hidden hover:border-blue-500/30 transition-all shadow-lg`,onClick:()=>x(_.id),whileHover:{scale:1.02,transition:{duration:.2}},children:i.jsxs("div",{className:"p-6 h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:N(_.id)}),t&&C(_.id)&&i.jsx("span",{className:"bg-blue-900/60 text-blue-300 px-3 py-1 rounded-full text-xs font-medium",children:"Preferred"})]}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:_.name}),i.jsxs("div",{className:"mt-auto pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"text-3xl font-bold text-white",children:((P=l[_.id])==null?void 0:P.count)||0}),i.jsx("div",{className:"text-sm text-gray-400",children:"articles"})]}),t&&i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-4",children:[((A=l[_.id])==null?void 0:A.viewCount)!==void 0&&i.jsxs("span",{className:"flex items-center",children:[i.jsx(zr,{className:"h-3 w-3 mr-1 text-gray-500"}),(I=l[_.id])==null?void 0:I.viewCount," views"]}),((B=l[_.id])==null?void 0:B.bookmarkCount)!==void 0&&i.jsxs("span",{className:"flex items-center",children:[i.jsx(xs,{className:"h-3 w-3 mr-1 text-blue-500"}),(Q=l[_.id])==null?void 0:Q.bookmarkCount," bookmarks"]})]}),i.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 text-white rounded-lg transition-colors text-sm",onClick:ne=>g(_.id,ne),children:["Browse ",_.name,i.jsx(yt,{className:"ml-2 h-4 w-4"})]})]})]})},_.id)})})]}),i.jsxs("section",{className:"space-y-4 mt-8",children:[i.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center border-b border-gray-700 pb-2",children:[i.jsx(ia,{className:"h-6 w-6 mr-2 text-blue-400"}),"Other Categories"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.mainCategories.map((_,E)=>{var P,A,I,B,Q;return i.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:E*.1},className:`bg-gradient-to-br ${S(_.id)} rounded-xl border border-gray-700/50 overflow-hidden hover:border-blue-500/30 transition-all shadow-lg`,onClick:()=>x(_.id),whileHover:{scale:1.02,transition:{duration:.2}},children:i.jsxs("div",{className:"p-6 h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:N(_.id)}),t&&C(_.id)&&i.jsx("span",{className:"bg-blue-900/60 text-blue-300 px-3 py-1 rounded-full text-xs font-medium",children:"Preferred"})]}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:_.name}),i.jsxs("div",{className:"mt-auto pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"text-3xl font-bold text-white",children:((P=l[_.id])==null?void 0:P.count)||0}),i.jsx("div",{className:"text-sm text-gray-400",children:"articles"})]}),t&&i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-4",children:[((A=l[_.id])==null?void 0:A.viewCount)!==void 0&&i.jsxs("span",{className:"flex items-center",children:[i.jsx(zr,{className:"h-3 w-3 mr-1 text-gray-500"}),(I=l[_.id])==null?void 0:I.viewCount," views"]}),((B=l[_.id])==null?void 0:B.bookmarkCount)!==void 0&&i.jsxs("span",{className:"flex items-center",children:[i.jsx(xs,{className:"h-3 w-3 mr-1 text-blue-500"}),(Q=l[_.id])==null?void 0:Q.bookmarkCount," bookmarks"]})]}),i.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 text-white rounded-lg transition-colors text-sm",onClick:ne=>g(_.id,ne),children:["Browse ",_.name,i.jsx(yt,{className:"ml-2 h-4 w-4"})]})]})]})},_.id)})})]}),i.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800",children:[i.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[i.jsx(jn,{className:"h-6 w-6 mr-2 text-indigo-400"}),"Popular AI Topics"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:["gpt-4","chatgpt","llama","diffusion models","deep learning","computer vision","nlp","agi","ai ethics","transformers","neural networks","ai research","generative ai","multimodal ai","reinforcement learning","ai alignment","prompt engineering"].map((_,E)=>i.jsx(T.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.05},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm text-gray-300 transition-colors",onClick:()=>e(`/dashboard/search?q=${_}`),children:_},_))})]}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[i.jsx(sx,{className:"h-6 w-6 mr-2 text-blue-400"}),"Other Popular Topics"]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:["blockchain","investment","startups","crypto","fintech","web development","climate","data science","remote work","funding"].map((_,E)=>i.jsx(T.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.05},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm text-gray-300 transition-colors",onClick:()=>e(`/dashboard/search?q=${_}`),children:_},_))})]}),y&&i.jsx(lT,{isOpen:h,onClose:()=>f(!1),categoryId:y.id,categoryName:y.name})]})},n0=12,uT=()=>{const e=hr(),t=Nt(),{user:r}=be(),[n,s]=p.useState(""),[a,o]=p.useState([]),[l,c]=p.useState(!1),[u,d]=p.useState(null),[h,f]=p.useState(0),[y,v]=p.useState(1),[b,j]=p.useState(!1),[g,x]=p.useState({category:void 0,sortBy:"relevance",layout:"grid"}),[m]=p.useState(T3());p.useEffect(()=>{const P=new URLSearchParams(e.search).get("q");P&&s(P)},[e.search]);const w=p.useCallback(Vi(E=>{x(E),v(1)},300),[]);p.useEffect(()=>{if(!n.trim())return;(async()=>{try{c(!0),d(null);const P=await Yv(n,n0*y,r==null?void 0:r.id);if(o(P),f(P.length),g.category){const A=P.filter(I=>I.category===g.category);o(A)}j(P.length>=n0*y)}catch(P){console.error("Search error:",P),d("Failed to perform search. Please try again.")}finally{c(!1)}})()},[n,y,r==null?void 0:r.id,g.category]);const k=E=>{E.preventDefault(),n.trim()&&(t(`/dashboard/search?q=${encodeURIComponent(n.trim())}`),v(1))},C=()=>{l||v(E=>E+1)},N=()=>{if(!a.length)return[];let E=[...a];return g.sortBy==="relevance"?E.sort((P,A)=>(A.relevance_score||0)-(P.relevance_score||0)):E.sort((P,A)=>new Date(A.published_at).getTime()-new Date(P.published_at).getTime()),E},S=E=>{s(E),t(`/dashboard/search?q=${encodeURIComponent(E)}`),v(1)},_=()=>{s(""),o([]),t("/dashboard/search")};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gray-800/70 rounded-xl p-6 border border-gray-700/50",children:[i.jsxs(Link,{to:"/dashboard",className:"inline-flex items-center text-gray-400 hover:text-white mb-4",children:[i.jsx(vl,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]}),i.jsx("form",{onSubmit:k,className:"relative mb-6",children:i.jsxs("div",{className:"flex",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:"text",value:n,onChange:E=>s(E.target.value),placeholder:"Search for articles, topics, or keywords...",className:"w-full bg-gray-900 border border-gray-700 rounded-l-lg px-10 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}),i.jsx(zi,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-500"}),n&&i.jsx("button",{type:"button",onClick:_,className:"absolute right-3 top-3.5 text-gray-500 hover:text-gray-300",children:i.jsx(Nl,{className:"h-5 w-5"})})]}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-r-lg hover:bg-blue-700 transition-colors",children:"Search"})]})}),!n&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Popular searches"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(E=>i.jsx("button",{onClick:()=>S(E),className:"px-3 py-1.5 bg-gray-700/70 hover:bg-gray-700 text-gray-300 rounded-full text-sm transition-colors",children:E},E))})]})]}),n?i.jsx("div",{children:l&&a.length===0?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jt,{})}):u?i.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:u}):a.length===0?i.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[i.jsxs("h2",{className:"text-xl font-medium text-white mb-3",children:['No results found for "',n,'"']}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Try different keywords or check your spelling"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Try searching for"}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:m.map(E=>i.jsx("button",{onClick:()=>S(E),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-full text-sm transition-colors",children:E},E))})]})]}):i.jsxs("div",{children:[i.jsx("div",{className:"mb-6",children:i.jsxs("h2",{className:"text-xl font-semibold text-white",children:[h," ",h===1?"result":"results",' for "',n,'"']})}),i.jsx(Ll,{articles:N(),loading:l,hasMore:b,loadMore:C,onFilterChange:w})]})}):i.jsx("div",{className:"text-center py-12 text-gray-400",children:"Enter search terms to find articles"})]})},Tc=({element:e,redirectPath:t="/login",requireAuth:r=!0,requireAdmin:n=!1})=>{const{user:s,loading:a,isAdmin:o}=be();return a?i.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):r&&!s?i.jsx(ms,{to:t,replace:!0}):n&&!o?i.jsx(ms,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e})},s0=({element:e,redirectPath:t="/dashboard"})=>{const{user:r,loading:n}=be();return n?i.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):r?i.jsx(ms,{to:t,replace:!0}):i.jsx(i.Fragment,{children:e})};function dT(){const{user:e}=be();return i.jsxs(Dj,{children:[i.jsx(Me,{path:"/",element:i.jsx(s0,{element:i.jsx(PP,{})})}),i.jsx(Me,{path:"/login",element:i.jsx(s0,{element:i.jsx(VP,{})})}),i.jsx(Me,{path:"/onboarding",element:i.jsx(Tc,{element:i.jsx(UP,{})})}),i.jsxs(Me,{path:"/dashboard",element:i.jsx(Tc,{element:i.jsx(cP,{})}),children:[i.jsx(Me,{index:!0,element:i.jsx(FP,{})}),i.jsx(Me,{path:"article/:id",element:i.jsx(BP,{})}),i.jsx(Me,{path:"admin",element:i.jsx(Tc,{element:i.jsx(nT,{}),requireAdmin:!0})}),i.jsx(Me,{path:"preferences",element:i.jsx(iT,{})}),i.jsx(Me,{path:"trending",element:i.jsx(e0,{})}),i.jsx(Me,{path:"categories",element:i.jsx(cT,{})}),i.jsx(Me,{path:"category/:id",element:i.jsx(e0,{})}),i.jsx(Me,{path:"bookmarks",element:i.jsx(aT,{})}),i.jsx(Me,{path:"history",element:i.jsx(oT,{})}),i.jsx(Me,{path:"search",element:i.jsx(uT,{})}),i.jsx(Me,{path:"profile",element:i.jsx("div",{className:"p-8 text-center text-gray-400",children:"Profile section coming soon"})})]}),i.jsx(Me,{path:"*",element:e?i.jsx(ms,{to:"/dashboard",replace:!0}):i.jsx(ms,{to:"/",replace:!0})})]})}function hT(){return i.jsx(g2,{children:i.jsx(x2,{children:i.jsx(Bj,{children:i.jsx(dT,{})})})})}xy(document.getElementById("root")).render(i.jsx(p.StrictMode,{children:i.jsx(hT,{})}));export{fw as g};

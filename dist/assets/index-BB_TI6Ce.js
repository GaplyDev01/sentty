var Uv=Object.defineProperty;var Bv=(e,t,r)=>t in e?Uv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Dh=(e,t,r)=>Bv(e,typeof t!="symbol"?t+"":t,r);function zv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var zp={exports:{}},Mo={},Hp={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=Symbol.for("react.element"),qv=Symbol.for("react.portal"),Kv=Symbol.for("react.fragment"),Gv=Symbol.for("react.strict_mode"),Yv=Symbol.for("react.profiler"),Qv=Symbol.for("react.provider"),Xv=Symbol.for("react.context"),Jv=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),ew=Symbol.for("react.memo"),tw=Symbol.for("react.lazy"),Mh=Symbol.iterator;function rw(e){return e===null||typeof e!="object"?null:(e=Mh&&e[Mh]||e["@@iterator"],typeof e=="function"?e:null)}var Wp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qp=Object.assign,Kp={};function fs(e,t,r){this.props=e,this.context=t,this.refs=Kp,this.updater=r||Wp}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gp(){}Gp.prototype=fs.prototype;function $u(e,t,r){this.props=e,this.context=t,this.refs=Kp,this.updater=r||Wp}var Vu=$u.prototype=new Gp;Vu.constructor=$u;qp(Vu,fs.prototype);Vu.isPureReactComponent=!0;var Lh=Array.isArray,Yp=Object.prototype.hasOwnProperty,Uu={current:null},Qp={key:!0,ref:!0,__self:!0,__source:!0};function Xp(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Yp.call(t,n)&&!Qp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:$i,type:e,key:i,ref:o,props:s,_owner:Uu.current}}function nw(e,t){return{$$typeof:$i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bu(e){return typeof e=="object"&&e!==null&&e.$$typeof===$i}function sw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Oh=/\/+/g;function jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sw(""+e.key):t.toString(36)}function Ca(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $i:case qv:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+jl(o,0):n,Lh(s)?(r="",e!=null&&(r=e.replace(Oh,"$&/")+"/"),Ca(s,t,r,"",function(u){return u})):s!=null&&(Bu(s)&&(s=nw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Oh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Lh(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+jl(i,l);o+=Ca(i,t,r,c,s)}else if(c=rw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+jl(i,l++),o+=Ca(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ji(e,t,r){if(e==null)return e;var n=[],s=0;return Ca(e,n,"","",function(i){return t.call(r,i,s++)}),n}function iw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Ea={transition:null},aw={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ea,ReactCurrentOwner:Uu};function Jp(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Ji,forEach:function(e,t,r){Ji(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ji(e,function(){t++}),t},toArray:function(e){return Ji(e,function(t){return t})||[]},only:function(e){if(!Bu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=fs;H.Fragment=Kv;H.Profiler=Yv;H.PureComponent=$u;H.StrictMode=Gv;H.Suspense=Zv;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aw;H.act=Jp;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Uu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Yp.call(t,c)&&!Qp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:$i,type:e.type,key:s,ref:i,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:Xv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qv,_context:e},e.Consumer=e};H.createElement=Xp;H.createFactory=function(e){var t=Xp.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Jv,render:e}};H.isValidElement=Bu;H.lazy=function(e){return{$$typeof:tw,_payload:{_status:-1,_result:e},_init:iw}};H.memo=function(e,t){return{$$typeof:ew,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ea.transition;Ea.transition={};try{e()}finally{Ea.transition=t}};H.unstable_act=Jp;H.useCallback=function(e,t){return Be.current.useCallback(e,t)};H.useContext=function(e){return Be.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};H.useEffect=function(e,t){return Be.current.useEffect(e,t)};H.useId=function(){return Be.current.useId()};H.useImperativeHandle=function(e,t,r){return Be.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Be.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Be.current.useReducer(e,t,r)};H.useRef=function(e){return Be.current.useRef(e)};H.useState=function(e){return Be.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Be.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Be.current.useTransition()};H.version="18.3.1";Hp.exports=H;var x=Hp.exports;const Zp=Hv(x),ow=zv({__proto__:null,default:Zp},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=x,cw=Symbol.for("react.element"),uw=Symbol.for("react.fragment"),dw=Object.prototype.hasOwnProperty,hw=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fw={key:!0,ref:!0,__self:!0,__source:!0};function eg(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)dw.call(t,n)&&!fw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:cw,type:e,key:i,ref:o,props:s,_owner:hw.current}}Mo.Fragment=uw;Mo.jsx=eg;Mo.jsxs=eg;zp.exports=Mo;var a=zp.exports,tg={exports:{}},lt={},rg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var U=D.length;D.push(F);e:for(;0<U;){var K=U-1>>>1,ce=D[K];if(0<s(ce,F))D[K]=F,D[U]=ce,U=K;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var F=D[0],U=D.pop();if(U!==F){D[0]=U;e:for(var K=0,ce=D.length,W=ce>>>1;K<W;){var z=2*(K+1)-1,js=D[z],Ze=z+1,or=D[Ze];if(0>s(js,U))Ze<ce&&0>s(or,js)?(D[K]=or,D[Ze]=U,K=Ze):(D[K]=js,D[z]=U,K=z);else if(Ze<ce&&0>s(or,U))D[K]=or,D[Ze]=U,K=Ze;else break e}}return F}function s(D,F){var U=D.sortIndex-F.sortIndex;return U!==0?U:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=D)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function b(D){if(w=!1,g(D),!v)if(r(c)!==null)v=!0,Q(S);else{var F=r(u);F!==null&&X(b,F.startTime-D)}}function S(D,F){v=!1,w&&(w=!1,m(E),E=-1),p=!0;var U=f;try{for(g(F),h=r(c);h!==null&&(!(h.expirationTime>F)||D&&!P());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var ce=K(h.expirationTime<=F);F=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===r(c)&&n(c),g(F)}else n(c);h=r(c)}if(h!==null)var W=!0;else{var z=r(u);z!==null&&X(b,z.startTime-F),W=!1}return W}finally{h=null,f=U,p=!1}}var C=!1,k=null,E=-1,N=5,_=-1;function P(){return!(e.unstable_now()-_<N)}function T(){if(k!==null){var D=e.unstable_now();_=D;var F=!0;try{F=k(!0,D)}finally{F?M():(C=!1,k=null)}}else C=!1}var M;if(typeof y=="function")M=function(){y(T)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=T,M=function(){Y.postMessage(null)}}else M=function(){j(T,0)};function Q(D){k=D,C||(C=!0,M())}function X(D,F){E=j(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,Q(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var U=f;f=F;try{return D()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=f;f=D;try{return F()}finally{f=U}},e.unstable_scheduleCallback=function(D,F,U){var K=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=U+ce,D={id:d++,callback:F,priorityLevel:D,startTime:U,expirationTime:ce,sortIndex:-1},U>K?(D.sortIndex=U,t(u,D),r(c)===null&&D===r(u)&&(w?(m(E),E=-1):w=!0,X(b,U-K))):(D.sortIndex=ce,t(c,D),v||p||(v=!0,Q(S))),D},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(D){var F=f;return function(){var U=f;f=F;try{return D.apply(this,arguments)}finally{f=U}}}})(ng);rg.exports=ng;var mw=rg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=x,at=mw;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sg=new Set,oi={};function gn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(oi[e]=t,e=0;e<t.length;e++)sg.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=Object.prototype.hasOwnProperty,gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ih={},Fh={};function yw(e){return gc.call(Fh,e)?!0:gc.call(Ih,e)?!1:gw.test(e)?Fh[e]=!0:(Ih[e]=!0,!1)}function xw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vw(e,t,r,n){if(t===null||typeof t>"u"||xw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zu,Hu);Ae[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zu,Hu);Ae[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zu,Hu);Ae[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wu(e,t,r,n){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vw(t,r,s,n)&&(r=null),n||s===null?yw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sr=pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zi=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),qu=Symbol.for("react.strict_mode"),yc=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Ku=Symbol.for("react.forward_ref"),xc=Symbol.for("react.suspense"),vc=Symbol.for("react.suspense_list"),Gu=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),og=Symbol.for("react.offscreen"),$h=Symbol.iterator;function ks(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,kl;function Is(e){if(kl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var Sl=!1;function Nl(e,t){if(!e||Sl)return"";Sl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Is(e):""}function ww(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function wc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case Cn:return"Portal";case yc:return"Profiler";case qu:return"StrictMode";case xc:return"Suspense";case vc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ag:return(e.displayName||"Context")+".Consumer";case ig:return(e._context.displayName||"Context")+".Provider";case Ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gu:return t=e.displayName||null,t!==null?t:wc(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return wc(e(t))}catch{}}return null}function bw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wc(t);case 8:return t===qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jw(e){var t=lg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ea(e){e._valueTracker||(e._valueTracker=jw(e))}function cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ha(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bc(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ug(e,t){t=t.checked,t!=null&&Wu(e,"checked",t,!1)}function jc(e,t){ug(e,t);var r=Dr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kc(e,t.type,r):t.hasOwnProperty("defaultValue")&&kc(e,t.type,Dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function kc(e,t,r){(t!=="number"||Ha(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fs=Array.isArray;function Hn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(Fs(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dr(r)}}function dg(e,t){var r=Dr(t.value),n=Dr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ta,fg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function li(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kw=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(e){kw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ws[t]=Ws[e]})});function mg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ws.hasOwnProperty(e)&&Ws[e]?(""+t).trim():t+"px"}function pg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=mg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Sw=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _c(e,t){if(t){if(Sw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Cc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=null;function Yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pc=null,Wn=null,qn=null;function Hh(e){if(e=Bi(e)){if(typeof Pc!="function")throw Error(R(280));var t=e.stateNode;t&&(t=$o(t),Pc(e.stateNode,e.type,t))}}function gg(e){Wn?qn?qn.push(e):qn=[e]:Wn=e}function yg(){if(Wn){var e=Wn,t=qn;if(qn=Wn=null,Hh(e),t)for(e=0;e<t.length;e++)Hh(t[e])}}function xg(e,t){return e(t)}function vg(){}var _l=!1;function wg(e,t,r){if(_l)return e(t,r);_l=!0;try{return xg(e,t,r)}finally{_l=!1,(Wn!==null||qn!==null)&&(vg(),yg())}}function ci(e,t){var r=e.stateNode;if(r===null)return null;var n=$o(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var Tc=!1;if(Jt)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Tc=!1}function Nw(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var qs=!1,Wa=null,qa=!1,Ac=null,_w={onError:function(e){qs=!0,Wa=e}};function Cw(e,t,r,n,s,i,o,l,c){qs=!1,Wa=null,Nw.apply(_w,arguments)}function Ew(e,t,r,n,s,i,o,l,c){if(Cw.apply(this,arguments),qs){if(qs){var u=Wa;qs=!1,Wa=null}else throw Error(R(198));qa||(qa=!0,Ac=u)}}function yn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wh(e){if(yn(e)!==e)throw Error(R(188))}function Pw(e){var t=e.alternate;if(!t){if(t=yn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Wh(s),e;if(i===n)return Wh(s),t;i=i.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function jg(e){return e=Pw(e),e!==null?kg(e):null}function kg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kg(e);if(t!==null)return t;e=e.sibling}return null}var Sg=at.unstable_scheduleCallback,qh=at.unstable_cancelCallback,Tw=at.unstable_shouldYield,Aw=at.unstable_requestPaint,xe=at.unstable_now,Rw=at.unstable_getCurrentPriorityLevel,Qu=at.unstable_ImmediatePriority,Ng=at.unstable_UserBlockingPriority,Ka=at.unstable_NormalPriority,Dw=at.unstable_LowPriority,_g=at.unstable_IdlePriority,Lo=null,Lt=null;function Mw(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Lo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Iw,Lw=Math.log,Ow=Math.LN2;function Iw(e){return e>>>=0,e===0?32:31-(Lw(e)/Ow|0)|0}var ra=64,na=4194304;function $s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ga(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=$s(l):(i&=o,i!==0&&(n=$s(i)))}else o=r&~s,o!==0?n=$s(o):i!==0&&(n=$s(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ct(t),s=1<<r,n|=e[r],t&=~s;return n}function Fw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $w(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ct(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Fw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cg(){var e=ra;return ra<<=1,!(ra&4194240)&&(ra=64),e}function Cl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=r}function Vw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ct(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Xu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ct(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ee=0;function Eg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pg,Ju,Tg,Ag,Rg,Dc=!1,sa=[],Sr=null,Nr=null,_r=null,ui=new Map,di=new Map,yr=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kh(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(t.pointerId)}}function Ns(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Bi(t),t!==null&&Ju(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Bw(e,t,r,n,s){switch(t){case"focusin":return Sr=Ns(Sr,e,t,r,n,s),!0;case"dragenter":return Nr=Ns(Nr,e,t,r,n,s),!0;case"mouseover":return _r=Ns(_r,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ui.set(i,Ns(ui.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,di.set(i,Ns(di.get(i)||null,e,t,r,n,s)),!0}return!1}function Dg(e){var t=en(e.target);if(t!==null){var r=yn(t);if(r!==null){if(t=r.tag,t===13){if(t=bg(r),t!==null){e.blockedOn=t,Rg(e.priority,function(){Tg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Mc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ec=n,r.target.dispatchEvent(n),Ec=null}else return t=Bi(r),t!==null&&Ju(t),e.blockedOn=r,!1;t.shift()}return!0}function Gh(e,t,r){Pa(e)&&r.delete(t)}function zw(){Dc=!1,Sr!==null&&Pa(Sr)&&(Sr=null),Nr!==null&&Pa(Nr)&&(Nr=null),_r!==null&&Pa(_r)&&(_r=null),ui.forEach(Gh),di.forEach(Gh)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,Dc||(Dc=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,zw)))}function hi(e){function t(s){return _s(s,e)}if(0<sa.length){_s(sa[0],e);for(var r=1;r<sa.length;r++){var n=sa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sr!==null&&_s(Sr,e),Nr!==null&&_s(Nr,e),_r!==null&&_s(_r,e),ui.forEach(t),di.forEach(t),r=0;r<yr.length;r++)n=yr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)Dg(r),r.blockedOn===null&&yr.shift()}var Kn=sr.ReactCurrentBatchConfig,Ya=!0;function Hw(e,t,r,n){var s=ee,i=Kn.transition;Kn.transition=null;try{ee=1,Zu(e,t,r,n)}finally{ee=s,Kn.transition=i}}function Ww(e,t,r,n){var s=ee,i=Kn.transition;Kn.transition=null;try{ee=4,Zu(e,t,r,n)}finally{ee=s,Kn.transition=i}}function Zu(e,t,r,n){if(Ya){var s=Mc(e,t,r,n);if(s===null)Il(e,t,n,Qa,r),Kh(e,n);else if(Bw(s,e,t,r,n))n.stopPropagation();else if(Kh(e,n),t&4&&-1<Uw.indexOf(e)){for(;s!==null;){var i=Bi(s);if(i!==null&&Pg(i),i=Mc(e,t,r,n),i===null&&Il(e,t,n,Qa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Il(e,t,n,null,r)}}var Qa=null;function Mc(e,t,r,n){if(Qa=null,e=Yu(n),e=en(e),e!==null)if(t=yn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qa=e,null}function Mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rw()){case Qu:return 1;case Ng:return 4;case Ka:case Dw:return 16;case _g:return 536870912;default:return 16}default:return 16}}var wr=null,ed=null,Ta=null;function Lg(){if(Ta)return Ta;var e,t=ed,r=t.length,n,s="value"in wr?wr.value:wr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ta=s.slice(e,1<n?1-n:void 0)}function Aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ia(){return!0}function Yh(){return!1}function ct(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ia:Yh,this.isPropagationStopped=Yh,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=ct(ms),Ui=me({},ms,{view:0,detail:0}),qw=ct(Ui),El,Pl,Cs,Oo=me({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(El=e.screenX-Cs.screenX,Pl=e.screenY-Cs.screenY):Pl=El=0,Cs=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Qh=ct(Oo),Kw=me({},Oo,{dataTransfer:0}),Gw=ct(Kw),Yw=me({},Ui,{relatedTarget:0}),Tl=ct(Yw),Qw=me({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Xw=ct(Qw),Jw=me({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zw=ct(Jw),eb=me({},ms,{data:0}),Xh=ct(eb),tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nb[e])?!!t[e]:!1}function rd(){return sb}var ib=me({},Ui,{key:function(e){if(e.key){var t=tb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ab=ct(ib),ob=me({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=ct(ob),lb=me({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),cb=ct(lb),ub=me({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),db=ct(ub),hb=me({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fb=ct(hb),mb=[9,13,27,32],nd=Jt&&"CompositionEvent"in window,Ks=null;Jt&&"documentMode"in document&&(Ks=document.documentMode);var pb=Jt&&"TextEvent"in window&&!Ks,Og=Jt&&(!nd||Ks&&8<Ks&&11>=Ks),Zh=" ",ef=!1;function Ig(e,t){switch(e){case"keyup":return mb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function gb(e,t){switch(e){case"compositionend":return Fg(t);case"keypress":return t.which!==32?null:(ef=!0,Zh);case"textInput":return e=t.data,e===Zh&&ef?null:e;default:return null}}function yb(e,t){if(Pn)return e==="compositionend"||!nd&&Ig(e,t)?(e=Lg(),Ta=ed=wr=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Og&&t.locale!=="ko"?null:t.data;default:return null}}var xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xb[e.type]:t==="textarea"}function $g(e,t,r,n){gg(n),t=Xa(t,"onChange"),0<t.length&&(r=new td("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gs=null,fi=null;function vb(e){Qg(e,0)}function Io(e){var t=Rn(e);if(cg(t))return e}function wb(e,t){if(e==="change")return t}var Vg=!1;if(Jt){var Al;if(Jt){var Rl="oninput"in document;if(!Rl){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),Rl=typeof rf.oninput=="function"}Al=Rl}else Al=!1;Vg=Al&&(!document.documentMode||9<document.documentMode)}function nf(){Gs&&(Gs.detachEvent("onpropertychange",Ug),fi=Gs=null)}function Ug(e){if(e.propertyName==="value"&&Io(fi)){var t=[];$g(t,fi,e,Yu(e)),wg(vb,t)}}function bb(e,t,r){e==="focusin"?(nf(),Gs=t,fi=r,Gs.attachEvent("onpropertychange",Ug)):e==="focusout"&&nf()}function jb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Io(fi)}function kb(e,t){if(e==="click")return Io(t)}function Sb(e,t){if(e==="input"||e==="change")return Io(t)}function Nb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Nb;function mi(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!gc.call(t,s)||!Pt(e[s],t[s]))return!1}return!0}function sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function af(e,t){var r=sf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sf(r)}}function Bg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zg(){for(var e=window,t=Ha();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ha(e.document)}return t}function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _b(e){var t=zg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Bg(r.ownerDocument.documentElement,r)){if(n!==null&&sd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=af(r,i);var o=af(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cb=Jt&&"documentMode"in document&&11>=document.documentMode,Tn=null,Lc=null,Ys=null,Oc=!1;function of(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oc||Tn==null||Tn!==Ha(n)||(n=Tn,"selectionStart"in n&&sd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ys&&mi(Ys,n)||(Ys=n,n=Xa(Lc,"onSelect"),0<n.length&&(t=new td("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tn)))}function aa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var An={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},Dl={},Hg={};Jt&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Fo(e){if(Dl[e])return Dl[e];if(!An[e])return e;var t=An[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hg)return Dl[e]=t[r];return e}var Wg=Fo("animationend"),qg=Fo("animationiteration"),Kg=Fo("animationstart"),Gg=Fo("transitionend"),Yg=new Map,lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Yg.set(e,t),gn(t,[e])}for(var Ml=0;Ml<lf.length;Ml++){var Ll=lf[Ml],Eb=Ll.toLowerCase(),Pb=Ll[0].toUpperCase()+Ll.slice(1);$r(Eb,"on"+Pb)}$r(Wg,"onAnimationEnd");$r(qg,"onAnimationIteration");$r(Kg,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(Gg,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function cf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ew(n,t,void 0,e),e.currentTarget=null}function Qg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;cf(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;cf(s,l,u),i=c}}}if(qa)throw e=Ac,qa=!1,Ac=null,e}function ie(e,t){var r=t[Uc];r===void 0&&(r=t[Uc]=new Set);var n=e+"__bubble";r.has(n)||(Xg(t,e,2,!1),r.add(n))}function Ol(e,t,r){var n=0;t&&(n|=4),Xg(r,e,n,t)}var oa="_reactListening"+Math.random().toString(36).slice(2);function pi(e){if(!e[oa]){e[oa]=!0,sg.forEach(function(r){r!=="selectionchange"&&(Tb.has(r)||Ol(r,!1,e),Ol(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oa]||(t[oa]=!0,Ol("selectionchange",!1,t))}}function Xg(e,t,r,n){switch(Mg(t)){case 1:var s=Hw;break;case 4:s=Ww;break;default:s=Zu}r=s.bind(null,t,r,e),s=void 0,!Tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Il(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=en(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}wg(function(){var u=i,d=Yu(r),h=[];e:{var f=Yg.get(e);if(f!==void 0){var p=td,v=e;switch(e){case"keypress":if(Aa(r)===0)break e;case"keydown":case"keyup":p=ab;break;case"focusin":v="focus",p=Tl;break;case"focusout":v="blur",p=Tl;break;case"beforeblur":case"afterblur":p=Tl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cb;break;case Wg:case qg:case Kg:p=Xw;break;case Gg:p=db;break;case"scroll":p=qw;break;case"wheel":p=fb;break;case"copy":case"cut":case"paste":p=Zw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jh}var w=(t&4)!==0,j=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,g;y!==null;){g=y;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,m!==null&&(b=ci(y,m),b!=null&&w.push(gi(y,b,g)))),j)break;y=y.return}0<w.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Ec&&(v=r.relatedTarget||r.fromElement)&&(en(v)||v[Zt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?en(v):null,v!==null&&(j=yn(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=Qh,b="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Jh,b="onPointerLeave",m="onPointerEnter",y="pointer"),j=p==null?f:Rn(p),g=v==null?f:Rn(v),f=new w(b,y+"leave",p,r,d),f.target=j,f.relatedTarget=g,b=null,en(d)===u&&(w=new w(m,y+"enter",v,r,d),w.target=g,w.relatedTarget=j,b=w),j=b,p&&v)t:{for(w=p,m=v,y=0,g=w;g;g=bn(g))y++;for(g=0,b=m;b;b=bn(b))g++;for(;0<y-g;)w=bn(w),y--;for(;0<g-y;)m=bn(m),g--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=bn(w),m=bn(m)}w=null}else w=null;p!==null&&uf(h,f,p,w,!1),v!==null&&j!==null&&uf(h,j,v,w,!0)}}e:{if(f=u?Rn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=wb;else if(tf(f))if(Vg)S=Sb;else{S=jb;var C=bb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=kb);if(S&&(S=S(e,u))){$g(h,S,r,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&kc(f,"number",f.value)}switch(C=u?Rn(u):window,e){case"focusin":(tf(C)||C.contentEditable==="true")&&(Tn=C,Lc=u,Ys=null);break;case"focusout":Ys=Lc=Tn=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,of(h,r,d);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":of(h,r,d)}var k;if(nd)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Pn?Ig(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Og&&r.locale!=="ko"&&(Pn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Pn&&(k=Lg()):(wr=d,ed="value"in wr?wr.value:wr.textContent,Pn=!0)),C=Xa(u,E),0<C.length&&(E=new Xh(E,e,null,r,d),h.push({event:E,listeners:C}),k?E.data=k:(k=Fg(r),k!==null&&(E.data=k)))),(k=pb?gb(e,r):yb(e,r))&&(u=Xa(u,"onBeforeInput"),0<u.length&&(d=new Xh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}Qg(h,t)})}function gi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ci(e,r),i!=null&&n.unshift(gi(e,i,s)),i=ci(e,t),i!=null&&n.push(gi(e,i,s))),e=e.return}return n}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uf(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ci(r,i),c!=null&&o.unshift(gi(r,c,l))):s||(c=ci(r,i),c!=null&&o.push(gi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ab=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function df(e){return(typeof e=="string"?e:""+e).replace(Ab,`
`).replace(Rb,"")}function la(e,t,r){if(t=df(t),df(e)!==t&&r)throw Error(R(425))}function Ja(){}var Ic=null,Fc=null;function $c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vc=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(e){return hf.resolve(null).then(e).catch(Lb)}:Vc;function Lb(e){setTimeout(function(){throw e})}function Fl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),hi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);hi(t)}function Cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ps,yi="__reactProps$"+ps,Zt="__reactContainer$"+ps,Uc="__reactEvents$"+ps,Ob="__reactListeners$"+ps,Ib="__reactHandles$"+ps;function en(e){var t=e[Mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zt]||r[Mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ff(e);e!==null;){if(r=e[Mt])return r;e=ff(e)}return t}e=r,r=e.parentNode}return null}function Bi(e){return e=e[Mt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function $o(e){return e[yi]||null}var Bc=[],Dn=-1;function Vr(e){return{current:e}}function ae(e){0>Dn||(e.current=Bc[Dn],Bc[Dn]=null,Dn--)}function se(e,t){Dn++,Bc[Dn]=e.current,e.current=t}var Mr={},$e=Vr(Mr),Ye=Vr(!1),un=Mr;function Zn(e,t){var r=e.type.contextTypes;if(!r)return Mr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function Za(){ae(Ye),ae($e)}function mf(e,t,r){if($e.current!==Mr)throw Error(R(168));se($e,t),se(Ye,r)}function Jg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(R(108,bw(e)||"Unknown",s));return me({},r,n)}function eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mr,un=$e.current,se($e,e),se(Ye,Ye.current),!0}function pf(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=Jg(e,t,un),n.__reactInternalMemoizedMergedChildContext=e,ae(Ye),ae($e),se($e,e)):ae(Ye),se(Ye,r)}var Ht=null,Vo=!1,$l=!1;function Zg(e){Ht===null?Ht=[e]:Ht.push(e)}function Fb(e){Vo=!0,Zg(e)}function Ur(){if(!$l&&Ht!==null){$l=!0;var e=0,t=ee;try{var r=Ht;for(ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ht=null,Vo=!1}catch(s){throw Ht!==null&&(Ht=Ht.slice(e+1)),Sg(Qu,Ur),s}finally{ee=t,$l=!1}}return null}var Mn=[],Ln=0,to=null,ro=0,ht=[],ft=0,dn=null,Wt=1,qt="";function Kr(e,t){Mn[Ln++]=ro,Mn[Ln++]=to,to=e,ro=t}function e0(e,t,r){ht[ft++]=Wt,ht[ft++]=qt,ht[ft++]=dn,dn=e;var n=Wt;e=qt;var s=32-Ct(n)-1;n&=~(1<<s),r+=1;var i=32-Ct(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Wt=1<<32-Ct(t)+s|r<<s|n,qt=i+e}else Wt=1<<i|r<<s|n,qt=e}function id(e){e.return!==null&&(Kr(e,1),e0(e,1,0))}function ad(e){for(;e===to;)to=Mn[--Ln],Mn[Ln]=null,ro=Mn[--Ln],Mn[Ln]=null;for(;e===dn;)dn=ht[--ft],ht[ft]=null,qt=ht[--ft],ht[ft]=null,Wt=ht[--ft],ht[ft]=null}var nt=null,rt=null,le=!1,_t=null;function t0(e,t){var r=mt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,rt=Cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=dn!==null?{id:Wt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nt=e,rt=null,!0):!1;default:return!1}}function zc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hc(e){if(le){var t=rt;if(t){var r=t;if(!gf(e,t)){if(zc(e))throw Error(R(418));t=Cr(r.nextSibling);var n=nt;t&&gf(e,t)?t0(n,r):(e.flags=e.flags&-4097|2,le=!1,nt=e)}}else{if(zc(e))throw Error(R(418));e.flags=e.flags&-4097|2,le=!1,nt=e}}}function yf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function ca(e){if(e!==nt)return!1;if(!le)return yf(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$c(e.type,e.memoizedProps)),t&&(t=rt)){if(zc(e))throw r0(),Error(R(418));for(;t;)t0(e,t),t=Cr(t.nextSibling)}if(yf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rt=Cr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=nt?Cr(e.stateNode.nextSibling):null;return!0}function r0(){for(var e=rt;e;)e=Cr(e.nextSibling)}function es(){rt=nt=null,le=!1}function od(e){_t===null?_t=[e]:_t.push(e)}var $b=sr.ReactCurrentBatchConfig;function Es(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function ua(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xf(e){var t=e._init;return t(e._payload)}function n0(e){function t(m,y){if(e){var g=m.deletions;g===null?(m.deletions=[y],m.flags|=16):g.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=Ar(m,y),m.index=0,m.sibling=null,m}function i(m,y,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<y?(m.flags|=2,y):g):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,g,b){return y===null||y.tag!==6?(y=ql(g,m.mode,b),y.return=m,y):(y=s(y,g),y.return=m,y)}function c(m,y,g,b){var S=g.type;return S===En?d(m,y,g.props.children,b,g.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mr&&xf(S)===y.type)?(b=s(y,g.props),b.ref=Es(m,y,g),b.return=m,b):(b=Fa(g.type,g.key,g.props,null,m.mode,b),b.ref=Es(m,y,g),b.return=m,b)}function u(m,y,g,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Kl(g,m.mode,b),y.return=m,y):(y=s(y,g.children||[]),y.return=m,y)}function d(m,y,g,b,S){return y===null||y.tag!==7?(y=on(g,m.mode,b,S),y.return=m,y):(y=s(y,g),y.return=m,y)}function h(m,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ql(""+y,m.mode,g),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zi:return g=Fa(y.type,y.key,y.props,null,m.mode,g),g.ref=Es(m,null,y),g.return=m,g;case Cn:return y=Kl(y,m.mode,g),y.return=m,y;case mr:var b=y._init;return h(m,b(y._payload),g)}if(Fs(y)||ks(y))return y=on(y,m.mode,g,null),y.return=m,y;ua(m,y)}return null}function f(m,y,g,b){var S=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(m,y,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zi:return g.key===S?c(m,y,g,b):null;case Cn:return g.key===S?u(m,y,g,b):null;case mr:return S=g._init,f(m,y,S(g._payload),b)}if(Fs(g)||ks(g))return S!==null?null:d(m,y,g,b,null);ua(m,g)}return null}function p(m,y,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(g)||null,l(y,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zi:return m=m.get(b.key===null?g:b.key)||null,c(y,m,b,S);case Cn:return m=m.get(b.key===null?g:b.key)||null,u(y,m,b,S);case mr:var C=b._init;return p(m,y,g,C(b._payload),S)}if(Fs(b)||ks(b))return m=m.get(g)||null,d(y,m,b,S,null);ua(y,b)}return null}function v(m,y,g,b){for(var S=null,C=null,k=y,E=y=0,N=null;k!==null&&E<g.length;E++){k.index>E?(N=k,k=null):N=k.sibling;var _=f(m,k,g[E],b);if(_===null){k===null&&(k=N);break}e&&k&&_.alternate===null&&t(m,k),y=i(_,y,E),C===null?S=_:C.sibling=_,C=_,k=N}if(E===g.length)return r(m,k),le&&Kr(m,E),S;if(k===null){for(;E<g.length;E++)k=h(m,g[E],b),k!==null&&(y=i(k,y,E),C===null?S=k:C.sibling=k,C=k);return le&&Kr(m,E),S}for(k=n(m,k);E<g.length;E++)N=p(k,m,E,g[E],b),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?E:N.key),y=i(N,y,E),C===null?S=N:C.sibling=N,C=N);return e&&k.forEach(function(P){return t(m,P)}),le&&Kr(m,E),S}function w(m,y,g,b){var S=ks(g);if(typeof S!="function")throw Error(R(150));if(g=S.call(g),g==null)throw Error(R(151));for(var C=S=null,k=y,E=y=0,N=null,_=g.next();k!==null&&!_.done;E++,_=g.next()){k.index>E?(N=k,k=null):N=k.sibling;var P=f(m,k,_.value,b);if(P===null){k===null&&(k=N);break}e&&k&&P.alternate===null&&t(m,k),y=i(P,y,E),C===null?S=P:C.sibling=P,C=P,k=N}if(_.done)return r(m,k),le&&Kr(m,E),S;if(k===null){for(;!_.done;E++,_=g.next())_=h(m,_.value,b),_!==null&&(y=i(_,y,E),C===null?S=_:C.sibling=_,C=_);return le&&Kr(m,E),S}for(k=n(m,k);!_.done;E++,_=g.next())_=p(k,m,E,_.value,b),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?E:_.key),y=i(_,y,E),C===null?S=_:C.sibling=_,C=_);return e&&k.forEach(function(T){return t(m,T)}),le&&Kr(m,E),S}function j(m,y,g,b){if(typeof g=="object"&&g!==null&&g.type===En&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zi:e:{for(var S=g.key,C=y;C!==null;){if(C.key===S){if(S=g.type,S===En){if(C.tag===7){r(m,C.sibling),y=s(C,g.props.children),y.return=m,m=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mr&&xf(S)===C.type){r(m,C.sibling),y=s(C,g.props),y.ref=Es(m,C,g),y.return=m,m=y;break e}r(m,C);break}else t(m,C);C=C.sibling}g.type===En?(y=on(g.props.children,m.mode,b,g.key),y.return=m,m=y):(b=Fa(g.type,g.key,g.props,null,m.mode,b),b.ref=Es(m,y,g),b.return=m,m=b)}return o(m);case Cn:e:{for(C=g.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){r(m,y.sibling),y=s(y,g.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=Kl(g,m.mode,b),y.return=m,m=y}return o(m);case mr:return C=g._init,j(m,y,C(g._payload),b)}if(Fs(g))return v(m,y,g,b);if(ks(g))return w(m,y,g,b);ua(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(r(m,y.sibling),y=s(y,g),y.return=m,m=y):(r(m,y),y=ql(g,m.mode,b),y.return=m,m=y),o(m)):r(m,y)}return j}var ts=n0(!0),s0=n0(!1),no=Vr(null),so=null,On=null,ld=null;function cd(){ld=On=so=null}function ud(e){var t=no.current;ae(no),e._currentValue=t}function Wc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gn(e,t){so=e,ld=On=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(ld!==e)if(e={context:e,memoizedValue:t,next:null},On===null){if(so===null)throw Error(R(308));On=e,so.dependencies={lanes:0,firstContext:e}}else On=On.next=e;return t}var tn=null;function dd(e){tn===null?tn=[e]:tn.push(e)}function i0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,dd(t)):(r.next=s.next,s.next=r),t.interleaved=r,er(e,n)}function er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pr=!1;function hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Er(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,er(e,r)}return s=n.interleaved,s===null?(t.next=t,dd(n)):(t.next=s.next,s.next=t),n.interleaved=t,er(e,r)}function Ra(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xu(e,r)}}function vf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function io(e,t,r,n){var s=e.updateQueue;pr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(f=t,p=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=me({},h,f);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fn|=o,e.lanes=o,e.memoizedState=h}}function wf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var zi={},Ot=Vr(zi),xi=Vr(zi),vi=Vr(zi);function rn(e){if(e===zi)throw Error(R(174));return e}function fd(e,t){switch(se(vi,t),se(xi,e),se(Ot,zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nc(t,e)}ae(Ot),se(Ot,t)}function rs(){ae(Ot),ae(xi),ae(vi)}function o0(e){rn(vi.current);var t=rn(Ot.current),r=Nc(t,e.type);t!==r&&(se(xi,e),se(Ot,r))}function md(e){xi.current===e&&(ae(Ot),ae(xi))}var ue=Vr(0);function ao(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vl=[];function pd(){for(var e=0;e<Vl.length;e++)Vl[e]._workInProgressVersionPrimary=null;Vl.length=0}var Da=sr.ReactCurrentDispatcher,Ul=sr.ReactCurrentBatchConfig,hn=0,he=null,be=null,Se=null,oo=!1,Qs=!1,wi=0,Vb=0;function Re(){throw Error(R(321))}function gd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pt(e[r],t[r]))return!1;return!0}function yd(e,t,r,n,s,i){if(hn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=e===null||e.memoizedState===null?Hb:Wb,e=r(n,s),Qs){i=0;do{if(Qs=!1,wi=0,25<=i)throw Error(R(301));i+=1,Se=be=null,t.updateQueue=null,Da.current=qb,e=r(n,s)}while(Qs)}if(Da.current=lo,t=be!==null&&be.next!==null,hn=0,Se=be=he=null,oo=!1,t)throw Error(R(300));return e}function xd(){var e=wi!==0;return wi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?he.memoizedState=Se=e:Se=Se.next=e,Se}function xt(){if(be===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Se===null?he.memoizedState:Se.next;if(t!==null)Se=t,be=e;else{if(e===null)throw Error(R(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Se===null?he.memoizedState=Se=e:Se=Se.next=e}return Se}function bi(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=xt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=be,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((hn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,he.lanes|=d,fn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Pt(n,t.memoizedState)||(Ge=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,fn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zl(e){var t=xt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Pt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function l0(){}function c0(e,t){var r=he,n=xt(),s=t(),i=!Pt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ge=!0),n=n.queue,vd(h0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,ji(9,d0.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(R(349));hn&30||u0(r,t,s)}return s}function u0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function d0(e,t,r,n){t.value=r,t.getSnapshot=n,f0(t)&&m0(e)}function h0(e,t,r){return r(function(){f0(t)&&m0(e)})}function f0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pt(e,r)}catch{return!0}}function m0(e){var t=er(e,1);t!==null&&Et(t,e,1,-1)}function bf(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=zb.bind(null,he,e),[t.memoizedState,e]}function ji(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function p0(){return xt().memoizedState}function Ma(e,t,r,n){var s=Dt();he.flags|=e,s.memoizedState=ji(1|t,r,void 0,n===void 0?null:n)}function Uo(e,t,r,n){var s=xt();n=n===void 0?null:n;var i=void 0;if(be!==null){var o=be.memoizedState;if(i=o.destroy,n!==null&&gd(n,o.deps)){s.memoizedState=ji(t,r,i,n);return}}he.flags|=e,s.memoizedState=ji(1|t,r,i,n)}function jf(e,t){return Ma(8390656,8,e,t)}function vd(e,t){return Uo(2048,8,e,t)}function g0(e,t){return Uo(4,2,e,t)}function y0(e,t){return Uo(4,4,e,t)}function x0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v0(e,t,r){return r=r!=null?r.concat([e]):null,Uo(4,4,x0.bind(null,t,e),r)}function wd(){}function w0(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function b0(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function j0(e,t,r){return hn&21?(Pt(r,t)||(r=Cg(),he.lanes|=r,fn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=r)}function Ub(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var n=Ul.transition;Ul.transition={};try{e(!1),t()}finally{ee=r,Ul.transition=n}}function k0(){return xt().memoizedState}function Bb(e,t,r){var n=Tr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},S0(e))N0(t,r);else if(r=i0(e,t,r,n),r!==null){var s=Ue();Et(r,e,n,s),_0(r,t,n)}}function zb(e,t,r){var n=Tr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(S0(e))N0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Pt(l,o)){var c=t.interleaved;c===null?(s.next=s,dd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=i0(e,t,s,n),r!==null&&(s=Ue(),Et(r,e,n,s),_0(r,t,n))}}function S0(e){var t=e.alternate;return e===he||t!==null&&t===he}function N0(e,t){Qs=oo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xu(e,r)}}var lo={readContext:yt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Hb={readContext:yt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:jf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ma(4194308,4,x0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Bb.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:bf,useDebugValue:wd,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=bf(!1),t=e[0];return e=Ub.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=he,s=Dt();if(le){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),_e===null)throw Error(R(349));hn&30||u0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,jf(h0.bind(null,n,i,e),[e]),n.flags|=2048,ji(9,d0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Dt(),t=_e.identifierPrefix;if(le){var r=qt,n=Wt;r=(n&~(1<<32-Ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vb++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wb={readContext:yt,useCallback:w0,useContext:yt,useEffect:vd,useImperativeHandle:v0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:b0,useReducer:Bl,useRef:p0,useState:function(){return Bl(bi)},useDebugValue:wd,useDeferredValue:function(e){var t=xt();return j0(t,be.memoizedState,e)},useTransition:function(){var e=Bl(bi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:l0,useSyncExternalStore:c0,useId:k0,unstable_isNewReconciler:!1},qb={readContext:yt,useCallback:w0,useContext:yt,useEffect:vd,useImperativeHandle:v0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:b0,useReducer:zl,useRef:p0,useState:function(){return zl(bi)},useDebugValue:wd,useDeferredValue:function(e){var t=xt();return be===null?t.memoizedState=e:j0(t,be.memoizedState,e)},useTransition:function(){var e=zl(bi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:l0,useSyncExternalStore:c0,useId:k0,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bo={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ue(),s=Tr(e),i=Yt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Er(e,i,s),t!==null&&(Et(t,e,s,n),Ra(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ue(),s=Tr(e),i=Yt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Er(e,i,s),t!==null&&(Et(t,e,s,n),Ra(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ue(),n=Tr(e),s=Yt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Er(e,s,n),t!==null&&(Et(t,e,n,r),Ra(t,e,n))}};function kf(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!mi(r,n)||!mi(s,i):!0}function C0(e,t,r){var n=!1,s=Mr,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Qe(t)?un:$e.current,n=t.contextTypes,i=(n=n!=null)?Zn(e,s):Mr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Kc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},hd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Qe(t)?un:$e.current,s.context=Zn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bo.enqueueReplaceState(s,s.state,null),io(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,t){try{var r="",n=t;do r+=ww(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Hl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Gc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kb=typeof WeakMap=="function"?WeakMap:Map;function E0(e,t,r){r=Yt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){uo||(uo=!0,su=n),Gc(e,t)},r}function P0(e,t,r){r=Yt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Gc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Gc(e,t),typeof n!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Nf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Kb;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=o1.bind(null,e,t,r),t.then(e,e))}function _f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yt(-1,1),t.tag=2,Er(r,t,1))),r.lanes|=1),e)}var Gb=sr.ReactCurrentOwner,Ge=!1;function Ve(e,t,r,n){t.child=e===null?s0(t,null,r,n):ts(t,e.child,r,n)}function Ef(e,t,r,n,s){r=r.render;var i=t.ref;return Gn(t,s),n=yd(e,t,r,n,i,s),r=xd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(le&&r&&id(t),t.flags|=1,Ve(e,t,n,s),t.child)}function Pf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ed(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,T0(e,t,i,n,s)):(e=Fa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:mi,r(o,n)&&e.ref===t.ref)return tr(e,t,s)}return t.flags|=1,e=Ar(i,n),e.ref=t.ref,e.return=t,t.child=e}function T0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(mi(i,n)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,tr(e,t,s)}return Yc(e,t,r,n,s)}function A0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Fn,tt),tt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Fn,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,se(Fn,tt),tt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,se(Fn,tt),tt|=n;return Ve(e,t,s,r),t.child}function R0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yc(e,t,r,n,s){var i=Qe(r)?un:$e.current;return i=Zn(t,i),Gn(t,s),r=yd(e,t,r,n,i,s),n=xd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(le&&n&&id(t),t.flags|=1,Ve(e,t,r,s),t.child)}function Tf(e,t,r,n,s){if(Qe(r)){var i=!0;eo(t)}else i=!1;if(Gn(t,s),t.stateNode===null)La(e,t),C0(t,r,n),Kc(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Qe(r)?un:$e.current,u=Zn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Sf(t,o,n,u),pr=!1;var f=t.memoizedState;o.state=f,io(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Ye.current||pr?(typeof d=="function"&&(qc(t,r,d,n),c=t.memoizedState),(l=pr||kf(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,a0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=Qe(r)?un:$e.current,c=Zn(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Sf(t,o,n,c),pr=!1,f=t.memoizedState,o.state=f,io(t,n,o,s);var v=t.memoizedState;l!==h||f!==v||Ye.current||pr?(typeof p=="function"&&(qc(t,r,p,n),v=t.memoizedState),(u=pr||kf(t,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Qc(e,t,r,n,i,s)}function Qc(e,t,r,n,s,i){R0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&pf(t,r,!1),tr(e,t,i);n=t.stateNode,Gb.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ts(t,e.child,null,i),t.child=ts(t,null,l,i)):Ve(e,t,l,i),t.memoizedState=n.state,s&&pf(t,r,!0),t.child}function D0(e){var t=e.stateNode;t.pendingContext?mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mf(e,t.context,!1),fd(e,t.containerInfo)}function Af(e,t,r,n,s){return es(),od(s),t.flags|=256,Ve(e,t,r,n),t.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function Jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function M0(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(ue,s&1),e===null)return Hc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wo(o,n,0,null),e=on(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jc(r),t.memoizedState=Xc,e):bd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Yb(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ar(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ar(l,i):(i=on(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Jc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Xc,n}return i=e.child,e=i.sibling,n=Ar(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bd(e,t){return t=Wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function da(e,t,r,n){return n!==null&&od(n),ts(t,e.child,null,r),e=bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yb(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Hl(Error(R(422))),da(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Wo({mode:"visible",children:n.children},s,0,null),i=on(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ts(t,e.child,null,o),t.child.memoizedState=Jc(o),t.memoizedState=Xc,i);if(!(t.mode&1))return da(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(R(419)),n=Hl(i,n,void 0),da(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ge||l){if(n=_e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(e,s),Et(n,e,s,-1))}return Cd(),n=Hl(Error(R(421))),da(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=l1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=Cr(s.nextSibling),nt=t,le=!0,_t=null,e!==null&&(ht[ft++]=Wt,ht[ft++]=qt,ht[ft++]=dn,Wt=e.id,qt=e.overflow,dn=t),t=bd(t,n.children),t.flags|=4096,t)}function Rf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Wc(e.return,t,r)}function Wl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function L0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ve(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rf(e,r,t);else if(e.tag===19)Rf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ao(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Wl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ao(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Wl(t,!0,r,null,i);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function La(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=Ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Qb(e,t,r){switch(t.tag){case 3:D0(t),es();break;case 5:o0(t);break;case 1:Qe(t.type)&&eo(t);break;case 4:fd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;se(no,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?M0(e,t,r):(se(ue,ue.current&1),e=tr(e,t,r),e!==null?e.sibling:null);se(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return L0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,A0(e,t,r)}return tr(e,t,r)}var O0,Zc,I0,F0;O0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zc=function(){};I0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,rn(Ot.current);var i=null;switch(r){case"input":s=bc(e,s),n=bc(e,n),i=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),i=[];break;case"textarea":s=Sc(e,s),n=Sc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ja)}_c(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};F0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ps(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xb(e,t,r){var n=t.pendingProps;switch(ad(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Qe(t.type)&&Za(),De(t),null;case 3:return n=t.stateNode,rs(),ae(Ye),ae($e),pd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(ou(_t),_t=null))),Zc(e,t),De(t),null;case 5:md(t);var s=rn(vi.current);if(r=t.type,e!==null&&t.stateNode!=null)I0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return De(t),null}if(e=rn(Ot.current),ca(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Mt]=t,n[yi]=i,e=(t.mode&1)!==0,r){case"dialog":ie("cancel",n),ie("close",n);break;case"iframe":case"object":case"embed":ie("load",n);break;case"video":case"audio":for(s=0;s<Vs.length;s++)ie(Vs[s],n);break;case"source":ie("error",n);break;case"img":case"image":case"link":ie("error",n),ie("load",n);break;case"details":ie("toggle",n);break;case"input":Vh(n,i),ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ie("invalid",n);break;case"textarea":Bh(n,i),ie("invalid",n)}_c(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&la(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&la(n.textContent,l,e),s=["children",""+l]):oi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ie("scroll",n)}switch(r){case"input":ea(n),Uh(n,i,!0);break;case"textarea":ea(n),zh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ja)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mt]=t,e[yi]=n,O0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Cc(r,n),r){case"dialog":ie("cancel",e),ie("close",e),s=n;break;case"iframe":case"object":case"embed":ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vs.length;s++)ie(Vs[s],e);s=n;break;case"source":ie("error",e),s=n;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=n;break;case"details":ie("toggle",e),s=n;break;case"input":Vh(e,n),s=bc(e,n),ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),ie("invalid",e);break;case"textarea":Bh(e,n),s=Sc(e,n),ie("invalid",e);break;default:s=n}_c(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?pg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fg(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&li(e,c):typeof c=="number"&&li(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&Wu(e,i,c,o))}switch(r){case"input":ea(e),Uh(e,n,!1);break;case"textarea":ea(e),zh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Hn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Hn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ja)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)F0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=rn(vi.current),rn(Ot.current),ca(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mt]=t,(i=n.nodeValue!==r)&&(e=nt,e!==null))switch(e.tag){case 3:la(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&la(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mt]=t,t.stateNode=n}return De(t),null;case 13:if(ae(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&rt!==null&&t.mode&1&&!(t.flags&128))r0(),es(),t.flags|=98560,i=!1;else if(i=ca(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Mt]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else _t!==null&&(ou(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?je===0&&(je=3):Cd())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return rs(),Zc(e,t),e===null&&pi(t.stateNode.containerInfo),De(t),null;case 10:return ud(t.type._context),De(t),null;case 17:return Qe(t.type)&&Za(),De(t),null;case 19:if(ae(ue),i=t.memoizedState,i===null)return De(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ps(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ao(e),o!==null){for(t.flags|=128,Ps(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&xe()>ss&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304)}else{if(!n)if(e=ao(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ps(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!le)return De(t),null}else 2*xe()-i.renderingStartTime>ss&&r!==1073741824&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xe(),t.sibling=null,r=ue.current,se(ue,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return _d(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Jb(e,t){switch(ad(t),t.tag){case 1:return Qe(t.type)&&Za(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rs(),ae(Ye),ae($e),pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return md(t),null;case 13:if(ae(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(ue),null;case 4:return rs(),null;case 10:return ud(t.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var ha=!1,Le=!1,Zb=typeof WeakSet=="function"?WeakSet:Set,O=null;function In(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ge(e,t,n)}else r.current=null}function eu(e,t,r){try{r()}catch(n){ge(e,t,n)}}var Df=!1;function e1(e,t){if(Ic=Ya,e=zg(),sd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fc={focusedElem:e,selectionRange:r},Ya=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,j=v.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:kt(t.type,w),j);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=Df,Df=!1,v}function Xs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&eu(t,r,i)}s=s.next}while(s!==n)}}function zo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $0(e){var t=e.alternate;t!==null&&(e.alternate=null,$0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[yi],delete t[Uc],delete t[Ob],delete t[Ib])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V0(e){return e.tag===5||e.tag===3||e.tag===4}function Mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ja));else if(n!==4&&(e=e.child,e!==null))for(ru(e,t,r),e=e.sibling;e!==null;)ru(e,t,r),e=e.sibling}function nu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nu(e,t,r),e=e.sibling;e!==null;)nu(e,t,r),e=e.sibling}var Ee=null,St=!1;function lr(e,t,r){for(r=r.child;r!==null;)U0(e,t,r),r=r.sibling}function U0(e,t,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Lo,r)}catch{}switch(r.tag){case 5:Le||In(r,t);case 6:var n=Ee,s=St;Ee=null,lr(e,t,r),Ee=n,St=s,Ee!==null&&(St?(e=Ee,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ee.removeChild(r.stateNode));break;case 18:Ee!==null&&(St?(e=Ee,r=r.stateNode,e.nodeType===8?Fl(e.parentNode,r):e.nodeType===1&&Fl(e,r),hi(e)):Fl(Ee,r.stateNode));break;case 4:n=Ee,s=St,Ee=r.stateNode.containerInfo,St=!0,lr(e,t,r),Ee=n,St=s;break;case 0:case 11:case 14:case 15:if(!Le&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eu(r,t,o),s=s.next}while(s!==n)}lr(e,t,r);break;case 1:if(!Le&&(In(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ge(r,t,l)}lr(e,t,r);break;case 21:lr(e,t,r);break;case 22:r.mode&1?(Le=(n=Le)||r.memoizedState!==null,lr(e,t,r),Le=n):lr(e,t,r);break;default:lr(e,t,r)}}function Lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zb),t.forEach(function(n){var s=c1.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ee=l.stateNode,St=!1;break e;case 3:Ee=l.stateNode.containerInfo,St=!0;break e;case 4:Ee=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Ee===null)throw Error(R(160));U0(i,o,s),Ee=null,St=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)B0(t,e),t=t.sibling}function B0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),At(e),n&4){try{Xs(3,e,e.return),zo(3,e)}catch(w){ge(e,e.return,w)}try{Xs(5,e,e.return)}catch(w){ge(e,e.return,w)}}break;case 1:bt(t,e),At(e),n&512&&r!==null&&In(r,r.return);break;case 5:if(bt(t,e),At(e),n&512&&r!==null&&In(r,r.return),e.flags&32){var s=e.stateNode;try{li(s,"")}catch(w){ge(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ug(s,i),Cc(l,o);var u=Cc(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?pg(s,h):d==="dangerouslySetInnerHTML"?fg(s,h):d==="children"?li(s,h):Wu(s,d,h,u)}switch(l){case"input":jc(s,i);break;case"textarea":dg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Hn(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hn(s,!!i.multiple,i.defaultValue,!0):Hn(s,!!i.multiple,i.multiple?[]:"",!1))}s[yi]=i}catch(w){ge(e,e.return,w)}}break;case 6:if(bt(t,e),At(e),n&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ge(e,e.return,w)}}break;case 3:if(bt(t,e),At(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hi(t.containerInfo)}catch(w){ge(e,e.return,w)}break;case 4:bt(t,e),At(e);break;case 13:bt(t,e),At(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sd=xe())),n&4&&Lf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Le=(u=Le)||d,bt(t,e),Le=u):bt(t,e),At(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:Xs(4,f,f.return);break;case 1:In(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ge(n,r,w)}}break;case 5:In(f,f.return);break;case 22:if(f.memoizedState!==null){If(h);continue}}p!==null?(p.return=f,O=p):If(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mg("display",o))}catch(w){ge(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ge(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bt(t,e),At(e),n&4&&Lf(e);break;case 21:break;default:bt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(V0(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(li(s,""),n.flags&=-33);var i=Mf(e);nu(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Mf(e);ru(e,l,o);break;default:throw Error(R(161))}}catch(c){ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t1(e,t,r){O=e,z0(e)}function z0(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ha;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Le;l=ha;var u=Le;if(ha=o,(Le=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?Ff(s):c!==null?(c.return=o,O=c):Ff(s);for(;i!==null;)O=i,z0(i),i=i.sibling;O=s,ha=l,Le=u}Of(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Of(e)}}function Of(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||zo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Le)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wf(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Le||t.flags&512&&tu(t)}catch(f){ge(t,t.return,f)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function If(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function Ff(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zo(4,t)}catch(c){ge(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ge(t,s,c)}}var i=t.return;try{tu(t)}catch(c){ge(t,i,c)}break;case 5:var o=t.return;try{tu(t)}catch(c){ge(t,o,c)}}}catch(c){ge(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var r1=Math.ceil,co=sr.ReactCurrentDispatcher,jd=sr.ReactCurrentOwner,pt=sr.ReactCurrentBatchConfig,G=0,_e=null,ve=null,Te=0,tt=0,Fn=Vr(0),je=0,ki=null,fn=0,Ho=0,kd=0,Js=null,We=null,Sd=0,ss=1/0,Bt=null,uo=!1,su=null,Pr=null,fa=!1,br=null,ho=0,Zs=0,iu=null,Oa=-1,Ia=0;function Ue(){return G&6?xe():Oa!==-1?Oa:Oa=xe()}function Tr(e){return e.mode&1?G&2&&Te!==0?Te&-Te:$b.transition!==null?(Ia===0&&(Ia=Cg()),Ia):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Mg(e.type)),e):1}function Et(e,t,r,n){if(50<Zs)throw Zs=0,iu=null,Error(R(185));Vi(e,r,n),(!(G&2)||e!==_e)&&(e===_e&&(!(G&2)&&(Ho|=r),je===4&&xr(e,Te)),Xe(e,n),r===1&&G===0&&!(t.mode&1)&&(ss=xe()+500,Vo&&Ur()))}function Xe(e,t){var r=e.callbackNode;$w(e,t);var n=Ga(e,e===_e?Te:0);if(n===0)r!==null&&qh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qh(r),t===1)e.tag===0?Fb($f.bind(null,e)):Zg($f.bind(null,e)),Mb(function(){!(G&6)&&Ur()}),r=null;else{switch(Eg(n)){case 1:r=Qu;break;case 4:r=Ng;break;case 16:r=Ka;break;case 536870912:r=_g;break;default:r=Ka}r=X0(r,H0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function H0(e,t){if(Oa=-1,Ia=0,G&6)throw Error(R(327));var r=e.callbackNode;if(Yn()&&e.callbackNode!==r)return null;var n=Ga(e,e===_e?Te:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fo(e,n);else{t=n;var s=G;G|=2;var i=q0();(_e!==e||Te!==t)&&(Bt=null,ss=xe()+500,an(e,t));do try{i1();break}catch(l){W0(e,l)}while(!0);cd(),co.current=i,G=s,ve!==null?t=0:(_e=null,Te=0,t=je)}if(t!==0){if(t===2&&(s=Rc(e),s!==0&&(n=s,t=au(e,s))),t===1)throw r=ki,an(e,0),xr(e,n),Xe(e,xe()),r;if(t===6)xr(e,n);else{if(s=e.current.alternate,!(n&30)&&!n1(s)&&(t=fo(e,n),t===2&&(i=Rc(e),i!==0&&(n=i,t=au(e,i))),t===1))throw r=ki,an(e,0),xr(e,n),Xe(e,xe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:Gr(e,We,Bt);break;case 3:if(xr(e,n),(n&130023424)===n&&(t=Sd+500-xe(),10<t)){if(Ga(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ue(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vc(Gr.bind(null,e,We,Bt),t);break}Gr(e,We,Bt);break;case 4:if(xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ct(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*r1(n/1960))-n,10<n){e.timeoutHandle=Vc(Gr.bind(null,e,We,Bt),n);break}Gr(e,We,Bt);break;case 5:Gr(e,We,Bt);break;default:throw Error(R(329))}}}return Xe(e,xe()),e.callbackNode===r?H0.bind(null,e):null}function au(e,t){var r=Js;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=fo(e,t),e!==2&&(t=We,We=r,t!==null&&ou(t)),e}function ou(e){We===null?We=e:We.push.apply(We,e)}function n1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Pt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~kd,t&=~Ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ct(t),n=1<<r;e[r]=-1,t&=~n}}function $f(e){if(G&6)throw Error(R(327));Yn();var t=Ga(e,0);if(!(t&1))return Xe(e,xe()),null;var r=fo(e,t);if(e.tag!==0&&r===2){var n=Rc(e);n!==0&&(t=n,r=au(e,n))}if(r===1)throw r=ki,an(e,0),xr(e,t),Xe(e,xe()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,We,Bt),Xe(e,xe()),null}function Nd(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(ss=xe()+500,Vo&&Ur())}}function mn(e){br!==null&&br.tag===0&&!(G&6)&&Yn();var t=G;G|=1;var r=pt.transition,n=ee;try{if(pt.transition=null,ee=1,e)return e()}finally{ee=n,pt.transition=r,G=t,!(G&6)&&Ur()}}function _d(){tt=Fn.current,ae(Fn)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Db(r)),ve!==null)for(r=ve.return;r!==null;){var n=r;switch(ad(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Za();break;case 3:rs(),ae(Ye),ae($e),pd();break;case 5:md(n);break;case 4:rs();break;case 13:ae(ue);break;case 19:ae(ue);break;case 10:ud(n.type._context);break;case 22:case 23:_d()}r=r.return}if(_e=e,ve=e=Ar(e.current,null),Te=tt=t,je=0,ki=null,kd=Ho=fn=0,We=Js=null,tn!==null){for(t=0;t<tn.length;t++)if(r=tn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}tn=null}return e}function W0(e,t){do{var r=ve;try{if(cd(),Da.current=lo,oo){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}oo=!1}if(hn=0,Se=be=he=null,Qs=!1,wi=0,jd.current=null,r===null||r.return===null){je=1,ki=t,ve=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Te,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=_f(o);if(p!==null){p.flags&=-257,Cf(p,o,l,i,t),p.mode&1&&Nf(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Nf(i,u,t),Cd();break e}c=Error(R(426))}}else if(le&&l.mode&1){var j=_f(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Cf(j,o,l,i,t),od(ns(c,l));break e}}i=c=ns(c,l),je!==4&&(je=2),Js===null?Js=[i]:Js.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=E0(i,c,t);vf(i,m);break e;case 1:l=c;var y=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pr===null||!Pr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=P0(i,l,t);vf(i,b);break e}}i=i.return}while(i!==null)}G0(r)}catch(S){t=S,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function q0(){var e=co.current;return co.current=lo,e===null?lo:e}function Cd(){(je===0||je===3||je===2)&&(je=4),_e===null||!(fn&268435455)&&!(Ho&268435455)||xr(_e,Te)}function fo(e,t){var r=G;G|=2;var n=q0();(_e!==e||Te!==t)&&(Bt=null,an(e,t));do try{s1();break}catch(s){W0(e,s)}while(!0);if(cd(),G=r,co.current=n,ve!==null)throw Error(R(261));return _e=null,Te=0,je}function s1(){for(;ve!==null;)K0(ve)}function i1(){for(;ve!==null&&!Tw();)K0(ve)}function K0(e){var t=Q0(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?G0(e):ve=t,jd.current=null}function G0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jb(r,t),r!==null){r.flags&=32767,ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ve=null;return}}else if(r=Xb(r,t,tt),r!==null){ve=r;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);je===0&&(je=5)}function Gr(e,t,r){var n=ee,s=pt.transition;try{pt.transition=null,ee=1,a1(e,t,r,n)}finally{pt.transition=s,ee=n}return null}function a1(e,t,r,n){do Yn();while(br!==null);if(G&6)throw Error(R(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Vw(e,i),e===_e&&(ve=_e=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fa||(fa=!0,X0(Ka,function(){return Yn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var o=ee;ee=1;var l=G;G|=4,jd.current=null,e1(e,r),B0(r,e),_b(Fc),Ya=!!Ic,Fc=Ic=null,e.current=r,t1(r),Aw(),G=l,ee=o,pt.transition=i}else e.current=r;if(fa&&(fa=!1,br=e,ho=s),i=e.pendingLanes,i===0&&(Pr=null),Mw(r.stateNode),Xe(e,xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(uo)throw uo=!1,e=su,su=null,e;return ho&1&&e.tag!==0&&Yn(),i=e.pendingLanes,i&1?e===iu?Zs++:(Zs=0,iu=e):Zs=0,Ur(),null}function Yn(){if(br!==null){var e=Eg(ho),t=pt.transition,r=ee;try{if(pt.transition=null,ee=16>e?16:e,br===null)var n=!1;else{if(e=br,br=null,ho=0,G&6)throw Error(R(331));var s=G;for(G|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Xs(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,p=d.return;if($0(d),d===u){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var y=e.current;for(O=y;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=y;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zo(9,l)}}catch(S){ge(l,l.return,S)}if(l===o){O=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,O=b;break e}O=l.return}}if(G=s,Ur(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Lo,e)}catch{}n=!0}return n}finally{ee=r,pt.transition=t}}return!1}function Vf(e,t,r){t=ns(r,t),t=E0(e,t,1),e=Er(e,t,1),t=Ue(),e!==null&&(Vi(e,1,t),Xe(e,t))}function ge(e,t,r){if(e.tag===3)Vf(e,e,r);else for(;t!==null;){if(t.tag===3){Vf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pr===null||!Pr.has(n))){e=ns(r,e),e=P0(t,e,1),t=Er(t,e,1),e=Ue(),t!==null&&(Vi(t,1,e),Xe(t,e));break}}t=t.return}}function o1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Te&r)===r&&(je===4||je===3&&(Te&130023424)===Te&&500>xe()-Sd?an(e,0):kd|=r),Xe(e,t)}function Y0(e,t){t===0&&(e.mode&1?(t=na,na<<=1,!(na&130023424)&&(na=4194304)):t=1);var r=Ue();e=er(e,t),e!==null&&(Vi(e,t,r),Xe(e,r))}function l1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Y0(e,r)}function c1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),Y0(e,r)}var Q0;Q0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ge=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ge=!1,Qb(e,t,r);Ge=!!(e.flags&131072)}else Ge=!1,le&&t.flags&1048576&&e0(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;La(e,t),e=t.pendingProps;var s=Zn(t,$e.current);Gn(t,r),s=yd(null,t,n,e,s,r);var i=xd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(n)?(i=!0,eo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hd(t),s.updater=Bo,t.stateNode=s,s._reactInternals=t,Kc(t,n,e,r),t=Qc(null,t,n,!0,i,r)):(t.tag=0,le&&i&&id(t),Ve(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(La(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=d1(n),e=kt(n,e),s){case 0:t=Yc(null,t,n,e,r);break e;case 1:t=Tf(null,t,n,e,r);break e;case 11:t=Ef(null,t,n,e,r);break e;case 14:t=Pf(null,t,n,kt(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Yc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Tf(e,t,n,s,r);case 3:e:{if(D0(t),e===null)throw Error(R(387));n=t.pendingProps,i=t.memoizedState,s=i.element,a0(e,t),io(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ns(Error(R(423)),t),t=Af(e,t,n,r,s);break e}else if(n!==s){s=ns(Error(R(424)),t),t=Af(e,t,n,r,s);break e}else for(rt=Cr(t.stateNode.containerInfo.firstChild),nt=t,le=!0,_t=null,r=s0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(es(),n===s){t=tr(e,t,r);break e}Ve(e,t,n,r)}t=t.child}return t;case 5:return o0(t),e===null&&Hc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,$c(n,s)?o=null:i!==null&&$c(n,i)&&(t.flags|=32),R0(e,t),Ve(e,t,o,r),t.child;case 6:return e===null&&Hc(t),null;case 13:return M0(e,t,r);case 4:return fd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ts(t,null,n,r):Ve(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Ef(e,t,n,s,r);case 7:return Ve(e,t,t.pendingProps,r),t.child;case 8:return Ve(e,t,t.pendingProps.children,r),t.child;case 12:return Ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,se(no,n._currentValue),n._currentValue=o,i!==null)if(Pt(i.value,o)){if(i.children===s.children&&!Ye.current){t=tr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Yt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Wc(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Wc(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ve(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gn(t,r),s=yt(s),n=n(s),t.flags|=1,Ve(e,t,n,r),t.child;case 14:return n=t.type,s=kt(n,t.pendingProps),s=kt(n.type,s),Pf(e,t,n,s,r);case 15:return T0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),La(e,t),t.tag=1,Qe(n)?(e=!0,eo(t)):e=!1,Gn(t,r),C0(t,n,s),Kc(t,n,s,r),Qc(null,t,n,!0,e,r);case 19:return L0(e,t,r);case 22:return A0(e,t,r)}throw Error(R(156,t.tag))};function X0(e,t){return Sg(e,t)}function u1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,r,n){return new u1(e,t,r,n)}function Ed(e){return e=e.prototype,!(!e||!e.isReactComponent)}function d1(e){if(typeof e=="function")return Ed(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ku)return 11;if(e===Gu)return 14}return 2}function Ar(e,t){var r=e.alternate;return r===null?(r=mt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fa(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ed(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case En:return on(r.children,s,i,t);case qu:o=8,s|=8;break;case yc:return e=mt(12,r,t,s|2),e.elementType=yc,e.lanes=i,e;case xc:return e=mt(13,r,t,s),e.elementType=xc,e.lanes=i,e;case vc:return e=mt(19,r,t,s),e.elementType=vc,e.lanes=i,e;case og:return Wo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ig:o=10;break e;case ag:o=9;break e;case Ku:o=11;break e;case Gu:o=14;break e;case mr:o=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=mt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function on(e,t,r,n){return e=mt(7,e,n,t),e.lanes=r,e}function Wo(e,t,r,n){return e=mt(22,e,n,t),e.elementType=og,e.lanes=r,e.stateNode={isHidden:!1},e}function ql(e,t,r){return e=mt(6,e,null,t),e.lanes=r,e}function Kl(e,t,r){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h1(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pd(e,t,r,n,s,i,o,l,c){return e=new h1(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hd(i),e}function f1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function J0(e){if(!e)return Mr;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(Qe(r))return Jg(e,r,t)}return t}function Z0(e,t,r,n,s,i,o,l,c){return e=Pd(r,n,!0,e,s,i,o,l,c),e.context=J0(null),r=e.current,n=Ue(),s=Tr(r),i=Yt(n,s),i.callback=t??null,Er(r,i,s),e.current.lanes=s,Vi(e,s,n),Xe(e,n),e}function qo(e,t,r,n){var s=t.current,i=Ue(),o=Tr(s);return r=J0(r),t.context===null?t.context=r:t.pendingContext=r,t=Yt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Er(s,t,o),e!==null&&(Et(e,s,o,i),Ra(e,s,o)),o}function mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Td(e,t){Uf(e,t),(e=e.alternate)&&Uf(e,t)}function m1(){return null}var ey=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ad(e){this._internalRoot=e}Ko.prototype.render=Ad.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));qo(e,t,null,null)};Ko.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mn(function(){qo(null,e,null,null)}),t[Zt]=null}};function Ko(e){this._internalRoot=e}Ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ag();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yr.length&&t!==0&&t<yr[r].priority;r++);yr.splice(r,0,e),r===0&&Dg(e)}};function Rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bf(){}function p1(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=mo(o);i.call(u)}}var o=Z0(t,n,e,0,null,!1,!1,"",Bf);return e._reactRootContainer=o,e[Zt]=o.current,pi(e.nodeType===8?e.parentNode:e),mn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=mo(c);l.call(u)}}var c=Pd(e,0,!1,null,null,!1,!1,"",Bf);return e._reactRootContainer=c,e[Zt]=c.current,pi(e.nodeType===8?e.parentNode:e),mn(function(){qo(t,c,r,n)}),c}function Yo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=mo(o);l.call(c)}}qo(t,o,e,s)}else o=p1(r,t,e,s,n);return mo(o)}Pg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$s(t.pendingLanes);r!==0&&(Xu(t,r|1),Xe(t,xe()),!(G&6)&&(ss=xe()+500,Ur()))}break;case 13:mn(function(){var n=er(e,1);if(n!==null){var s=Ue();Et(n,e,1,s)}}),Td(e,1)}};Ju=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var r=Ue();Et(t,e,134217728,r)}Td(e,134217728)}};Tg=function(e){if(e.tag===13){var t=Tr(e),r=er(e,t);if(r!==null){var n=Ue();Et(r,e,t,n)}Td(e,t)}};Ag=function(){return ee};Rg=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};Pc=function(e,t,r){switch(t){case"input":if(jc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$o(n);if(!s)throw Error(R(90));cg(n),jc(n,s)}}}break;case"textarea":dg(e,r);break;case"select":t=r.value,t!=null&&Hn(e,!!r.multiple,t,!1)}};xg=Nd;vg=mn;var g1={usingClientEntryPoint:!1,Events:[Bi,Rn,$o,gg,yg,Nd]},Ts={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y1={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||m1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Lo=ma.inject(y1),Lt=ma}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g1;lt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(t))throw Error(R(200));return f1(e,t,null,r)};lt.createRoot=function(e,t){if(!Rd(e))throw Error(R(299));var r=!1,n="",s=ey;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Pd(e,1,!1,null,null,r,!1,n,s),e[Zt]=t.current,pi(e.nodeType===8?e.parentNode:e),new Ad(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=jg(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return mn(e)};lt.hydrate=function(e,t,r){if(!Go(t))throw Error(R(200));return Yo(null,e,t,!0,r)};lt.hydrateRoot=function(e,t,r){if(!Rd(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ey;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Z0(t,null,e,1,r??null,s,!1,i,o),e[Zt]=t.current,pi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ko(t)};lt.render=function(e,t,r){if(!Go(t))throw Error(R(200));return Yo(null,e,t,!1,r)};lt.unmountComponentAtNode=function(e){if(!Go(e))throw Error(R(40));return e._reactRootContainer?(mn(function(){Yo(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};lt.unstable_batchedUpdates=Nd;lt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Go(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Yo(e,t,r,!1,n)};lt.version="18.3.1-next-f1338f8080-20240426";function ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ty)}catch(e){console.error(e)}}ty(),tg.exports=lt;var x1=tg.exports,ry,zf=x1;ry=zf.createRoot,zf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}var jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jr||(jr={}));const Hf="popstate";function v1(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return lu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:po(s)}return b1(t,r,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ny(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w1(){return Math.random().toString(36).substr(2,8)}function Wf(e,t){return{usr:e.state,key:e.key,idx:t}}function lu(e,t,r,n){return r===void 0&&(r=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gs(t):t,{state:r,key:t&&t.key||n||w1()})}function po(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function b1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=jr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Si({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=jr.Pop;let j=d(),m=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:m})}function f(j,m){l=jr.Push;let y=lu(w.location,j,m);u=d()+1;let g=Wf(y,u),b=w.createHref(y);try{o.pushState(g,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&c&&c({action:l,location:w.location,delta:1})}function p(j,m){l=jr.Replace;let y=lu(w.location,j,m);u=d();let g=Wf(y,u),b=w.createHref(y);o.replaceState(g,"",b),i&&c&&c({action:l,location:w.location,delta:0})}function v(j){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof j=="string"?j:po(j);return y=y.replace(/ $/,"%20"),fe(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let w={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Hf,h),c=j,()=>{s.removeEventListener(Hf,h),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let m=v(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(j){return o.go(j)}};return w}var qf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qf||(qf={}));function j1(e,t,r){return r===void 0&&(r="/"),k1(e,t,r)}function k1(e,t,r,n){let s=typeof t=="string"?gs(t):t,i=is(s.pathname||"/",r);if(i==null)return null;let o=sy(e);S1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=L1(i);l=D1(o[c],u)}return l}function sy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Rr([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sy(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:A1(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of iy(i.path))s(i,o,c)}),t}function iy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=iy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function S1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:R1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const N1=/^:[\w-]+$/,_1=3,C1=2,E1=1,P1=10,T1=-2,Kf=e=>e==="*";function A1(e,t){let r=e.split("/"),n=r.length;return r.some(Kf)&&(n+=T1),t&&(n+=C1),r.filter(s=>!Kf(s)).reduce((s,i)=>s+(N1.test(i)?_1:i===""?E1:P1),n)}function R1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function D1(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Rr([i,h.pathname]),pathnameBase:$1(Rr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Rr([i,h.pathnameBase]))}return o}function cu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=M1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function M1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ny(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function L1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ny(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function is(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function O1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gs(e):e;return{pathname:r?r.startsWith("/")?r:I1(r,t):t,search:V1(n),hash:U1(s)}}function I1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dd(e,t){let r=F1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Md(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gs(e):(s=Si({},e),fe(!s.pathname||!s.pathname.includes("?"),Gl("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Gl("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Gl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=O1(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Rr=e=>e.join("/").replace(/\/\/+/g,"/"),$1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ay=["post","put","patch","delete"];new Set(ay);const z1=["get",...ay];new Set(z1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}const Qo=x.createContext(null),oy=x.createContext(null),ir=x.createContext(null),Xo=x.createContext(null),Vt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ly=x.createContext(null);function H1(e,t){let{relative:r}=t===void 0?{}:t;ys()||fe(!1);let{basename:n,navigator:s}=x.useContext(ir),{hash:i,pathname:o,search:l}=Jo(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Rr([n,o])),s.createHref({pathname:c,search:l,hash:i})}function ys(){return x.useContext(Xo)!=null}function ar(){return ys()||fe(!1),x.useContext(Xo).location}function cy(e){x.useContext(ir).static||x.useLayoutEffect(e)}function wt(){let{isDataRoute:e}=x.useContext(Vt);return e?aj():W1()}function W1(){ys()||fe(!1);let e=x.useContext(Qo),{basename:t,future:r,navigator:n}=x.useContext(ir),{matches:s}=x.useContext(Vt),{pathname:i}=ar(),o=JSON.stringify(Dd(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return cy(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Md(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Rr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const q1=x.createContext(null);function K1(e){let t=x.useContext(Vt).outlet;return t&&x.createElement(q1.Provider,{value:e},t)}function G1(){let{matches:e}=x.useContext(Vt),t=e[e.length-1];return t?t.params:{}}function Jo(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(ir),{matches:s}=x.useContext(Vt),{pathname:i}=ar(),o=JSON.stringify(Dd(s,n.v7_relativeSplatPath));return x.useMemo(()=>Md(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Y1(e,t){return Q1(e,t)}function Q1(e,t,r,n){ys()||fe(!1);let{navigator:s,static:i}=x.useContext(ir),{matches:o}=x.useContext(Vt),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=ar(),h;if(t){var f;let m=typeof t=="string"?gs(t):t;u==="/"||(f=m.pathname)!=null&&f.startsWith(u)||fe(!1),h=m}else h=d;let p=h.pathname||"/",v=p;if(u!=="/"){let m=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=j1(e,{pathname:v}),j=tj(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:Rr([u,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:Rr([u,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,r,n);return t&&j?x.createElement(Xo.Provider,{value:{location:Ni({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:jr.Pop}},j):j}function X1(){let e=ij(),t=B1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const J1=x.createElement(X1,null);class Z1 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Vt.Provider,{value:this.props.routeContext},x.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ej(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Qo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Vt.Provider,{value:t},n)}function tj(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||fe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,w=null,j=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||J1,c&&(u<0&&f===0?(oj("route-fallback"),v=!0,j=null):u===f&&(v=!0,j=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),y=()=>{let g;return p?g=w:v?g=j:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,x.createElement(ej,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(Z1,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var uy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uy||{}),dy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dy||{});function rj(e){let t=x.useContext(Qo);return t||fe(!1),t}function nj(e){let t=x.useContext(oy);return t||fe(!1),t}function sj(e){let t=x.useContext(Vt);return t||fe(!1),t}function hy(e){let t=sj(),r=t.matches[t.matches.length-1];return r.route.id||fe(!1),r.route.id}function ij(){var e;let t=x.useContext(ly),r=nj(),n=hy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function aj(){let{router:e}=rj(uy.UseNavigateStable),t=hy(dy.UseNavigateStable),r=x.useRef(!1);return cy(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ni({fromRouteId:t},i)))},[e,t])}const Gf={};function oj(e,t,r){Gf[e]||(Gf[e]=!0)}function lj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function as(e){let{to:t,replace:r,state:n,relative:s}=e;ys()||fe(!1);let{future:i,static:o}=x.useContext(ir),{matches:l}=x.useContext(Vt),{pathname:c}=ar(),u=wt(),d=Md(t,Dd(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function cj(e){return K1(e.context)}function Ce(e){fe(!1)}function uj(e){let{basename:t="/",children:r=null,location:n,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:l}=e;ys()&&fe(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Ni({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=gs(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,w=x.useMemo(()=>{let j=is(d,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:p,key:v},navigationType:s}},[c,d,h,f,p,v,s]);return w==null?null:x.createElement(ir.Provider,{value:u},x.createElement(Xo.Provider,{children:r,value:w}))}function dj(e){let{children:t,location:r}=e;return Y1(uu(t),r)}new Promise(()=>{});function uu(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,uu(n.props.children,i));return}n.type!==Ce&&fe(!1),!n.props.index||!n.props.children||fe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},go.apply(this,arguments)}function fy(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function hj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fj(e,t){return e.button===0&&(!t||t==="_self")&&!hj(e)}const mj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gj="6";try{window.__reactRouterVersion=gj}catch{}const yj=x.createContext({isTransitioning:!1}),xj="startTransition",Yf=ow[xj];function vj(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=v1({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&Yf?Yf(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>lj(n),[n]),x.createElement(uj,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const wj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=fy(t,mj),{basename:p}=x.useContext(ir),v,w=!1;if(typeof u=="string"&&bj.test(u)&&(v=u,wj))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=is(b.pathname,p);b.origin===g.origin&&S!=null?u=S+b.search+b.hash:w=!0}catch{}let j=H1(u,{relative:s}),m=kj(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(g){n&&n(g),g.defaultPrevented||m(g)}return x.createElement("a",go({},f,{href:v||j,onClick:w||i?n:y,ref:r,target:c}))}),Ut=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=fy(t,pj),f=Jo(c,{relative:h.relative}),p=ar(),v=x.useContext(oy),{navigator:w,basename:j}=x.useContext(ir),m=v!=null&&Sj(f)&&u===!0,y=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,g=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(g=g.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&j&&(b=is(b,j)||b);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=g===y||!o&&g.startsWith(y)&&g.charAt(S)==="/",k=b!=null&&(b===y||!o&&b.startsWith(y)&&b.charAt(y.length)==="/"),E={isActive:C,isPending:k,isTransitioning:m},N=C?n:void 0,_;typeof i=="function"?_=i(E):_=[i,C?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(E):l;return x.createElement(Ne,go({},h,{"aria-current":N,className:_,ref:r,style:P,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var du;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(du||(du={}));var Qf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qf||(Qf={}));function jj(e){let t=x.useContext(Qo);return t||fe(!1),t}function kj(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=wt(),u=ar(),d=Jo(e,{relative:o});return x.useCallback(h=>{if(fj(h,r)){h.preventDefault();let f=n!==void 0?n:po(u)===po(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function Sj(e,t){t===void 0&&(t={});let r=x.useContext(yj);r==null&&fe(!1);let{basename:n}=jj(du.useViewTransitionState),s=Jo(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=is(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=is(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cu(s.pathname,o)!=null||cu(s.pathname,i)!=null}const Nj="modulepreload",_j=function(e){return"/"+e},Xf={},os=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=_j(c),c in Xf)return;Xf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Nj,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Cj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>os(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ld extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ej extends Ld{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pj extends Ld{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tj extends Ld{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hu||(hu={}));var Aj=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Rj{constructor(t,{headers:r={},customFetch:n,region:s=hu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Cj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Aj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new Ej(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Pj(d);if(!d.ok)throw new Tj(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var qe={},Od={},Zo={},Hi={},el={},tl={},Dj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=Dj();const Mj=ls.fetch,my=ls.fetch.bind(ls),py=ls.Headers,Lj=ls.Request,Oj=ls.Response,xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:py,Request:Lj,Response:Oj,default:my,fetch:Mj},Symbol.toStringTag,{value:"Module"})),Ij=Wv(xs);var rl={};Object.defineProperty(rl,"__esModule",{value:!0});let Fj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rl.default=Fj;var gy=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tl,"__esModule",{value:!0});const $j=gy(Ij),Vj=gy(rl);let Uj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=$j.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&w===""?(f=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Vj.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};tl.default=Uj;var Bj=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});const zj=Bj(tl);let Hj=class extends zj.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};el.default=Hj;var Wj=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const qj=Wj(el);let Kj=class extends qj.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Hi.default=Kj;var Gj=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});const As=Gj(Hi);let Yj=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new As.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new As.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new As.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new As.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new As.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zo.default=Yj;var nl={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.version=void 0;sl.version="0.0.0-automated";Object.defineProperty(nl,"__esModule",{value:!0});nl.DEFAULT_HEADERS=void 0;const Qj=sl;nl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Qj.version}`};var yy=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Od,"__esModule",{value:!0});const Xj=yy(Zo),Jj=yy(Hi),Zj=nl;let ek=class xy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Zj.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Xj.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Jj.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Od.default=ek;var vs=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const vy=vs(Od);qe.PostgrestClient=vy.default;const wy=vs(Zo);qe.PostgrestQueryBuilder=wy.default;const by=vs(Hi);qe.PostgrestFilterBuilder=by.default;const jy=vs(el);qe.PostgrestTransformBuilder=jy.default;const ky=vs(tl);qe.PostgrestBuilder=ky.default;const Sy=vs(rl);qe.PostgrestError=Sy.default;var tk=qe.default={PostgrestClient:vy.default,PostgrestQueryBuilder:wy.default,PostgrestFilterBuilder:by.default,PostgrestTransformBuilder:jy.default,PostgrestBuilder:ky.default,PostgrestError:Sy.default};const{PostgrestClient:rk,PostgrestQueryBuilder:HP,PostgrestFilterBuilder:WP,PostgrestTransformBuilder:qP,PostgrestBuilder:KP,PostgrestError:GP}=tk,nk="2.11.2",sk={"X-Client-Info":`realtime-js/${nk}`},ik="1.0.0",Ny=1e4,ak=1e3;var Qn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qn||(Qn={}));var et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(et||(et={}));var Nt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nt||(Nt={}));var fu;(function(e){e.websocket="websocket"})(fu||(fu={}));var Zr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zr||(Zr={}));class ok{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class _y{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const Jf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=lk(o,e,t,s),i),{})},lk=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Cy(i,o):mu(o)},Cy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return hk(t,r)}switch(e){case ne.bool:return ck(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return uk(t);case ne.json:case ne.jsonb:return dk(t);case ne.timestamp:return fk(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return mu(t);default:return mu(t)}},mu=e=>e,ck=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Cy(t,l))}return e},fk=e=>typeof e=="string"?e.replace(" ","T"):e,Ey=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Yl{constructor(t,r,n={},s=Ny){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zf||(Zf={}));class ei{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ei.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ei.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),p=h.map(j=>j.presence_ref),v=d.filter(j=>p.indexOf(j.presence_ref)<0),w=h.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var em;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(em||(em={}));var tm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tm||(tm={}));var zt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class Id{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yl(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new _y(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ei(this),this.broadcastEndpointURL=Ey(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(zt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(zt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(zt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<p;w++){const j=f[w],{filter:{event:m,schema:y,table:g,filter:b}}=j,S=d&&d[w];if(S&&S.event===m&&S.schema===y&&S.table===g&&S.filter===b)v.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),t==null||t(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(zt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Yl(this,Nt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Nt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,j;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(w=p.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,j,m,y,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(y=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:j,commit_timestamp:m,type:y,errors:g}=v;f=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:m,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Id.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nt.close,{},t)}_onError(t){this._on(Nt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Jf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Jf(t.columns,t.old_record)),r}}const mk=()=>{},pk=typeof WebSocket<"u",gk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sk,this.params={},this.timeout=Ny,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mk,this.conn=null,this.sendBuffer=[],this.serializer=new ok,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>os(async()=>{const{default:c}=await Promise.resolve().then(()=>xs);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${fu.websocket}`,this.httpEndpoint=Ey(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _y(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(pk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),os(async()=>{const{default:t}=await import("./browser-CfLkK-93.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ik}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qn.connecting:return Zr.Connecting;case Qn.open:return Zr.Open;case Qn.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}channel(t,r={config:{}}){const n=new Id(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Nt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ak,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([gk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class xk{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Fd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vk extends Fd{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pu extends Fd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var wk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Py=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>os(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},bk=()=>wk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield os(()=>Promise.resolve().then(()=>xs),void 0)).Response:Response}),gu=e=>{if(Array.isArray(e))return e.map(r=>gu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=gu(n)}),t};var xn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ql=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jk=(e,t,r)=>xn(void 0,void 0,void 0,function*(){const n=yield bk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new vk(Ql(s),e.status||500))}).catch(s=>{t(new pu(Ql(s),s))}):t(new pu(Ql(e),e))}),kk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Wi(e,t,r,n,s,i){return xn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,kk(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>jk(c,l,n))})})}function yo(e,t,r,n){return xn(this,void 0,void 0,function*(){return Wi(e,"GET",t,r,n)})}function gr(e,t,r,n,s){return xn(this,void 0,void 0,function*(){return Wi(e,"POST",t,n,s,r)})}function Sk(e,t,r,n,s){return xn(this,void 0,void 0,function*(){return Wi(e,"PUT",t,n,s,r)})}function Nk(e,t,r,n){return xn(this,void 0,void 0,function*(){return Wi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ty(e,t,r,n,s){return xn(this,void 0,void 0,function*(){return Wi(e,"DELETE",t,n,s,r)})}var He=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _k={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ck{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Py(s)}uploadOrUpdate(t,r,n,s){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},rm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ke(i))return{data:null,error:i};throw i}})}upload(t,r,n){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:rm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return He(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Fd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return He(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}copy(t,r,n){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return He(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return He(this,void 0,void 0,function*(){try{const s=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}download(t,r){return He(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield yo(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ke(l))return{data:null,error:l};throw l}})}info(t){return He(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield yo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gu(n),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}exists(t){return He(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Nk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ke(n)&&n instanceof pu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return He(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},_k),r),{prefix:t||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ek="2.7.1",Pk={"X-Client-Info":`storage-js/${Ek}`};var jn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Tk{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Pk),r),this.fetch=Py(n)}listBuckets(){return jn(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}getBucket(t){return jn(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return jn(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return jn(this,void 0,void 0,function*(){try{return{data:yield Sk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return jn(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return jn(this,void 0,void 0,function*(){try{return{data:yield Ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}}class Ak extends Tk{constructor(t,r={},n){super(t,r,n)}from(t){return new Ck(this.url,this.headers,t,this.fetch)}}const Rk="2.49.4";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const Dk={"X-Client-Info":`supabase-js-${Us}/${Rk}`},Mk={headers:Dk},Lk={schema:"public"},Ok={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ik={};var Fk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $k=e=>{let t;return e?t=e:typeof fetch>"u"?t=my:t=fetch,(...r)=>t(...r)},Vk=()=>typeof Headers>"u"?py:Headers,Uk=(e,t,r)=>{const n=$k(r),s=Vk();return(i,o)=>Fk(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Bk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function zk(e){return e.replace(/\/$/,"")}function Hk(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Bk(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Ay="2.69.1",_n=30*1e3,yu=3,Xl=yu*_n,Wk="http://localhost:9999",qk="supabase.auth.token",Kk={"X-Client-Info":`gotrue-js/${Ay}`},xu="X-Supabase-Api-Version",Ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yk=6e5;class $d extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Qk extends $d{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xk(e){return B(e)&&e.name==="AuthApiError"}class Dy extends $d{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Br extends $d{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class dr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jk(e){return B(e)&&e.name==="AuthSessionMissingError"}class Jl extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pa extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ga extends Br{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zk(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class nm extends Br{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vu extends Br{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Zl(e){return B(e)&&e.name==="AuthRetryableFetchError"}class sm extends Br{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ti extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const im="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),am=` 	
\r=`.split(""),eS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<am.length;t+=1)e[am[t].charCodeAt(0)]=-2;for(let t=0;t<im.length;t+=1)e[im[t].charCodeAt(0)]=t;return e})();function My(e,t,r){const n=eS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function om(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{nS(o,n,r)};for(let o=0;o<e.length;o+=1)My(e.charCodeAt(o),s,i);return t.join("")}function tS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}tS(n,t)}}function nS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)My(e.charCodeAt(s),r,n);return new Uint8Array(t)}function iS(e){const t=[];return rS(e,r=>t.push(r)),new Uint8Array(t)}function aS(e){return Math.round(Date.now()/1e3)+e}function oS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rt=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},ri=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function lS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ly=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>os(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Oy=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xa=async(e,t)=>{await e.removeItem(t)};class il{constructor(){this.promise=new il.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}il.promiseConstructor=Promise;function ec(e){const t=e.split(".");if(t.length!==3)throw new ti("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Gk.test(t[n]))throw new ti("JWT not in base64url format");return{header:JSON.parse(om(t[0])),payload:JSON.parse(om(t[1])),signature:sS(t[2]),raw:{header:t[0],payload:t[1]}}}async function uS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dS(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function hS(e){return("0"+e.toString(16)).substr(-2)}function fS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,hS).join("")}async function mS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function pS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await mS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(e,t,r=!1){const n=fS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Oy(e,`${t}-code-verifier`,s);const i=await pS(n);return[i,n===i?"plain":"s256"]}const gS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yS(e){const t=e.headers.get(xu);if(!t||!t.match(gS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Yr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bS=[502,503,504];async function lm(e){var t;if(!cS(e))throw new vu(Yr(e),0);if(bS.includes(e.status))throw new vu(Yr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Dy(Yr(i),i)}let n;const s=yS(e);if(s&&s.getTime()>=Ry["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sm(Yr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new dr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sm(Yr(r),e.status,r.weak_password.reasons);throw new Qk(Yr(r),e.status||500,n)}const jS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function q(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[xu]||(i[xu]=Ry["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await kS(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function kS(e,t,r,n,s,i){const o=jS(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new vu(Yr(c),0)}if(l.ok||await lm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await lm(c)}}function hr(e){var t;let r=null;CS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=aS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function cm(e){const t=hr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SS(e){return{data:e,error:null}}function NS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=wS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function _S(e){return e}function CS(e){return e.access_token&&e.refresh_token&&e.expires_in}var ES=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class PS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ly(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ES(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:NS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vr})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:_S});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vr})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}const TS={getItem:e=>ri()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ri()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ri()&&globalThis.localStorage.removeItem(e)}};function um(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function AS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sn={debug:!!(globalThis&&ri()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Iy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RS extends Iy{}async function DS(e,t,r){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}AS();const MS={url:Wk,storageKey:qk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dm(e,t,r){return await r()}class _i{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_i.nextInstanceID,_i.nextInstanceID+=1,this.instanceID>0&&Rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},MS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new PS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ly(s.fetch),this.lock=s.lock||dm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=DS:this.lock=dm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ri()?this.storage=TS:(this.memoryStorage={},this.storage=um(this.memoryStorage)):(this.memoryStorage={},this.storage=um(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ay}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=lS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Rt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zk(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?{error:r}:{error:new Dy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:hr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await kn(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:hr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hr})}else throw new pa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cm})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cm})}else throw new pa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ya(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:hr});if(await xa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Jl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Jl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await kn(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new pa("You must provide either an email or phone number.")}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:hr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await kn(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:SS})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new dr;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new pa("You must provide either an email or phone number and a type")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Xl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dr}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vr})})}catch(r){if(B(r))return Jk(r)&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new dr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await kn(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:vr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ec(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(B(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new dr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Rt())throw new ga("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ga(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ga("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nm("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ga("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Xk(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=oS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await kn(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Rt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await dS(async s=>(s>0&&await uS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zl(i)&&Date.now()+o-n<_n})}catch(n){if(this._debug(r,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ya(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Xl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Xl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Zl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new dr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new il;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new dr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return Zl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Oy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await xa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_n}ms, refresh threshold is ${yu} ticks`),s<=yu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Iy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await kn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ec(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Yk>Date.now()))return n;const{data:s,error:i}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ti("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new ti("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ec(n);if(xS(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=vS(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,iS(`${l}.${c}`)))throw new ti("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}_i.nextInstanceID=0;const LS=_i;class OS extends LS{constructor(t){super(t)}}var IS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class FS{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=zk(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Lk,realtime:Ik,auth:Object.assign(Object.assign({},Ok),{storageKey:c}),global:Mk},d=Hk(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Uk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new rk(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Rj(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ak(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return IS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OS({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new yk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $S=(e,t,r)=>new FS(e,t,r),xo="https://kxfdmpfigwhyvglrukwm.supabase.co",vo="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4ZmRtcGZpZ3doeXZnbHJ1a3dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUxODQzMDAsImV4cCI6MjA2MDc2MDMwMH0.xkKUtB65Vo4btKQWDxKdf2DAtM1NmCmZg9WEL63xpvQ",Fy=()=>xo.length>0&&vo.length>0&&!xo.includes("your-project-url")&&!vo.includes("your-anon-key"),VS=()=>(console.warn('Supabase credentials are missing or invalid. Please connect to Supabase via the "Connect to Supabase" button.'),{auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signOut:()=>Promise.resolve({error:null}),signInWithPassword:()=>Promise.resolve({error:{message:"Supabase not configured"}}),signUp:()=>Promise.resolve({error:{message:"Supabase not configured"},data:null})},from:()=>({select:()=>({data:null,error:{message:"Supabase not configured"}}),insert:()=>({data:null,error:{message:"Supabase not configured"}}),update:()=>({data:null,error:{message:"Supabase not configured"}}),delete:()=>({data:null,error:{message:"Supabase not configured"}}),upsert:()=>({data:null,error:{message:"Supabase not configured"}})}),functions:{invoke:()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}})},rpc:()=>Promise.resolve({data:null,error:{message:"Supabase not configured"}})}),L=Fy()?$S(xo,vo,{auth:{persistSession:!0,autoRefreshToken:!0}}):VS();console.log(`Supabase configuration status: ${Fy()?"CONFIGURED":"NOT CONFIGURED"}`);console.log(`URL available: ${!!xo}, Key available: ${!!vo}`);class US{constructor(){Dh(this,"cache",{})}get(t){const r=this.cache[t];return r?Date.now()-r.timestamp>r.expiresIn?(delete this.cache[t],null):r.data:null}set(t,r,n=5*60*1e3){this.cache[t]={data:r,timestamp:Date.now(),expiresIn:n}}has(t){const r=this.cache[t];return r?Date.now()-r.timestamp>r.expiresIn?(delete this.cache[t],!1):!0:!1}clear(t){t?delete this.cache[t]:this.cache={}}}const Ke=new US,Vd=e=>Object.entries(e).filter(([r,n])=>n!=null).sort(([r],[n])=>r.localeCompare(n)).map(([r,n])=>Array.isArray(n)?`${r}=[${n.sort().join(",")}]`:`${r}=${n}`).join("&");function Ci(e,t){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>{e(...n),r=null},t)}}const Xn={},BS=5*60*1e3;async function cs(e){try{const t=Xn[e];if(t&&Date.now()-t.timestamp<BS)return console.log("Using cached user preferences"),t.data;const{count:r,error:n}=await L.from("user_preferences").select("*",{count:"exact",head:!0}).eq("user_id",e);if(n)return console.error("Error checking user preferences existence:",n),null;if(r===0){console.log("No preferences found for user, creating defaults");const o=Pi(e);return await Ei(o)}const{data:s,error:i}=await L.from("user_preferences").select("*").eq("user_id",e).single();if(i){if(i.code==="PGRST116"){console.log("No preferences found in single query, creating defaults");const o=Pi(e);return await Ei(o)}return console.error("Error fetching user preferences:",i),null}return s&&(Xn[e]={data:s,timestamp:Date.now()}),s}catch(t){return console.error("Error in getUserPreferences:",t),null}}async function Ei(e){try{if(!e.user_id)throw new Error("User ID is required");const{data:t,error:r}=await L.from("user_preferences").upsert({...e,updated_at:new Date().toISOString()}).select().single();return r?(console.error("Error updating user preferences:",r),null):(t&&(Xn[e.user_id]={data:t,timestamp:Date.now()}),t)}catch(t){return console.error("Error in updateUserPreferences:",t),null}}function zS(e){e?delete Xn[e]:Object.keys(Xn).forEach(t=>{delete Xn[t]})}function Pi(e){return{user_id:e,keywords:[],categories:[],sources:[],excluded_keywords:[],languages:["en"]}}function HS(){return[{id:"en",name:"English"},{id:"fr",name:"French"},{id:"de",name:"German"},{id:"es",name:"Spanish"},{id:"it",name:"Italian"},{id:"pt",name:"Portuguese"},{id:"ru",name:"Russian"},{id:"nl",name:"Dutch"},{id:"no",name:"Norwegian"},{id:"sv",name:"Swedish"}]}function WS(){return[{id:"business",name:"Business"},{id:"crypto",name:"Cryptocurrency"},{id:"stocks",name:"Stock Market"},{id:"technology",name:"Technology"},{id:"web3",name:"Web3"},{id:"science",name:"Science"},{id:"health",name:"Health"},{id:"artificial_intelligence",name:"Artificial Intelligence"},{id:"machine_learning",name:"Machine Learning"},{id:"llm",name:"LLMs"},{id:"generative_ai",name:"Generative AI"},{id:"ai_ethics",name:"AI Ethics"},{id:"ai_research",name:"AI Research"}]}function qS(){return[{id:"bloomberg",name:"Bloomberg"},{id:"cnn",name:"CNN"},{id:"bbc-news",name:"BBC News"},{id:"reuters",name:"Reuters"},{id:"techcrunch",name:"TechCrunch"},{id:"the-verge",name:"The Verge"},{id:"wired",name:"Wired"},{id:"mit-technology-review",name:"MIT Technology Review"},{id:"venturebeat",name:"VentureBeat"},{id:"ai-news",name:"AI News"},{id:"arxiv",name:"arXiv"}]}const $y=x.createContext(void 0);function we(){const e=x.useContext($y);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const KS=({children:e})=>{const[t,r]=x.useState(!0),[n,s]=x.useState(null),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1);x.useEffect(()=>{L.auth.getSession().then(({data:{session:y}})=>{s(y),o((y==null?void 0:y.user)??null),y!=null&&y.user?h(y.user.id):r(!1)});const{data:{subscription:m}}=L.auth.onAuthStateChange((y,g)=>{s(g),o((g==null?void 0:g.user)??null),g!=null&&g.user?h(g.user.id):(c(null),d(!1),r(!1))});return()=>{m.unsubscribe()}},[]);async function h(m){try{const{data:y,error:g}=await L.from("profiles").select("*").eq("id",m).single();if(g){console.error("Error fetching profile:",g),r(!1);return}y&&(c(y),d(y.role==="admin"),console.log("User role:",y.role,"isAdmin:",y.role==="admin"),await f(m)),r(!1)}catch(y){console.error("Error in fetchProfile:",y),r(!1)}}async function f(m){try{const{count:y}=await L.from("user_preferences").select("*",{count:"exact",head:!0}).eq("user_id",m);if(y===0){console.log("Creating default preferences for user:",m);const g=Pi(m);await Ei(g)}}catch(y){console.error("Error ensuring user preferences:",y)}}async function p(m,y){try{const{error:g}=await L.auth.signInWithPassword({email:m,password:y});return{error:g}}catch(g){return console.error("Error signing in:",g),{error:g}}}async function v(m,y,g){try{const{data:b,error:S}=await L.auth.signUp({email:m,password:y,options:{data:{username:g}}});if(!S&&b.user)try{await L.rpc("insert_user_profile",{user_id:b.user.id,user_email:m,user_name:g,user_role:m.toLowerCase().endsWith("@blindvibe.com")?"admin":"user"}),console.log("Creating default preferences for new user");const C=Pi(b.user.id);await Ei(C)}catch(C){return console.error("Error creating profile or preferences:",C),{data:b,error:C}}return{data:b,error:S}}catch(b){return console.error("Error signing up:",b),{data:null,error:b}}}async function w(){try{Ke.clear(),await L.auth.signOut()}catch(m){console.error("Error signing out:",m)}}const j={session:n,user:i,profile:l,loading:t,signIn:p,signUp:v,signOut:w,isAdmin:u};return a.jsx($y.Provider,{value:j,children:e})},Vy=x.createContext(void 0),GS=()=>{const e=x.useContext(Vy);if(e===void 0)throw new Error("useNewsTicker must be used within a NewsTickerProvider");return e},YS=({children:e})=>{const[t,r]=x.useState(()=>{const c=localStorage.getItem("newsTicker.isVisible");return c!==null?c==="true":!0}),[n,s]=x.useState(()=>{const c=localStorage.getItem("newsTicker.isMuted");return c!==null?c==="true":!1});x.useEffect(()=>{localStorage.setItem("newsTicker.isVisible",t.toString())},[t]),x.useEffect(()=>{localStorage.setItem("newsTicker.isMuted",n.toString())},[n]);const i=()=>r(!0),o=()=>r(!1),l=()=>s(c=>!c);return a.jsx(Vy.Provider,{value:{isVisible:t,isMuted:n,showTicker:i,hideTicker:o,toggleMute:l},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...QS,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${XS(e)}`,l].join(" "),...u},[...t.map(([h,f])=>x.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=I("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=I("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=I("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=I("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=I("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=I("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=I("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=I("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=I("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=I("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=I("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=I("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=I("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=I("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=I("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=I("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=I("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=I("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=I("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=I("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=I("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=I("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=I("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=I("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=I("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=I("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=I("PanelTop",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=I("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=I("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=I("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=I("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=I("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=I("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=I("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=I("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=I("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=I("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=I("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=I("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=I("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=I("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=I("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gd=x.createContext({});function cl(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const ul=x.createContext(null),Yd=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class NN extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _N({children:e,isPresent:t}){const r=x.useId(),n=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=x.useContext(Yd);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(NN,{isPresent:t,childRef:n,sizeRef:s,children:x.cloneElement(e,{ref:n})})}const CN=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=cl(EN),c=x.useId(),u=x.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),d=x.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[r,u]);return x.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),x.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(_N,{isPresent:r,children:e})),a.jsx(ul.Provider,{value:d,children:e})};function EN(){return new Map}function Jy(e=!0){const t=x.useContext(ul);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=x.useId();x.useEffect(()=>{e&&s(i)},[e]);const o=x.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const va=e=>e.key||"";function hm(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const Qd=typeof window<"u",Xd=Qd?x.useLayoutEffect:x.useEffect,kr=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=Jy(o),u=x.useMemo(()=>hm(e),[e]),d=o&&!l?[]:u.map(va),h=x.useRef(!0),f=x.useRef(u),p=cl(()=>new Map),[v,w]=x.useState(u),[j,m]=x.useState(u);Xd(()=>{h.current=!1,f.current=u;for(let b=0;b<j.length;b++){const S=va(j[b]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[j,d.length,d.join("-")]);const y=[];if(u!==v){let b=[...u];for(let S=0;S<j.length;S++){const C=j[S],k=va(C);d.includes(k)||(b.splice(S,0,C),y.push(C))}i==="wait"&&y.length&&(b=y),m(hm(b)),w(u);return}const{forceRender:g}=x.useContext(Gd);return a.jsx(a.Fragment,{children:j.map(b=>{const S=va(b),C=o&&!l?!1:u===j||d.includes(S),k=()=>{if(p.has(S))p.set(S,!0);else return;let E=!0;p.forEach(N=>{N||(E=!1)}),E&&(g==null||g(),m(f.current),o&&(c==null||c()),n&&n())};return a.jsx(CN,{isPresent:C,initial:!h.current||r?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:k,children:b},S)})})},st=e=>e;let Zy=st;function Jd(e){let t;return()=>(t===void 0&&(t=e()),t)}const us=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Qt=e=>e*1e3,Xt=e=>e/1e3,PN={useManualTiming:!1};function TN(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&n?t:r;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const wa=["read","resolveKeyframes","update","preRender","render","postRender"],AN=40;function ex(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=wa.reduce((m,y)=>(m[y]=TN(i),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const m=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(m-s.timestamp,AN),1),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:wa.reduce((m,y)=>{const g=o[y];return m[y]=(b,S=!1,C=!1)=>(r||v(),g.schedule(b,S,C)),m},{}),cancel:m=>{for(let y=0;y<wa.length;y++)o[wa[y]].cancel(m)},state:s,steps:o}}const{schedule:oe,cancel:Ir,state:Pe,steps:tc}=ex(typeof requestAnimationFrame<"u"?requestAnimationFrame:st,!0),tx=x.createContext({strict:!1}),fm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ds={};for(const e in fm)ds[e]={isEnabled:t=>fm[e].some(r=>!!t[r])};function RN(e){for(const t in e)ds[t]={...ds[t],...e[t]}}const DN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function So(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||DN.has(e)}let rx=e=>!So(e);function MN(e){e&&(rx=t=>t.startsWith("on")?!So(t):e(t))}try{MN(require("@emotion/is-prop-valid").default)}catch{}function LN(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(rx(s)||r===!0&&So(s)||!t&&!So(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function ON(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const dl=x.createContext({});function Di(e){return typeof e=="string"||Array.isArray(e)}function hl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Zd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eh=["initial",...Zd];function fl(e){return hl(e.animate)||eh.some(t=>Di(e[t]))}function nx(e){return!!(fl(e)||e.variants)}function IN(e,t){if(fl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Di(r)?r:void 0,animate:Di(n)?n:void 0}}return e.inherit!==!1?t:{}}function FN(e){const{initial:t,animate:r}=IN(e,x.useContext(dl));return x.useMemo(()=>({initial:t,animate:r}),[mm(t),mm(r)])}function mm(e){return Array.isArray(e)?e.join(" "):e}const $N=Symbol.for("motionComponentSymbol");function $n(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VN(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):$n(r)&&(r.current=n))},[t])}const th=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UN="framerAppearId",sx="data-"+th(UN),{schedule:rh}=ex(queueMicrotask,!1),ix=x.createContext({});function BN(e,t,r,n,s){var i,o;const{visualElement:l}=x.useContext(dl),c=x.useContext(tx),u=x.useContext(ul),d=x.useContext(Yd).reducedMotion,h=x.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=x.useContext(ix);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&zN(h.current,r,s,p);const v=x.useRef(!1);x.useInsertionEffect(()=>{f&&v.current&&f.update(r,u)});const w=r[sx],j=x.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return Xd(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),rh.render(f.render),j.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,w)}),j.current=!1))}),f}function zN(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:ax(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&$n(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function ax(e){if(e)return e.options.allowProjection!==!1?e.projection:ax(e.parent)}function HN({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,o;e&&RN(e);function l(u,d){let h;const f={...x.useContext(Yd),...u,layoutId:WN(u)},{isStatic:p}=f,v=FN(u),w=n(u,p);if(!p&&Qd){qN();const j=KN(f);h=j.MeasureLayout,v.visualElement=BN(s,w,f,t,j.ProjectionNode)}return a.jsxs(dl.Provider,{value:v,children:[h&&v.visualElement?a.jsx(h,{visualElement:v.visualElement,...f}):null,r(s,u,VN(w,v.visualElement,d),w,p,v.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[$N]=s,c}function WN({layoutId:e}){const t=x.useContext(Gd).id;return t&&e!==void 0?t+"-"+e:e}function qN(e,t){x.useContext(tx).strict}function KN(e){const{drag:t,layout:r}=ds;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const GN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nh(e){return typeof e!="string"||e.includes("-")?!1:!!(GN.indexOf(e)>-1||/[A-Z]/u.test(e))}function pm(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function sh(e,t,r,n){if(typeof t=="function"){const[s,i]=pm(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=pm(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const bu=e=>Array.isArray(e),YN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),QN=e=>bu(e)?e[e.length-1]||0:e,Fe=e=>!!(e&&e.getVelocity);function $a(e){const t=Fe(e)?e.get():e;return YN(t)?t.toValue():t}function XN({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const o={latestValues:JN(n,s,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const ox=e=>(t,r)=>{const n=x.useContext(dl),s=x.useContext(ul),i=()=>XN(e,t,n,s);return r?i():cl(i)};function JN(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=$a(i[f]);let{initial:o,animate:l}=e;const c=fl(e),u=nx(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!hl(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const v=sh(e,f[p]);if(v){const{transitionEnd:w,transition:j,...m}=v;for(const y in m){let g=m[y];if(Array.isArray(g)){const b=d?g.length-1:0;g=g[b]}g!==null&&(s[y]=g)}for(const y in w)s[y]=w[y]}}}return s}const ws=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wn=new Set(ws),lx=e=>t=>typeof t=="string"&&t.startsWith(e),cx=lx("--"),ZN=lx("var(--"),ih=e=>ZN(e)?e2.test(e.split("/*")[0].trim()):!1,e2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ux=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rr=(e,t,r)=>r>t?t:r<e?e:r,bs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mi={...bs,transform:e=>rr(0,1,e)},ba={...bs,default:1},Ki=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fr=Ki("deg"),Ft=Ki("%"),$=Ki("px"),t2=Ki("vh"),r2=Ki("vw"),gm={...Ft,parse:e=>Ft.parse(e)/100,transform:e=>Ft.transform(e*100)},n2={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$},s2={rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:ba,scaleX:ba,scaleY:ba,scaleZ:ba,skew:fr,skewX:fr,skewY:fr,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Mi,originX:gm,originY:gm,originZ:$},ym={...bs,transform:Math.round},ah={...n2,...s2,zIndex:ym,size:$,fillOpacity:Mi,strokeOpacity:Mi,numOctaves:ym},i2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a2=ws.length;function o2(e,t,r){let n="",s=!0;for(let i=0;i<a2;i++){const o=ws[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=ux(l,ah[o]);if(!c){s=!1;const d=i2[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function oh(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(wn.has(c)){o=!0;continue}else if(cx(c)){s[c]=u;continue}else{const d=ux(u,ah[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=o2(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const l2={offset:"stroke-dashoffset",array:"stroke-dasharray"},c2={offset:"strokeDashoffset",array:"strokeDasharray"};function u2(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?l2:c2;e[i.offset]=$.transform(-n);const o=$.transform(t),l=$.transform(r);e[i.array]=`${o} ${l}`}function xm(e,t,r){return typeof e=="string"?e:$.transform(t+r*e)}function d2(e,t,r){const n=xm(t,e.x,e.width),s=xm(r,e.y,e.height);return`${n} ${s}`}function lh(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(oh(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:v}=e;f.transform&&(v&&(p.transform=f.transform),delete f.transform),v&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=d2(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&u2(f,o,l,c,!1)}const ch=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),dx=()=>({...ch(),attrs:{}}),uh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hx(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const fx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mx(e,t,r,n){hx(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(fx.has(s)?s:th(s),t.attrs[s])}const No={};function h2(e){Object.assign(No,e)}function px(e,{layout:t,layoutId:r}){return wn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!No[e]||e==="opacity")}function dh(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(Fe(s[o])||t.style&&Fe(t.style[o])||px(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function gx(e,t,r){const n=dh(e,t,r);for(const s in e)if(Fe(e[s])||Fe(t[s])){const i=ws.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function f2(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const vm=["x","y","width","height","cx","cy","r"],m2={useVisualState:ox({scrapeMotionValuesFromProps:gx,createRenderState:dx,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in s)if(wn.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<vm.length;l++){const c=vm[l];e[c]!==t[c]&&(o=!0)}o&&oe.read(()=>{f2(r,n),oe.render(()=>{lh(n,s,uh(r.tagName),e.transformTemplate),mx(r,n)})})}})},p2={useVisualState:ox({scrapeMotionValuesFromProps:dh,createRenderState:ch})};function yx(e,t,r){for(const n in t)!Fe(t[n])&&!px(n,r)&&(e[n]=t[n])}function g2({transformTemplate:e},t){return x.useMemo(()=>{const r=ch();return oh(r,t,e),Object.assign({},r.vars,r.style)},[t])}function y2(e,t){const r=e.style||{},n={};return yx(n,r,e),Object.assign(n,g2(e,t)),n}function x2(e,t){const r={},n=y2(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function v2(e,t,r,n){const s=x.useMemo(()=>{const i=dx();return lh(i,t,uh(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};yx(i,e.style,e),s.style={...i,...s.style}}return s}function w2(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(nh(r)?v2:x2)(n,i,o,r),u=LN(n,typeof r=="string",e),d=r!==x.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=x.useMemo(()=>Fe(h)?h.get():h,[h]);return x.createElement(r,{...d,children:f})}}function b2(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...nh(n)?m2:p2,preloadedFeatures:e,useRender:w2(s),createVisualElement:t,Component:n};return HN(o)}}function xx(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ml(e,t,r){const n=e.getProps();return sh(n,t,r!==void 0?r:n.custom,e)}const j2=Jd(()=>window.ScrollTimeline!==void 0);class k2{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(j2()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class S2 extends k2{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function hh(e,t){return e?e[t]||e.default||e:void 0}const ju=2e4;function vx(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ju;)t+=r,n=e.next(t);return t>=ju?1/0:t}function fh(e){return typeof e=="function"}function wm(e,t){e.timeline=t,e.onfinish=null}const mh=e=>Array.isArray(e)&&typeof e[0]=="number",N2={linearEasing:void 0};function _2(e,t){const r=Jd(e);return()=>{var n;return(n=N2[t])!==null&&n!==void 0?n:r()}}const _o=_2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wx=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(us(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function bx(e){return!!(typeof e=="function"&&_o()||!e||typeof e=="string"&&(e in ku||_o())||mh(e)||Array.isArray(e)&&e.every(bx))}const Bs=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,ku={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bs([0,.65,.55,1]),circOut:Bs([.55,0,1,.45]),backIn:Bs([.31,.01,.66,-.59]),backOut:Bs([.33,1.53,.69,.99])};function jx(e,t){if(e)return typeof e=="function"&&_o()?wx(e,t):mh(e)?Bs(e):Array.isArray(e)?e.map(r=>jx(r,t)||ku.easeOut):ku[e]}const jt={x:!1,y:!1};function kx(){return jt.x||jt.y}function C2(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Sx(e,t){const r=C2(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function bm(e){return t=>{t.pointerType==="touch"||kx()||e(t)}}function E2(e,t,r={}){const[n,s,i]=Sx(e,r),o=bm(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=bm(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Nx=(e,t)=>t?e===t?!0:Nx(e,t.parentElement):!1,ph=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,P2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T2(e){return P2.has(e.tagName)||e.tabIndex!==-1}const zs=new WeakSet;function jm(e){return t=>{t.key==="Enter"&&e(t)}}function rc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const A2=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=jm(()=>{if(zs.has(r))return;rc(r,"down");const s=jm(()=>{rc(r,"up")}),i=()=>rc(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function km(e){return ph(e)&&!kx()}function R2(e,t,r={}){const[n,s,i]=Sx(e,r),o=l=>{const c=l.currentTarget;if(!km(l)||zs.has(c))return;zs.add(c);const u=t(l),d=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!km(p)||!zs.has(c))&&(zs.delete(c),typeof u=="function"&&u(p,{success:v}))},h=p=>{d(p,r.useGlobalTarget||Nx(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{!T2(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>A2(u,s),s)}),i}function D2(e){return e==="x"||e==="y"?jt[e]?null:(jt[e]=!0,()=>{jt[e]=!1}):jt.x||jt.y?null:(jt.x=jt.y=!0,()=>{jt.x=jt.y=!1})}const _x=new Set(["width","height","top","left","right","bottom",...ws]);let Va;function M2(){Va=void 0}const $t={now:()=>(Va===void 0&&$t.set(Pe.isProcessing||PN.useManualTiming?Pe.timestamp:performance.now()),Va),set:e=>{Va=e,queueMicrotask(M2)}};function gh(e,t){e.indexOf(t)===-1&&e.push(t)}function yh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class xh{constructor(){this.subscriptions=[]}add(t){return gh(this.subscriptions,t),()=>yh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Cx(e,t){return t?e*(1e3/t):0}const Sm=30,L2=e=>!isNaN(parseFloat(e));class O2{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=$t.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=$t.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=L2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new xh);const n=this.events[t].add(r);return t==="change"?()=>{n(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Sm)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Sm);return Cx(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Li(e,t){return new O2(e,t)}function I2(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Li(r))}function vh(e,t){const r=ml(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=QN(i[o]);I2(e,o,l)}}function F2(e){return!!(Fe(e)&&e.add)}function Su(e,t){const r=e.getValue("willChange");if(F2(r))return r.add(t)}function Ex(e){return e.props[sx]}const Px=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,$2=1e-7,V2=12;function U2(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=Px(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>$2&&++l<V2);return o}function Gi(e,t,r,n){if(e===t&&r===n)return st;const s=i=>U2(i,0,1,e,r);return i=>i===0||i===1?i:Px(s(i),t,n)}const Tx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ax=e=>t=>1-e(1-t),Rx=Gi(.33,1.53,.69,.99),wh=Ax(Rx),Dx=Tx(wh),Mx=e=>(e*=2)<1?.5*wh(e):.5*(2-Math.pow(2,-10*(e-1))),bh=e=>1-Math.sin(Math.acos(e)),Lx=Ax(bh),Ox=Tx(bh),Ix=e=>/^0[^.\s]+$/u.test(e);function B2(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ix(e):!0}const ni=e=>Math.round(e*1e5)/1e5,jh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z2(e){return e==null}const H2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kh=(e,t)=>r=>!!(typeof r=="string"&&H2.test(r)&&r.startsWith(e)||t&&!z2(r)&&Object.prototype.hasOwnProperty.call(r,t)),Fx=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(jh);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},W2=e=>rr(0,255,e),nc={...bs,transform:e=>Math.round(W2(e))},nn={test:kh("rgb","red"),parse:Fx("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+nc.transform(e)+", "+nc.transform(t)+", "+nc.transform(r)+", "+ni(Mi.transform(n))+")"};function q2(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Nu={test:kh("#"),parse:q2,transform:nn.transform},Vn={test:kh("hsl","hue"),parse:Fx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ft.transform(ni(t))+", "+Ft.transform(ni(r))+", "+ni(Mi.transform(n))+")"},Me={test:e=>nn.test(e)||Nu.test(e)||Vn.test(e),parse:e=>nn.test(e)?nn.parse(e):Vn.test(e)?Vn.parse(e):Nu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?nn.transform(e):Vn.transform(e)},K2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G2(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jh))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(K2))===null||r===void 0?void 0:r.length)||0)>0}const $x="number",Vx="color",Y2="var",Q2="var(",Nm="${}",X2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oi(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(X2,c=>(Me.test(c)?(n.color.push(i),s.push(Vx),r.push(Me.parse(c))):c.startsWith(Q2)?(n.var.push(i),s.push(Y2),r.push(c)):(n.number.push(i),s.push($x),r.push(parseFloat(c))),++i,Nm)).split(Nm);return{values:r,split:l,indexes:n,types:s}}function Ux(e){return Oi(e).values}function Bx(e){const{split:t,types:r}=Oi(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===$x?i+=ni(s[o]):l===Vx?i+=Me.transform(s[o]):i+=s[o]}return i}}const J2=e=>typeof e=="number"?0:e;function Z2(e){const t=Ux(e);return Bx(e)(t.map(J2))}const Fr={test:G2,parse:Ux,createTransformer:Bx,getAnimatableNone:Z2},e_=new Set(["brightness","contrast","saturate","opacity"]);function t_(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(jh)||[];if(!n)return e;const s=r.replace(n,"");let i=e_.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const r_=/\b([a-z-]*)\(.*?\)/gu,_u={...Fr,getAnimatableNone:e=>{const t=e.match(r_);return t?t.map(t_).join(" "):e}},n_={...ah,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:_u,WebkitFilter:_u},Sh=e=>n_[e];function zx(e,t){let r=Sh(e);return r!==_u&&(r=Fr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const s_=new Set(["auto","none","0"]);function i_(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!s_.has(i)&&Oi(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=zx(r,s)}const _m=e=>e===bs||e===$,Cm=(e,t)=>parseFloat(e.split(", ")[t]),Em=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Cm(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Cm(i[1],e):0}},a_=new Set(["x","y","z"]),o_=ws.filter(e=>!a_.has(e));function l_(e){const t=[];return o_.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const hs={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Em(4,13),y:Em(5,14)};hs.translateX=hs.x;hs.translateY=hs.y;const ln=new Set;let Cu=!1,Eu=!1;function Hx(){if(Eu){const e=Array.from(ln).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=l_(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Eu=!1,Cu=!1,ln.forEach(e=>e.complete()),ln.clear()}function Wx(){ln.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Eu=!0)})}function c_(){Wx(),Hx()}class Nh{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ln.add(this),Cu||(Cu=!0,oe.read(Wx),oe.resolveKeyframes(Hx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ln.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ln.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),u_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d_(e){const t=u_.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Kx(e,t,r=1){const[n,s]=d_(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return qx(o)?parseFloat(o):o}return ih(s)?Kx(s,t,r+1):s}const Gx=e=>t=>t.test(e),h_={test:e=>e==="auto",parse:e=>e},Yx=[bs,$,Ft,fr,r2,t2,h_],Pm=e=>Yx.find(Gx(e));class Qx extends Nh{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ih(u))){const d=Kx(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_x.has(n)||t.length!==2)return;const[s,i]=t,o=Pm(s),l=Pm(i);if(o!==l)if(_m(o)&&_m(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)B2(t[s])&&n.push(s);n.length&&i_(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=hs[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Tm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fr.test(e)||e==="0")&&!e.startsWith("url("));function f_(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function m_(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Tm(s,t),l=Tm(i,t);return!o||!l?!1:f_(e)||(r==="spring"||fh(r))&&n}const p_=e=>e!==null;function pl(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(p_),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const g_=40;class Xx{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$t.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>g_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&c_(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=$t.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!m_(t,n,s,i))if(o)this.options.duration=0;else{c&&c(pl(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const de=(e,t,r)=>e+(t-e)*r;function sc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function y_({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=sc(c,l,e+1/3),i=sc(c,l,e),o=sc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Co(e,t){return r=>r>0?t:e}const ic=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},x_=[Nu,nn,Vn],v_=e=>x_.find(t=>t.test(e));function Am(e){const t=v_(e);if(!t)return!1;let r=t.parse(e);return t===Vn&&(r=y_(r)),r}const Rm=(e,t)=>{const r=Am(e),n=Am(t);if(!r||!n)return Co(e,t);const s={...r};return i=>(s.red=ic(r.red,n.red,i),s.green=ic(r.green,n.green,i),s.blue=ic(r.blue,n.blue,i),s.alpha=de(r.alpha,n.alpha,i),nn.transform(s))},w_=(e,t)=>r=>t(e(r)),Yi=(...e)=>e.reduce(w_),Pu=new Set(["none","hidden"]);function b_(e,t){return Pu.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function j_(e,t){return r=>de(e,t,r)}function _h(e){return typeof e=="number"?j_:typeof e=="string"?ih(e)?Co:Me.test(e)?Rm:N_:Array.isArray(e)?Jx:typeof e=="object"?Me.test(e)?Rm:k_:Co}function Jx(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>_h(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function k_(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=_h(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function S_(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,s[o]++}return n}const N_=(e,t)=>{const r=Fr.createTransformer(t),n=Oi(e),s=Oi(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Pu.has(e)&&!s.values.length||Pu.has(t)&&!n.values.length?b_(e,t):Yi(Jx(S_(n,s),s.values),r):Co(e,t)};function Zx(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?de(e,t,r):_h(e)(e,t)}const __=5;function ev(e,t,r){const n=Math.max(t-__,0);return Cx(r-e(n),t-n)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dm=.001;function C_({duration:e=pe.duration,bounce:t=pe.bounce,velocity:r=pe.velocity,mass:n=pe.mass}){let s,i,o=1-t;o=rr(pe.minDamping,pe.maxDamping,o),e=rr(pe.minDuration,pe.maxDuration,Xt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,p=Tu(u,o),v=Math.exp(-h);return Dm-f/p*v},i=u=>{const h=u*o*e,f=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),w=Tu(Math.pow(u,2),o);return(-s(u)+Dm>0?-1:1)*((f-p)*v)/w}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-.001+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=P_(s,i,l);if(e=Qt(e),isNaN(c))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const E_=12;function P_(e,t,r){let n=r;for(let s=1;s<E_;s++)n=n-e(n)/t(n);return n}function Tu(e,t){return e*Math.sqrt(1-t*t)}const T_=["duration","bounce"],A_=["stiffness","damping","mass"];function Mm(e,t){return t.some(r=>e[r]!==void 0)}function R_(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!Mm(e,A_)&&Mm(e,T_))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*rr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pe.mass,stiffness:s,damping:i}}else{const r=C_(e);t={...t,...r,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function tv(e=pe.visualDuration,t=pe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=R_({...r,velocity:-Xt(r.velocity||0)}),v=f||0,w=u/(2*Math.sqrt(c*d)),j=o-i,m=Xt(Math.sqrt(c/d)),y=Math.abs(j)<5;n||(n=y?pe.restSpeed.granular:pe.restSpeed.default),s||(s=y?pe.restDelta.granular:pe.restDelta.default);let g;if(w<1){const S=Tu(m,w);g=C=>{const k=Math.exp(-w*m*C);return o-k*((v+w*m*j)/S*Math.sin(S*C)+j*Math.cos(S*C))}}else if(w===1)g=S=>o-Math.exp(-m*S)*(j+(v+m*j)*S);else{const S=m*Math.sqrt(w*w-1);g=C=>{const k=Math.exp(-w*m*C),E=Math.min(S*C,300);return o-k*((v+w*m*j)*Math.sinh(E)+S*j*Math.cosh(E))/S}}const b={calculatedDuration:p&&h||null,next:S=>{const C=g(S);if(p)l.done=S>=h;else{let k=0;w<1&&(k=S===0?Qt(v):ev(g,S,C));const E=Math.abs(k)<=n,N=Math.abs(o-C)<=s;l.done=E&&N}return l.value=l.done?o:C,l},toString:()=>{const S=Math.min(vx(b),ju),C=wx(k=>b.next(S*k).value,S,30);return S+"ms "+C}};return b}function Lm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=E=>l!==void 0&&E<l||c!==void 0&&E>c,v=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let w=r*t;const j=h+w,m=o===void 0?j:o(j);m!==j&&(w=m-h);const y=E=>-w*Math.exp(-E/n),g=E=>m+y(E),b=E=>{const N=y(E),_=g(E);f.done=Math.abs(N)<=u,f.value=f.done?m:_};let S,C;const k=E=>{p(f.value)&&(S=E,C=tv({keyframes:[f.value,v(f.value)],velocity:ev(g,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:E=>{let N=!1;return!C&&S===void 0&&(N=!0,b(E),k(E)),S!==void 0&&E>=S?C.next(E-S):(!N&&b(E),f)}}}const D_=Gi(.42,0,1,1),M_=Gi(0,0,.58,1),rv=Gi(.42,0,.58,1),L_=e=>Array.isArray(e)&&typeof e[0]!="number",O_={linear:st,easeIn:D_,easeInOut:rv,easeOut:M_,circIn:bh,circInOut:Ox,circOut:Lx,backIn:wh,backInOut:Dx,backOut:Rx,anticipate:Mx},Om=e=>{if(mh(e)){Zy(e.length===4);const[t,r,n,s]=e;return Gi(t,r,n,s)}else if(typeof e=="string")return O_[e];return e};function I_(e,t,r){const n=[],s=r||Zx,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||st:t;l=Yi(c,l)}n.push(l)}return n}function F_(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Zy(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=I_(t,n,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=us(e[h],e[h+1],d);return l[h](f)};return r?d=>u(rr(e[0],e[i-1],d)):u}function $_(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=us(0,t,n);e.push(de(r,1,s))}}function V_(e){const t=[0];return $_(t,e.length-1),t}function U_(e,t){return e.map(r=>r*t)}function B_(e,t){return e.map(()=>t||rv).splice(0,e.length-1)}function Eo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=L_(n)?n.map(Om):Om(n),i={done:!1,value:t[0]},o=U_(r&&r.length===t.length?r:V_(t),e),l=F_(o,t,{ease:Array.isArray(s)?s:B_(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const z_=e=>{const t=({timestamp:r})=>e(r);return{start:()=>oe.update(t,!0),stop:()=>Ir(t),now:()=>Pe.isProcessing?Pe.timestamp:$t.now()}},H_={decay:Lm,inertia:Lm,tween:Eo,keyframes:Eo,spring:tv},W_=e=>e/100;class Ch extends Xx{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Nh,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=fh(r)?r:H_[r]||Eo;let c,u;l!==Eo&&typeof t[0]!="number"&&(c=Yi(W_,Zx(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=vx(d));const{calculatedDuration:h}=d,f=h+s,p=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:v,repeatDelay:w,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,b=i;if(p){const E=Math.min(this.currentTime,d)/h;let N=Math.floor(E),_=E%1;!_&&E>=1&&(_=1),_===1&&N--,N=Math.min(N,p+1),!!(N%2)&&(v==="reverse"?(_=1-_,w&&(_-=w/h)):v==="mirror"&&(b=o)),g=rr(0,1,_)*h}const S=y?{done:!1,value:c[0]}:b.next(g);l&&(S.value=l(S.value));let{done:C}=S;!y&&u!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&s!==void 0&&(S.value=pl(c,this.options,s)),j&&j(S.value),k&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Xt(t.calculatedDuration):0}get time(){return Xt(this.currentTime)}set time(t){t=Qt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Xt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=z_,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const q_=new Set(["opacity","clipPath","filter","transform"]);function K_(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=jx(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const G_=Jd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Po=10,Y_=2e4;function Q_(e){return fh(e.type)||e.type==="spring"||!bx(e.ease)}function X_(e,t){const r=new Ch({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<Y_;)n=r.sample(i),s.push(n.value),i+=Po;return{times:void 0,keyframes:s,duration:i-Po,ease:"linear"}}const nv={anticipate:Mx,backInOut:Dx,circInOut:Ox};function J_(e){return e in nv}class Im extends Xx{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Qx(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&_o()&&J_(i)&&(i=nv[i]),Q_(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:v,...w}=this.options,j=X_(t,w);t=j.keyframes,t.length===1&&(t[1]=t[0]),n=j.duration,s=j.times,i=j.ease,o="keyframes"}const d=K_(l.owner.current,c,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(wm(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(pl(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Xt(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Xt(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Qt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return st;const{animation:n}=r;wm(n,t)}return st}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,v=new Ch({...p,keyframes:n,duration:s,type:i,ease:o,times:l,isGenerator:!0}),w=Qt(this.time);u.setWithVelocity(v.sample(w-Po).value,v.sample(w).value,Po)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return G_()&&n&&q_.has(n)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const Z_={type:"spring",stiffness:500,damping:25,restSpeed:10},eC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tC={type:"keyframes",duration:.8},rC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nC=(e,{keyframes:t})=>t.length>2?tC:wn.has(e)?e.startsWith("scale")?eC(t[1]):Z_:rC;function sC({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Eh=(e,t,r,n={},s,i)=>o=>{const l=hh(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Qt(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};sC(l)||(d={...d,...nC(e,d)}),d.duration&&(d.duration=Qt(d.duration)),d.repeatDelay&&(d.repeatDelay=Qt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=pl(d.keyframes,l);if(f!==void 0)return oe.update(()=>{d.onUpdate(f),d.onComplete()}),new S2([])}return!i&&Im.supports(d)?new Im(d):new Ch(d)};function iC({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function sv(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&iC(d,h))continue;const v={delay:r,...hh(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const m=Ex(e);if(m){const y=window.MotionHandoffAnimation(m,h,oe);y!==null&&(v.startTime=y,w=!0)}}Su(e,h),f.start(Eh(h,f,p,e.shouldReduceMotion&&_x.has(h)?{type:!1}:v,e,w));const j=f.animation;j&&u.push(j)}return l&&Promise.all(u).then(()=>{oe.update(()=>{l&&vh(e,l)})}),u}function Au(e,t,r={}){var n;const s=ml(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(sv(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return aC(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function aC(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(oC).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Au(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function oC(e,t){return e.sortNodePosition(t)}function iv(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Au(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Au(e,t,r);else{const s=typeof t=="function"?ml(e,t,r.custom):t;n=Promise.all(sv(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const lC=eh.length;function av(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?av(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<lC;r++){const n=eh[r],s=e.props[n];(Di(s)||s===!1)&&(t[n]=s)}return t}const cC=[...Zd].reverse(),uC=Zd.length;function dC(e){return t=>Promise.all(t.map(({animation:r,options:n})=>iv(e,r,n)))}function hC(e){let t=dC(e),r=Fm(),n=!0;const s=c=>(u,d)=>{var h;const f=ml(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:v,...w}=f;u={...u,...w,...v}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=av(e.parent)||{},h=[],f=new Set;let p={},v=1/0;for(let j=0;j<uC;j++){const m=cC[j],y=r[m],g=u[m]!==void 0?u[m]:d[m],b=Di(g),S=m===c?y.isActive:null;S===!1&&(v=j);let C=g===d[m]&&g!==u[m]&&b;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...p},!y.isActive&&S===null||!g&&!y.prevProp||hl(g)||typeof g=="boolean")continue;const k=fC(y.prevProp,g);let E=k||m===c&&y.isActive&&!C&&b||j>v&&b,N=!1;const _=Array.isArray(g)?g:[g];let P=_.reduce(s(m),{});S===!1&&(P={});const{prevResolvedValues:T={}}=y,M={...T,...P},V=X=>{E=!0,f.has(X)&&(N=!0,f.delete(X)),y.needsAnimating[X]=!0;const D=e.getValue(X);D&&(D.liveStyle=!1)};for(const X in M){const D=P[X],F=T[X];if(p.hasOwnProperty(X))continue;let U=!1;bu(D)&&bu(F)?U=!xx(D,F):U=D!==F,U?D!=null?V(X):f.add(X):D!==void 0&&f.has(X)?V(X):y.protectedKeys[X]=!0}y.prevProp=g,y.prevResolvedValues=P,y.isActive&&(p={...p,...P}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(C&&k)||N)&&h.push(..._.map(X=>({animation:X,options:{type:m}})))}if(f.size){const j={};f.forEach(m=>{const y=e.getBaseTarget(m),g=e.getValue(m);g&&(g.liveStyle=!0),j[m]=y??null}),h.push({animation:j})}let w=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(h):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Fm(),n=!0}}}function fC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xx(t,e):!1}function Wr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fm(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}class zr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mC extends zr{constructor(t){super(t),t.animationState||(t.animationState=hC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let pC=0;class gC extends zr{constructor(){super(...arguments),this.id=pC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yC={animation:{Feature:mC},exit:{Feature:gC}};function Ii(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Qi(e){return{point:{x:e.pageX,y:e.pageY}}}const xC=e=>t=>ph(t)&&e(t,Qi(t));function si(e,t,r,n){return Ii(e,t,xC(r),n)}const $m=(e,t)=>Math.abs(e-t);function vC(e,t){const r=$m(e.x,t.x),n=$m(e.y,t.y);return Math.sqrt(r**2+n**2)}class ov{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=oc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=vC(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=h,{timestamp:w}=Pe;this.history.push({...v,timestamp:w});const{onStart:j,onMove:m}=this.handlers;f||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ac(f,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=oc(h.type==="pointercancel"?this.lastMoveEventInfo:ac(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,j),v&&v(h,j)},!ph(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Qi(t),l=ac(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Pe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,oc(l,this.history)),this.removeListeners=Yi(si(this.contextWindow,"pointermove",this.handlePointerMove),si(this.contextWindow,"pointerup",this.handlePointerUp),si(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ir(this.updatePoint)}}function ac(e,t){return t?{point:t(e.point)}:e}function Vm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oc({point:e},t){return{point:e,delta:Vm(e,lv(t)),offset:Vm(e,wC(t)),velocity:bC(t,.1)}}function wC(e){return e[0]}function lv(e){return e[e.length-1]}function bC(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=lv(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Qt(t)));)r--;if(!n)return{x:0,y:0};const i=Xt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const cv=1e-4,jC=1-cv,kC=1+cv,uv=.01,SC=0-uv,NC=0+uv;function ot(e){return e.max-e.min}function _C(e,t,r){return Math.abs(e-t)<=r}function Um(e,t,r,n=.5){e.origin=n,e.originPoint=de(t.min,t.max,e.origin),e.scale=ot(r)/ot(t),e.translate=de(r.min,r.max,e.origin)-e.originPoint,(e.scale>=jC&&e.scale<=kC||isNaN(e.scale))&&(e.scale=1),(e.translate>=SC&&e.translate<=NC||isNaN(e.translate))&&(e.translate=0)}function ii(e,t,r,n){Um(e.x,t.x,r.x,n?n.originX:void 0),Um(e.y,t.y,r.y,n?n.originY:void 0)}function Bm(e,t,r){e.min=r.min+t.min,e.max=e.min+ot(t)}function CC(e,t,r){Bm(e.x,t.x,r.x),Bm(e.y,t.y,r.y)}function zm(e,t,r){e.min=t.min-r.min,e.max=e.min+ot(t)}function ai(e,t,r){zm(e.x,t.x,r.x),zm(e.y,t.y,r.y)}function EC(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?de(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?de(r,e,n.max):Math.min(e,r)),e}function Hm(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function PC(e,{top:t,left:r,bottom:n,right:s}){return{x:Hm(e.x,r,s),y:Hm(e.y,t,n)}}function Wm(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function TC(e,t){return{x:Wm(e.x,t.x),y:Wm(e.y,t.y)}}function AC(e,t){let r=.5;const n=ot(e),s=ot(t);return s>n?r=us(t.min,t.max-n,e.min):n>s&&(r=us(e.min,e.max-s,t.min)),rr(0,1,r)}function RC(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ru=.35;function DC(e=Ru){return e===!1?e=0:e===!0&&(e=Ru),{x:qm(e,"left","right"),y:qm(e,"top","bottom")}}function qm(e,t,r){return{min:Km(e,t),max:Km(e,r)}}function Km(e,t){return typeof e=="number"?e:e[t]||0}const Gm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Un=()=>({x:Gm(),y:Gm()}),Ym=()=>({min:0,max:0}),ye=()=>({x:Ym(),y:Ym()});function dt(e){return[e("x"),e("y")]}function dv({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function MC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function lc(e){return e===void 0||e===1}function Du({scale:e,scaleX:t,scaleY:r}){return!lc(e)||!lc(t)||!lc(r)}function Qr(e){return Du(e)||hv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function hv(e){return Qm(e.x)||Qm(e.y)}function Qm(e){return e&&e!=="0%"}function To(e,t,r){const n=e-r,s=t*n;return r+s}function Xm(e,t,r,n,s){return s!==void 0&&(e=To(e,s,n)),To(e,r,n)+t}function Mu(e,t=0,r=1,n,s){e.min=Xm(e.min,t,r,n,s),e.max=Xm(e.max,t,r,n,s)}function fv(e,{x:t,y:r}){Mu(e.x,t.translate,t.scale,t.originPoint),Mu(e.y,r.translate,r.scale,r.originPoint)}const Jm=.999999999999,Zm=1.0000000000001;function OC(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,fv(e,o)),n&&Qr(i.latestValues)&&zn(e,i.latestValues))}t.x<Zm&&t.x>Jm&&(t.x=1),t.y<Zm&&t.y>Jm&&(t.y=1)}function Bn(e,t){e.min=e.min+t,e.max=e.max+t}function ep(e,t,r,n,s=.5){const i=de(e.min,e.max,s);Mu(e,t,r,i,n)}function zn(e,t){ep(e.x,t.x,t.scaleX,t.scale,t.originX),ep(e.y,t.y,t.scaleY,t.scale,t.originY)}function mv(e,t){return dv(LC(e.getBoundingClientRect(),t))}function IC(e,t,r){const n=mv(e,r),{scroll:s}=t;return s&&(Bn(n.x,s.offset.x),Bn(n.y,s.offset.y)),n}const pv=({current:e})=>e?e.ownerDocument.defaultView:null,FC=new WeakMap;class $C{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Qi(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D2(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dt(j=>{let m=this.getAxisMotionValue(j).get()||0;if(Ft.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const g=y.layout.layoutBox[j];g&&(m=ot(g)*(parseFloat(m)/100))}}this.originPoint[j]=m}),v&&oe.postRender(()=>v(d,h)),Su(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:j}=h;if(p&&this.currentDirection===null){this.currentDirection=VC(j),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>this.stop(d,h),c=()=>dt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ov(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pv(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&oe.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!ja(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=EC(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&$n(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=PC(s.layoutBox,r):this.constraints=!1,this.elastic=DC(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=RC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!$n(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=IC(n,s.root,this.visualElement.getTransformPagePoint());let o=TC(s.layout.layoutBox,i);if(r){const l=r(MC(o));this.hasMutatedConstraints=!!l,l&&(o=dv(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=dt(d=>{if(!ja(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Su(this.visualElement,t),n.start(Eh(t,n,0,r,this.visualElement,!1))}stopAnimation(){dt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){dt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){dt(r=>{const{drag:n}=this.getProps();if(!ja(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-de(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!$n(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=AC({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),dt(o=>{if(!ja(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(de(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;FC.set(this.visualElement,this);const t=this.visualElement.current,r=si(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();$n(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),oe.read(n);const o=Ii(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(dt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ru,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ja(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function VC(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class UC extends zr{constructor(t){super(t),this.removeGroupControls=st,this.removeListeners=st,this.controls=new $C(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}}const tp=e=>(t,r)=>{e&&oe.postRender(()=>e(t,r))};class BC extends zr{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(t){this.session=new ov(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:tp(t),onStart:tp(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&oe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=si(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ua={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const r=rp(e,t.target.x),n=rp(e,t.target.y);return`${r}% ${n}%`}},zC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Fr.parse(e);if(s.length>5)return n;const i=Fr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=de(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class HC extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;h2(WC),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ua.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||oe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gv(e){const[t,r]=Jy(),n=x.useContext(Gd);return a.jsx(HC,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(ix),isPresent:t,safeToRemove:r})}const WC={borderRadius:{...Rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:zC};function qC(e,t,r){const n=Fe(e)?e:Li(e);return n.start(Eh("",n,t,r)),n.animation}function KC(e){return e instanceof SVGElement&&e.tagName!=="svg"}const GC=(e,t)=>e.depth-t.depth;class YC{constructor(){this.children=[],this.isDirty=!1}add(t){gh(this.children,t),this.isDirty=!0}remove(t){yh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GC),this.isDirty=!1,this.children.forEach(t)}}function QC(e,t){const r=$t.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Ir(n),e(i-t))};return oe.read(n,!0),()=>Ir(n)}const yv=["TopLeft","TopRight","BottomLeft","BottomRight"],XC=yv.length,np=e=>typeof e=="string"?parseFloat(e):e,sp=e=>typeof e=="number"||$.test(e);function JC(e,t,r,n,s,i){s?(e.opacity=de(0,r.opacity!==void 0?r.opacity:1,ZC(n)),e.opacityExit=de(t.opacity!==void 0?t.opacity:1,0,eE(n))):i&&(e.opacity=de(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<XC;o++){const l=`border${yv[o]}Radius`;let c=ip(t,l),u=ip(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||sp(c)===sp(u)?(e[l]=Math.max(de(np(c),np(u),n),0),(Ft.test(u)||Ft.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=de(t.rotate||0,r.rotate||0,n))}function ip(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZC=xv(0,.5,Lx),eE=xv(.5,.95,st);function xv(e,t,r){return n=>n<e?0:n>t?1:r(us(e,t,n))}function ap(e,t){e.min=t.min,e.max=t.max}function ut(e,t){ap(e.x,t.x),ap(e.y,t.y)}function op(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lp(e,t,r,n,s){return e-=t,e=To(e,1/r,n),s!==void 0&&(e=To(e,1/s,n)),e}function tE(e,t=0,r=1,n=.5,s,i=e,o=e){if(Ft.test(t)&&(t=parseFloat(t),t=de(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=de(i.min,i.max,n);e===i&&(l-=t),e.min=lp(e.min,t,r,l,s),e.max=lp(e.max,t,r,l,s)}function cp(e,t,[r,n,s],i,o){tE(e,t[r],t[n],t[s],t.scale,i,o)}const rE=["x","scaleX","originX"],nE=["y","scaleY","originY"];function up(e,t,r,n){cp(e.x,t,rE,r?r.x:void 0,n?n.x:void 0),cp(e.y,t,nE,r?r.y:void 0,n?n.y:void 0)}function dp(e){return e.translate===0&&e.scale===1}function vv(e){return dp(e.x)&&dp(e.y)}function hp(e,t){return e.min===t.min&&e.max===t.max}function sE(e,t){return hp(e.x,t.x)&&hp(e.y,t.y)}function fp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wv(e,t){return fp(e.x,t.x)&&fp(e.y,t.y)}function mp(e){return ot(e.x)/ot(e.y)}function pp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iE{constructor(){this.members=[]}add(t){gh(this.members,t),t.scheduleRender()}remove(t){if(yh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aE(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hs=typeof window<"u"&&window.MotionDebug!==void 0,cc=["","X","Y","Z"],oE={visibility:"hidden"},gp=1e3;let lE=0;function uc(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function bv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Ex(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",oe,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&bv(n)}function jv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=lE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hs&&(Xr.totalNodes=Xr.resolvedTargetDeltas=Xr.recalculatedProjection=0),this.nodes.forEach(dE),this.nodes.forEach(gE),this.nodes.forEach(yE),this.nodes.forEach(hE),Hs&&window.MotionDebug.record(Xr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KC(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=QC(f,250),Ua.hasAnimatedSinceResize&&(Ua.hasAnimatedSinceResize=!1,this.nodes.forEach(xp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||jE,{onLayoutAnimationStart:j,onLayoutAnimationComplete:m}=d.getProps(),y=!this.targetLayout||!wv(this.targetLayout,v)||p,g=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const b={...hh(w,"layout"),onPlay:j,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||xp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yp);return}this.isUpdating||this.nodes.forEach(mE),this.isUpdating=!1,this.nodes.forEach(pE),this.nodes.forEach(cE),this.nodes.forEach(uE),this.clearAllSnapshots();const l=$t.now();Pe.delta=rr(0,1e3/60,l-Pe.timestamp),Pe.timestamp=l,Pe.isProcessing=!0,tc.update.process(Pe),tc.preRender.process(Pe),tc.render.process(Pe),Pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fE),this.sharedNodes.forEach(vE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!vv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Qr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),kE(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ye();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(SE))){const{scroll:d}=this.root;d&&(Bn(c.x,d.offset.x),Bn(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=ye();if(ut(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ut(c,o),Bn(c.x,h.offset.x),Bn(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=ye();ut(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Qr(d.latestValues)&&zn(c,d.latestValues)}return Qr(this.latestValues)&&zn(c,this.latestValues),c}removeTransform(o){const l=ye();ut(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Qr(u.latestValues))continue;Du(u.latestValues)&&u.updateSnapshot();const d=ye(),h=u.measurePageBox();ut(d,h),up(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Qr(this.latestValues)&&up(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Pe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ai(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ut(this.target,this.layout.layoutBox),fv(this.target,this.targetDelta)):ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ai(this.relativeTargetOrigin,this.target,p.target),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hs&&Xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Du(this.parent.latestValues)||hv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ut(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;OC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ye());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(op(this.prevProjectionDelta.x,this.projectionDelta.x),op(this.prevProjectionDelta.y,this.projectionDelta.y)),ii(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!pp(this.projectionDelta.x,this.prevProjectionDelta.x)||!pp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Hs&&Xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Un(),this.projectionDelta=Un(),this.projectionDeltaWithTransform=Un()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Un();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ye(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,j=this.getStack(),m=!j||j.members.length<=1,y=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(bE));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const S=b/1e3;vp(h.x,o.x,S),vp(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ai(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wE(this.relativeTarget,this.relativeTargetOrigin,f,S),g&&sE(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ye()),ut(g,this.relativeTarget)),w&&(this.animationValues=d,JC(d,u,this.latestValues,S,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Ua.hasAnimatedSinceResize=!0,this.currentAnimation=qC(0,gp,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&kv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ye();const h=ot(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ot(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ut(l,c),zn(l,d),ii(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iE),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&uc("z",o,u,this.animationValues);for(let d=0;d<cc.length;d++)uc(`rotate${cc[d]}`,o,u,this.animationValues),uc(`skew${cc[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oE;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$a(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=$a(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qr(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=aE(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in No){if(f[w]===void 0)continue;const{correct:j,applyTo:m}=No[w],y=u.transform==="none"?f[w]:j(f[w],h);if(m){const g=m.length;for(let b=0;b<g;b++)u[m[b]]=y}else u[w]=y}return this.options.layoutId&&(u.pointerEvents=h===this?$a(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(yp),this.root.sharedNodes.clear()}}}function cE(e){e.updateLayout()}function uE(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?dt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=ot(f);f.min=n[h].min,f.max=f.min+p}):kv(i,r.layoutBox,n)&&dt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=ot(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Un();ii(l,n,r.layoutBox);const c=Un();o?ii(c,e.applyTransform(s,!0),r.measuredBox):ii(c,n,r.layoutBox);const u=!vv(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=ye();ai(v,r.layoutBox,f.layoutBox);const w=ye();ai(w,n,p.layoutBox),wv(v,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function dE(e){Hs&&Xr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fE(e){e.clearSnapshot()}function yp(e){e.clearMeasurements()}function mE(e){e.isLayoutDirty=!1}function pE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gE(e){e.resolveTargetDelta()}function yE(e){e.calcProjection()}function xE(e){e.resetSkewAndRotation()}function vE(e){e.removeLeadSnapshot()}function vp(e,t,r){e.translate=de(t.translate,0,r),e.scale=de(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function wp(e,t,r,n){e.min=de(t.min,r.min,n),e.max=de(t.max,r.max,n)}function wE(e,t,r,n){wp(e.x,t.x,r.x,n),wp(e.y,t.y,r.y,n)}function bE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jE={duration:.45,ease:[.4,0,.1,1]},bp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jp=bp("applewebkit/")&&!bp("chrome/")?Math.round:st;function kp(e){e.min=jp(e.min),e.max=jp(e.max)}function kE(e){kp(e.x),kp(e.y)}function kv(e,t,r){return e==="position"||e==="preserve-aspect"&&!_C(mp(t),mp(r),.2)}function SE(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const NE=jv({attachResizeListener:(e,t)=>Ii(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dc={current:void 0},Sv=jv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dc.current){const e=new NE({});e.mount(window),e.setOptions({layoutScroll:!0}),dc.current=e}return dc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_E={pan:{Feature:BC},drag:{Feature:UC,ProjectionNode:Sv,MeasureLayout:gv}};function Sp(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&oe.postRender(()=>i(t,Qi(t)))}class CE extends zr{mount(){const{current:t}=this.node;t&&(this.unmount=E2(t,r=>(Sp(this.node,r,"Start"),n=>Sp(this.node,n,"End"))))}unmount(){}}class EE extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yi(Ii(this.node.current,"focus",()=>this.onFocus()),Ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Np(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&oe.postRender(()=>i(t,Qi(t)))}class PE extends zr{mount(){const{current:t}=this.node;t&&(this.unmount=R2(t,r=>(Np(this.node,r,"Start"),(n,{success:s})=>Np(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lu=new WeakMap,hc=new WeakMap,TE=e=>{const t=Lu.get(e.target);t&&t(e)},AE=e=>{e.forEach(TE)};function RE({root:e,...t}){const r=e||document;hc.has(r)||hc.set(r,{});const n=hc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(AE,{root:e,...t})),n[s]}function DE(e,t,r){const n=RE(t);return Lu.set(e,r),n.observe(e),()=>{Lu.delete(e),n.unobserve(e)}}const ME={some:0,all:1};class LE extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:ME[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return DE(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(OE(t,r))&&this.startObserver()}unmount(){}}function OE({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const IE={inView:{Feature:LE},tap:{Feature:PE},focus:{Feature:EE},hover:{Feature:CE}},FE={layout:{ProjectionNode:Sv,MeasureLayout:gv}},Ou={current:null},Nv={current:!1};function $E(){if(Nv.current=!0,!!Qd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ou.current=e.matches;e.addListener(t),t()}else Ou.current=!1}const VE=[...Yx,Me,Fr],UE=e=>VE.find(Gx(e)),_p=new WeakMap;function BE(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Fe(s))e.addValue(n,s);else if(Fe(i))e.addValue(n,Li(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Li(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Cp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zE{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=$t.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,oe.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=fl(r),this.isVariantNode=nx(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const v=f[p];c[p]!==void 0&&Fe(v)&&v.set(c[p],!1)}}mount(t){this.current=t,_p.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Nv.current||$E(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ou.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_p.delete(this.current),this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=wn.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&oe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ds){const r=ds[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Cp.length;n++){const s=Cp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=BE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Li(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(qx(s)||Ix(s))?s=parseFloat(s):!UE(s)&&Fr.test(r)&&(s=zx(t,r)),this.setBaseTarget(t,Fe(s)?s.get():s)),Fe(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=sh(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Fe(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new xh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class _v extends zE{constructor(){super(...arguments),this.KeyframeResolver=Qx}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fe(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function HE(e){return window.getComputedStyle(e)}class WE extends _v{constructor(){super(...arguments),this.type="html",this.renderInstance=hx}readValueFromInstance(t,r){if(wn.has(r)){const n=Sh(r);return n&&n.default||0}else{const n=HE(t),s=(cx(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return mv(t,r)}build(t,r,n){oh(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return dh(t,r,n)}}class qE extends _v{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(wn.has(r)){const n=Sh(r);return n&&n.default||0}return r=fx.has(r)?r:th(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return gx(t,r,n)}build(t,r,n){lh(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){mx(t,r,n,s)}mount(t){this.isSVGTag=uh(t.tagName),super.mount(t)}}const KE=(e,t)=>nh(e)?new qE(t):new WE(t,{allowProjection:e!==x.Fragment}),GE=b2({...yC,...IE,..._E,...FE},KE),A=ON(GE);function YE(e){e.values.forEach(t=>t.stop())}function Iu(e,t){[...t].reverse().forEach(n=>{const s=e.getVariant(n);s&&vh(e,s),e.variantChildren&&e.variantChildren.forEach(i=>{Iu(i,t)})})}function QE(e,t){if(Array.isArray(t))return Iu(e,t);if(typeof t=="string")return Iu(e,[t]);vh(e,t)}function XE(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const s=[];return e.forEach(i=>{s.push(iv(i,r,{transitionOverride:n}))}),Promise.all(s)},set(r){return e.forEach(n=>{QE(n,r)})},stop(){e.forEach(r=>{YE(r)})},mount(){return()=>{t.stop()}}};return t}function JE(){const e=cl(XE);return Xd(e.mount,[]),e}const ZE=JE;function Cv(e,t){let r=0;r+=10,t.keywords&&t.keywords.forEach(o=>{const l=o.toLowerCase();e.title.toLowerCase().includes(l)&&(r+=15),e.content.toLowerCase().includes(l)&&(r+=10)}),t.categories&&t.categories.includes(e.category)&&(r+=20),t.sources&&t.sources.includes(e.source)&&(r+=15),t.languages&&e.language&&(t.languages.includes(e.language)?r+=15:r-=10),e.tags&&e.tags.length>0&&(t.keywords&&e.tags.forEach(o=>{var l;(l=t.keywords)!=null&&l.some(c=>c.toLowerCase()===o.toLowerCase()||o.toLowerCase().includes(c.toLowerCase())||c.toLowerCase().includes(o.toLowerCase()))&&(r+=5)}),e.tags.length>=3&&(r+=5)),t.excluded_keywords&&t.excluded_keywords.forEach(o=>{const l=o.toLowerCase();e.title.toLowerCase().includes(l)&&(r-=25),e.content.toLowerCase().includes(l)&&(r-=15)});const n=new Date(e.published_at),i=(new Date().getTime()-n.getTime())/(1e3*60*60);return i<6?r+=20:i<24?r+=10:i<48&&(r+=5),Math.min(Math.max(Math.round(r),0),100)}function Ev(e,t){return e.map(n=>{const s=Cv(n,t);return{...n,relevance_score:s}}).sort((n,s)=>(s.relevance_score||0)-(n.relevance_score||0))}function e4(e){return e===null?"text-gray-400":e>=80?"text-green-400":e>=60?"text-green-300":e>=40?"text-blue-400":e>=20?"text-blue-300":"text-gray-400"}const t4=2*60*1e3;async function Pv(e,t=20,r,n=!0){if(!e||e.trim().length<2)return[];try{const s=Vd({type:"search",query:e.trim().toLowerCase(),limit:t,userId:r});if(n){const d=Ke.get(s);if(d)return d}const i=e.trim().toLowerCase().split(/\s+/).filter(d=>d.length>=2),o=i.map(d=>`title.ilike.%${d}%,content.ilike.%${d}%`).join(","),{data:l,error:c}=await L.from("articles").select("*").or(o).limit(t);if(c)throw console.error("Search error:",c),c;if(!l||l.length===0)return[];let u=l;if(r){const d=await cs(r);d&&(u=Ev(u,d))}else u.sort((d,h)=>{const f=d.title.toLowerCase(),p=h.title.toLowerCase(),v=f.includes(e.toLowerCase()),w=p.includes(e.toLowerCase());if(v&&!w)return-1;if(!v&&w)return 1;let j=0,m=0;return i.forEach(y=>{f.includes(y)&&j++,p.includes(y)&&m++}),j!==m?m-j:new Date(h.published_at).getTime()-new Date(d.published_at).getTime()});return n&&Ke.set(s,u,t4),u}catch(s){return console.error("Error in searchArticles:",s),[]}}function r4(){return["blockchain","artificial intelligence","stock market","climate change","web3","startup funding","crypto"]}const gl=({textSize:e="text-xl",iconSize:t=24,className:r="",iconOnly:n=!1})=>a.jsxs("div",{className:`flex items-center ${r}`,children:[a.jsx(qy,{className:"text-blue-500",size:t}),!n&&a.jsx("span",{className:`ml-2 ${e} font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent`,children:"Sentro"})]}),n4=()=>{const{user:e}=we(),t=wt(),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState(!1),[d,h]=x.useState(!1),f=x.useRef(null),p=x.useRef(null),v=x.useRef(Ci(async m=>{if(m.trim().length<2){l([]);return}h(!0);try{const y=await Pv(m);l(y.slice(0,5))}catch(y){console.error("Search error:",y)}finally{h(!1)}},300)).current;x.useEffect(()=>{s.trim().length>=2?(v(s),u(!0)):(l([]),u(!1))},[s,v]),x.useEffect(()=>{const m=y=>{p.current&&f.current&&!p.current.contains(y.target)&&!f.current.contains(y.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const w=m=>{m.preventDefault(),s.trim()&&(t(`/dashboard/search?q=${encodeURIComponent(s.trim())}`),i(""),u(!1))},j=m=>{t(`/dashboard/article/${m}`),i(""),u(!1)};return a.jsxs("nav",{className:"bg-black/40 backdrop-blur-md border-b border-blue-900/40 sticky top-0 z-50",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(Ne,{to:"/dashboard",className:"flex items-center",children:a.jsx(gl,{})})}),a.jsxs("div",{className:"hidden md:block flex-1 max-w-xl mx-8 relative",children:[a.jsxs("form",{onSubmit:w,className:"relative",children:[a.jsx("input",{ref:f,type:"text",placeholder:"Search news...",value:s,onChange:m=>i(m.target.value),onFocus:()=>o.length>0&&u(!0),className:"w-full bg-gray-800/50 border border-gray-700 rounded-full py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-200"}),a.jsx(bo,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsx(kr,{children:c&&a.jsx(A.div,{ref:p,className:"absolute z-10 mt-2 w-full bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:d?a.jsxs("div",{className:"p-4 text-center text-gray-400",children:[a.jsx("div",{className:"inline-block h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mr-2"}),"Searching..."]}):o.length>0?a.jsxs("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:[o.map(m=>a.jsxs("div",{onClick:()=>j(m.id),className:"p-3 hover:bg-gray-700/50 cursor-pointer border-b border-gray-700 last:border-0",children:[a.jsx("h4",{className:"text-white text-sm font-medium mb-1 line-clamp-1",children:m.title}),a.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[a.jsx("span",{className:"px-2 py-0.5 bg-gray-700 rounded-full mr-2",children:m.category}),a.jsx("span",{children:m.source})]})]},m.id)),a.jsxs("div",{className:"p-3 text-center bg-gray-700/30 text-blue-400 text-sm cursor-pointer hover:bg-gray-700/50",onClick:m=>{m.preventDefault(),t(`/dashboard/search?q=${encodeURIComponent(s)}`),i(""),u(!1)},children:['See all results for "',s,'"']})]}):s.length>=2?a.jsxs("div",{className:"p-4 text-gray-400 text-center",children:['No results found for "',s,'"']}):null})})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-4",children:!e&&a.jsx(Ne,{to:"/login",className:"text-sm font-medium text-white bg-blue-600 px-4 py-2 rounded-full hover:bg-blue-700 transition-colors",children:"Sign In"})}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:r?a.jsx(pn,{className:"h-6 w-6"}):a.jsx(hN,{className:"h-6 w-6"})})})]})}),r&&a.jsx(A.div,{className:"md:hidden bg-gray-900 shadow-lg",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},transition:{duration:.3},children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[a.jsxs("form",{onSubmit:w,className:"relative mb-3",children:[a.jsx("input",{type:"text",placeholder:"Search news...",value:s,onChange:m=>i(m.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-md py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-200"}),a.jsx(bo,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsx(Ne,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Home"}),a.jsx(Ne,{to:"/dashboard/trending",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Trending"}),a.jsx(Ne,{to:"/dashboard/categories",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Categories"}),a.jsx(Ne,{to:"/dashboard/bookmarks",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"Bookmarks"}),a.jsx(Ne,{to:"/dashboard/history",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700",children:"History"}),!e&&a.jsx(Ne,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700 text-center",children:"Sign In"})]})})]})},Kt={async addBookmark(e,t,r){try{const{data:n}=await L.from("bookmarks").select("id").eq("user_id",e).eq("article_id",t).single();if(n)return n;const{data:s,error:i}=await L.from("bookmarks").insert({user_id:e,article_id:t,note:r||null}).select().single();if(i)throw console.error("Error adding bookmark:",i),i;return s}catch(n){return console.error("Error in addBookmark:",n),null}},async removeBookmark(e,t){try{const{error:r}=await L.from("bookmarks").delete().match({user_id:e,article_id:t});return r?(console.error("Error removing bookmark:",r),!1):!0}catch(r){return console.error("Error in removeBookmark:",r),!1}},async isBookmarked(e,t){try{const{data:r,error:n}=await L.from("bookmarks").select("id").eq("user_id",e).eq("article_id",t);return n?(console.error("Error checking bookmark:",n),!1):r&&r.length>0}catch(r){return console.error("Error in isBookmarked:",r),!1}},async getUserBookmarks(e,t=!0){try{let r=L.from("bookmarks").select(t?"*, article:articles(*)":"*").eq("user_id",e).order("created_at",{ascending:!1});const{data:n,error:s}=await r;if(s)throw console.error("Error fetching bookmarks:",s),s;return(n||[]).map(i=>t&&i.article?{...i,article:i.article}:i)}catch(r){return console.error("Error in getUserBookmarks:",r),[]}},async updateBookmarkNote(e,t){try{const{data:r,error:n}=await L.from("bookmarks").update({note:t}).eq("id",e).select().single();return n?(console.error("Error updating bookmark note:",n),null):r}catch(r){return console.error("Error in updateBookmarkNote:",r),null}},async getBookmarkStatsByCategory(e){try{const{data:t,error:r}=await L.from("bookmarks").select("article:articles(category)").eq("user_id",e);if(r)throw console.error("Error fetching bookmark stats:",r),r;const n={};return t&&t.forEach(s=>{var o;const i=(o=s.article)==null?void 0:o.category;i&&(n[i]=(n[i]||0)+1)}),n}catch(t){return console.error("Error in getBookmarkStatsByCategory:",t),{}}}},Gt={async recordView(e,t,r){try{const n=new Date;n.setMinutes(n.getMinutes()-5);const{data:s,error:i}=await L.from("article_views").select("id, viewed_at").eq("user_id",e).eq("article_id",t).gte("viewed_at",n.toISOString()).order("viewed_at",{ascending:!1}).limit(1);if(i)console.error("Error checking for recent views:",i);else if(s&&s.length>0)return console.log("Found recent view, not creating duplicate"),s[0];const{data:o,error:l}=await L.from("article_views").insert({user_id:e,article_id:t,view_duration:r||null,viewed_at:new Date().toISOString()}).select().single();return l?(console.error("Error recording article view:",l),null):o}catch(n){return console.error("Error in recordView:",n),null}},async updateViewDuration(e,t){try{const{error:r}=await L.from("article_views").update({view_duration:t}).eq("id",e);return r?(console.error("Error updating view duration:",r),!1):!0}catch(r){return console.error("Error in updateViewDuration:",r),!1}},async getUserHistory(e,t=50,r=!0){try{let n=L.from("article_views").select(r?"*, article:articles(*)":"*").eq("user_id",e).order("viewed_at",{ascending:!1}).limit(t);const{data:s,error:i}=await n;if(i)throw console.error("Error fetching view history:",i),i;return(s||[]).map(o=>r&&o.article?{...o,article:o.article}:o)}catch(n){return console.error("Error in getUserHistory:",n),[]}},async clearHistory(e){try{const{error:t}=await L.from("article_views").delete().eq("user_id",e);return t?(console.error("Error clearing view history:",t),!1):!0}catch(t){return console.error("Error in clearHistory:",t),!1}},async hasViewedArticle(e,t){try{const{data:r,error:n}=await L.from("article_views").select("id").eq("user_id",e).eq("article_id",t).limit(1);return n?(console.error("Error checking article view:",n),!1):r&&r.length>0}catch(r){return console.error("Error in hasViewedArticle:",r),!1}},async getMostViewedCategories(e){try{const{data:t,error:r}=await L.from("article_views").select("article:articles(category)").eq("user_id",e);if(r)throw console.error("Error fetching view categories:",r),r;const n={};return t&&t.forEach(s=>{var o;const i=(o=s.article)==null?void 0:o.category;i&&(n[i]=(n[i]||0)+1)}),n}catch(t){return console.error("Error in getMostViewedCategories:",t),{}}},async getArticleViewCount(e){try{const{count:t,error:r}=await L.from("article_views").select("id",{count:"exact",head:!0}).eq("article_id",e);return r?(console.error("Error fetching article view count:",r),0):t||0}catch(t){return console.error("Error in getArticleViewCount:",t),0}},async getCategoryViewCounts(){try{const{data:e,error:t}=await L.from("article_views").select("article:articles(category)").order("viewed_at",{ascending:!1});if(t)throw console.error("Error fetching category view counts:",t),t;const r={};e&&e.forEach(s=>{var i;if((i=s.article)!=null&&i.category){const o=s.article.category;r[o]||(r[o]=new Set),r[o].add(s.article.id||"unknown")}});const n={};return Object.entries(r).forEach(([s,i])=>{n[s]=i.size}),n}catch(e){return console.error("Error in getCategoryViewCounts:",e),{}}}},s4=()=>{var b,S,C;const[e,t]=x.useState(!1),[r,n]=x.useState(!1),{isAdmin:s,profile:i,user:o,signOut:l}=we(),c=wt(),u=x.useRef(null),d=x.useRef(null),[h,f]=x.useState(0),[p,v]=x.useState(0),w=()=>{t(!e)},j=async()=>{await l(),c("/")};x.useEffect(()=>{function k(E){u.current&&d.current&&!u.current.contains(E.target)&&!d.current.contains(E.target)&&n(!1)}return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]),x.useEffect(()=>{if(!o)return;(async()=>{try{const E=await Kt.getUserBookmarks(o.id,!1);f(E.length);const N=await Gt.getUserHistory(o.id,100,!1);v(N.length)}catch(E){console.error("Error fetching counts:",E)}})()},[o]);const m=e?"w-16":"w-64",y=({isActive:k})=>`flex items-center py-3 px-4 rounded-lg transition-colors ${k?"bg-blue-600/20 text-blue-400":"text-gray-400 hover:bg-gray-800/50 hover:text-gray-200"}`,g="h-5 w-5";return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`absolute top-0 bottom-0 right-0 w-8 -mr-8 bg-blue-500/10 blur-[18px] rounded-full pointer-events-none z-10 transition-all duration-300 ${e?"opacity-30":"opacity-50"}`}),a.jsx(A.aside,{className:`${m} bg-gray-900/50 border-r border-blue-900/30 h-[calc(100vh-4rem)] sticky top-16 transition-all duration-300 overflow-hidden rounded-tr-2xl rounded-br-2xl relative z-20`,layout:!0,children:a.jsxs("div",{className:"h-full flex flex-col py-4 px-2",children:[a.jsx("div",{className:"px-2 mb-6",children:a.jsx(gl,{iconOnly:e})}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsxs(Ut,{to:"/dashboard",end:!0,className:y,children:[a.jsx(oN,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Home"})]}),a.jsxs(Ut,{to:"/dashboard/trending",className:y,children:[a.jsx(Or,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Trending"})]}),a.jsx(Ut,{to:"/dashboard/categories",className:y,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qi,{className:g}),!e&&a.jsx("span",{className:"ml-3 flex-1",children:"Categories"})]})}),a.jsx(Ut,{to:"/dashboard/bookmarks",className:y,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(By,{className:g}),!e&&a.jsx("span",{className:"ml-3 flex-1",children:"Bookmarks"}),h>0&&a.jsx("span",{className:`${e?"ml-0":"ml-2"} px-1.5 py-0.5 text-xs bg-blue-900/60 text-blue-300 rounded-full`,children:h})]})}),a.jsxs(Ut,{to:"/dashboard/preferences",className:y,children:[a.jsx(jo,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Preferences"})]}),s&&a.jsxs(Ut,{to:"/dashboard/admin",className:y,children:[a.jsx(wu,{className:g}),!e&&a.jsx("span",{className:"ml-3",children:"Admin"})]})]}),a.jsxs("div",{className:"mt-auto mb-3 px-2 relative",children:[a.jsxs("button",{ref:d,onClick:()=>n(!r),className:`w-full flex ${e?"justify-center":"justify-start"} items-center p-2 rounded-lg transition-colors hover:bg-gray-800/70 text-gray-300`,children:[a.jsx("div",{className:`rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center flex-shrink-0 ${e?"h-9 w-9":"h-10 w-10"}`,children:i!=null&&i.avatar_url?a.jsx("img",{src:i.avatar_url,alt:(i==null?void 0:i.username)||"User",className:`rounded-full object-cover ${e?"h-9 w-9":"h-10 w-10"}`}):a.jsx("span",{className:"text-white font-semibold",children:((b=i==null?void 0:i.username)==null?void 0:b[0])||((S=o==null?void 0:o.email)==null?void 0:S[0])||a.jsx(ko,{className:e?"h-5 w-5":"h-6 w-6"})})}),!e&&a.jsxs("div",{className:"ml-3 overflow-hidden",children:[a.jsx("p",{className:"text-sm font-medium line-clamp-1",children:(i==null?void 0:i.username)||((C=o==null?void 0:o.email)==null?void 0:C.split("@")[0])||"User"}),(i==null?void 0:i.role)&&a.jsx("p",{className:"text-xs text-gray-400 capitalize",children:i.role})]})]}),r&&a.jsxs("div",{ref:u,className:`absolute ${e?"left-16 bottom-0":"bottom-full left-0 mb-1"} w-48 bg-gray-800 rounded-md shadow-lg py-1 border border-gray-700 z-50`,children:[a.jsxs(Ut,{to:"/dashboard/profile",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[a.jsx(ko,{className:"h-4 w-4 inline mr-2"}),"Profile"]}),a.jsxs(Ut,{to:"/dashboard/preferences",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[a.jsx(jo,{className:"h-4 w-4 inline mr-2"}),"News Preferences"]}),(i==null?void 0:i.role)==="admin"&&a.jsxs(Ut,{to:"/dashboard/admin",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",onClick:()=>n(!1),children:[a.jsx(wu,{className:"h-4 w-4 inline mr-2"}),"Admin Dashboard"]}),a.jsxs("button",{onClick:()=>{n(!1),j()},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:[a.jsx(uN,{className:"h-4 w-4 inline mr-2"}),"Sign out"]})]})]}),a.jsx("button",{onClick:w,className:"mx-auto flex items-center justify-center p-2 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors",children:e?a.jsx(Hy,{className:"h-5 w-5 text-gray-400"}):a.jsx(zy,{className:"h-5 w-5 text-gray-400"})})]})})]})};function te(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function nr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Tv(e,t){const r=+te(e);return nr(e,r+t)}const Av=6048e5,i4=864e5,Ph=6e4,Th=36e5,ka=43200,Ep=1440;function Ds(e,t){return Tv(e,t*Th)}let a4={};function Xi(){return a4}function Fi(e,t){var l,c,u,d;const r=Xi(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=te(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ao(e){return Fi(e,{weekStartsOn:1})}function Rv(e){const t=te(e),r=t.getFullYear(),n=nr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ao(n),i=nr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ao(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Pp(e){const t=te(e);return t.setHours(0,0,0,0),t}function Ro(e){const t=te(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function o4(e,t){const r=Pp(e),n=Pp(t),s=+r-Ro(r),i=+n-Ro(n);return Math.round((s-i)/i4)}function l4(e){const t=Rv(e),r=nr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ao(r)}function Ba(e,t){return Tv(e,t*Ph)}function za(e,t){const r=te(e),n=te(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function c4(e){return nr(e,Date.now())}function u4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function d4(e){if(!u4(e)&&typeof e!="number")return!1;const t=te(e);return!isNaN(Number(t))}function h4(e,t){const r=te(e),n=te(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function f4(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function m4(e,t){return+te(e)-+te(t)}function p4(e){const t=te(e);return t.setHours(23,59,59,999),t}function g4(e){const t=te(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function y4(e){const t=te(e);return+p4(t)==+g4(t)}function x4(e,t){const r=te(e),n=te(t),s=za(r,n),i=Math.abs(h4(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=za(r,n)===-s;y4(te(e))&&i===1&&za(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function v4(e,t,r){const n=m4(e,t)/1e3;return f4(r==null?void 0:r.roundingMethod)(n)}function w4(e){const t=te(e),r=nr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const b4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j4=(e,t,r)=>{let n;const s=b4[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const k4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_4={date:fc({formats:k4,defaultWidth:"full"}),time:fc({formats:S4,defaultWidth:"full"}),dateTime:fc({formats:N4,defaultWidth:"full"})},C4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},E4=(e,t,r,n)=>C4[e];function Ms(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const P4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},R4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L4=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},O4={ordinalNumber:L4,era:Ms({values:P4,defaultWidth:"wide"}),quarter:Ms({values:T4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ms({values:A4,defaultWidth:"wide"}),day:Ms({values:R4,defaultWidth:"wide"}),dayPeriod:Ms({values:D4,defaultWidth:"wide",formattingValues:M4,defaultFormattingWidth:"wide"})};function Ls(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?F4(l,h=>h.test(o)):I4(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function I4(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function F4(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function $4(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const V4=/^(\d+)(th|st|nd|rd)?/i,U4=/\d+/i,B4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z4={any:[/^b/i,/^(a|c)/i]},H4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W4={any:[/1/i,/2/i,/3/i,/4/i]},q4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},X4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},J4={ordinalNumber:$4({matchPattern:V4,parsePattern:U4,valueCallback:e=>parseInt(e,10)}),era:Ls({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:z4,defaultParseWidth:"any"}),quarter:Ls({matchPatterns:H4,defaultMatchWidth:"wide",parsePatterns:W4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ls({matchPatterns:q4,defaultMatchWidth:"wide",parsePatterns:K4,defaultParseWidth:"any"}),day:Ls({matchPatterns:G4,defaultMatchWidth:"wide",parsePatterns:Y4,defaultParseWidth:"any"}),dayPeriod:Ls({matchPatterns:Q4,defaultMatchWidth:"any",parsePatterns:X4,defaultParseWidth:"any"})},Dv={code:"en-US",formatDistance:j4,formatLong:_4,formatRelative:E4,localize:O4,match:J4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z4(e){const t=te(e);return o4(t,w4(t))+1}function e3(e){const t=te(e),r=+Ao(t)-+l4(t);return Math.round(r/Av)+1}function Mv(e,t){var d,h,f,p;const r=te(e),n=r.getFullYear(),s=Xi(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=nr(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Fi(o,t),c=nr(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Fi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function t3(e,t){var l,c,u,d;const r=Xi(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Mv(e,t),i=nr(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Fi(i,t)}function r3(e,t){const r=te(e),n=+Fi(r,t)-+t3(r,t);return Math.round(n/Av)+1}function J(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const cr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return J(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):J(r+1,2)},d(e,t){return J(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return J(e.getHours()%12||12,t.length)},H(e,t){return J(e.getHours(),t.length)},m(e,t){return J(e.getMinutes(),t.length)},s(e,t){return J(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return J(s,t.length)}},Nn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tp={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return cr.y(e,t)},Y:function(e,t,r,n){const s=Mv(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return J(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):J(i,t.length)},R:function(e,t){const r=Rv(e);return J(r,t.length)},u:function(e,t){const r=e.getFullYear();return J(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return J(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return J(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return cr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return J(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=r3(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):J(s,t.length)},I:function(e,t,r){const n=e3(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):J(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):cr.d(e,t)},D:function(e,t,r){const n=Z4(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):J(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return J(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return J(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return J(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Nn.noon:n===0?s=Nn.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Nn.evening:n>=12?s=Nn.afternoon:n>=4?s=Nn.morning:s=Nn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return cr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):cr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):J(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):J(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):cr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):cr.s(e,t)},S:function(e,t){return cr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Rp(n);case"XXXX":case"XX":return Jr(n);case"XXXXX":case"XXX":default:return Jr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Rp(n);case"xxxx":case"xx":return Jr(n);case"xxxxx":case"xxx":default:return Jr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ap(n,":");case"OOOO":default:return"GMT"+Jr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ap(n,":");case"zzzz":default:return"GMT"+Jr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return J(n,t.length)},T:function(e,t,r){const n=e.getTime();return J(n,t.length)}};function Ap(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+J(i,2)}function Rp(e,t){return e%60===0?(e>0?"-":"+")+J(Math.abs(e)/60,2):Jr(e,t)}function Jr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=J(Math.trunc(n/60),2),i=J(n%60,2);return r+s+t+i}const Dp=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Lv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},n3=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Dp(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Dp(n,t)).replace("{{time}}",Lv(s,t))},s3={p:Lv,P:n3},i3=/^D+$/,a3=/^Y+$/,o3=["D","DD","YY","YYYY"];function l3(e){return i3.test(e)}function c3(e){return a3.test(e)}function u3(e,t,r){const n=d3(e,t,r);if(console.warn(n),o3.includes(e))throw new RangeError(n)}function d3(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m3=/^'([^]*?)'?$/,p3=/''/g,g3=/[a-zA-Z]/;function Je(e,t,r){var d,h,f,p;const n=Xi(),s=n.locale??Dv,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=te(e);if(!d4(l))throw new RangeError("Invalid time value");let c=t.match(f3).map(v=>{const w=v[0];if(w==="p"||w==="P"){const j=s3[w];return j(v,s.formatLong)}return v}).join("").match(h3).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:y3(v)};if(Tp[w])return{isToken:!0,value:v};if(w.match(g3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(c3(w)||l3(w))&&u3(w,t,String(e));const j=Tp[w[0]];return j(l,w,s.localize,u)}).join("")}function y3(e){const t=e.match(m3);return t?t[1].replace(p3,"'"):e}function x3(e,t,r){const n=Xi(),s=(r==null?void 0:r.locale)??n.locale??Dv,i=2520,o=za(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=te(t),u=te(e)):(c=te(e),u=te(t));const d=v4(u,c),h=(Ro(u)-Ro(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Ep){const v=Math.round(f/60);return s.formatDistance("aboutXHours",v,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<ka){const v=Math.round(f/Ep);return s.formatDistance("xDays",v,l)}else if(f<ka*2)return p=Math.round(f/ka),s.formatDistance("aboutXMonths",p,l)}if(p=x4(u,c),p<12){const v=Math.round(f/ka);return s.formatDistance("xMonths",v,l)}else{const v=p%12,w=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",w,l):v<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function Do(e,t){return x3(e,c4(e),t)}function sn(e,t){const n=j3(e);let s;if(n.date){const c=k3(n.date,2);s=S3(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=N3(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=_3(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Sa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},v3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,w3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,b3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j3(e){const t={},r=e.split(Sa.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Sa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Sa.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Sa.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function k3(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function S3(e,t){if(t===null)return new Date(NaN);const r=e.match(v3);if(!r)return new Date(NaN);const n=!!r[4],s=Os(r[1]),i=Os(r[2])-1,o=Os(r[3]),l=Os(r[4]),c=Os(r[5])-1;if(n)return A3(t,l,c)?C3(t,l,c):new Date(NaN);{const u=new Date(0);return!P3(t,i,o)||!T3(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Os(e){return e?parseInt(e):1}function N3(e){const t=e.match(w3);if(!t)return NaN;const r=mc(t[1]),n=mc(t[2]),s=mc(t[3]);return R3(r,n,s)?r*Th+n*Ph+s*1e3:NaN}function mc(e){return e&&parseFloat(e.replace(",","."))||0}function _3(e){if(e==="Z")return 0;const t=e.match(b3);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return D3(n,s)?r*(n*Th+s*Ph):NaN}function C3(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const E3=[31,null,31,30,31,30,31,31,30,31,30,31];function Ov(e){return e%400===0||e%4===0&&e%100!==0}function P3(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(E3[t]||(Ov(e)?29:28))}function T3(e,t){return t>=1&&t<=(Ov(e)?366:365)}function A3(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function R3(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function D3(e,t){return t>=0&&t<=59}const Mp=({onClose:e,isMuted:t,onToggleMute:r,onOpenInNewTab:n,isPaused:s,onTogglePause:i})=>{const[o,l]=x.useState(null);return a.jsxs("div",{className:"fixed bottom-0 right-4 bg-gray-800/90 backdrop-blur-sm rounded-t-lg shadow-lg z-50 flex items-center border-t border-x border-blue-900/30",children:[n&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",title:"Open news in new tab",onMouseEnter:()=>l("open"),onMouseLeave:()=>l(null),children:a.jsx(A.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:a.jsx(vn,{className:"h-4 w-4"})})}),a.jsx(kr,{children:o==="open"&&a.jsx(A.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:"Open all news"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",title:t?"Unmute ticker":"Mute ticker",onMouseEnter:()=>l("mute"),onMouseLeave:()=>l(null),children:a.jsx(A.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:t?a.jsx(SN,{className:"h-4 w-4"}):a.jsx(kN,{className:"h-4 w-4"})})}),a.jsx(kr,{children:o==="mute"&&a.jsx(A.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:t?"Unmute ticker":"Mute ticker"})})]}),i&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-blue-300 transition-colors",title:s?"Resume ticker":"Pause ticker",onMouseEnter:()=>l("pause"),onMouseLeave:()=>l(null),children:a.jsx(A.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:s?a.jsx(gN,{className:"h-4 w-4"}):a.jsx(pN,{className:"h-4 w-4"})})}),a.jsx(kr,{children:o==="pause"&&a.jsx(A.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:s?"Resume ticker":"Pause ticker"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-red-300 transition-colors",title:"Hide ticker",onMouseEnter:()=>l("close"),onMouseLeave:()=>l(null),children:a.jsx(A.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:a.jsx(pn,{className:"h-4 w-4"})})}),a.jsx(kr,{children:o==="close"&&a.jsx(A.div,{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-gray-200 text-xs px-2 py-1 rounded whitespace-nowrap",initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},children:"Hide ticker"})})]})]})},Lp=[{title:"Crypto markets show resilience amid global economic uncertainty",link:"https://www.reuters.com/business/finance/",pubDate:new Date().toISOString(),category:"Finance",isHighImpact:!0},{title:"Bitcoin stabilizes above support levels as institutional interest grows",link:"https://www.reuters.com/markets/",pubDate:new Date().toISOString(),category:"Markets"},{title:"Blockchain technology adoption accelerates across industries",link:"https://www.reuters.com/technology/",pubDate:new Date().toISOString(),category:"Technology"},{title:"Ethereum upgrade attracts new developers to ecosystem",link:"https://www.reuters.com/technology/",pubDate:new Date().toISOString(),category:"Technology"},{title:"Regulatory clarity drives institutional adoption of cryptocurrencies",link:"https://www.reuters.com/business/finance/",pubDate:new Date().toISOString(),category:"Finance"}],Iv=({className:e=""})=>{const{isVisible:t,isMuted:r,hideTicker:n,toggleMute:s}=GS(),[i,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[h,f]=x.useState(!1),[p,v]=x.useState(-1),[w,j]=x.useState(new Set),m=ZE(),y=x.useRef(null);x.useEffect(()=>{const _=async()=>{try{c(!0);const T=["https://api.allorigins.win/get?url=","https://api.codetabs.com/v1/proxy?quest=","https://corsproxy.io/?"];try{const M=await fetch("/feeds/reuters-topnews.json");if(!M.ok)throw new Error(`Local feed unavailable: ${M.status}`);const V=await M.json();if(V&&V.items&&Array.isArray(V.items)){const Y=V.items.map((Q,X)=>({title:Q.title,link:Q.link,pubDate:Q.pubDate||Q.isoDate,description:Q.description||Q.content,category:g(),isHighImpact:X%4===0}));o(Y),console.log("Successfully loaded local news feed");return}else throw new Error("Invalid feed data format")}catch(M){console.warn("Could not load local feed:",M),console.log("Using fallback news data instead of attempting proxy requests"),o(Lp);return}}catch(T){console.error("Error fetching news:",T),d(T instanceof Error?T.message:"Failed to load news ticker"),console.log("Using fallback news data due to error"),o(Lp)}finally{c(!1)}};_();const P=setInterval(_,60*60*1e3);return()=>clearInterval(P)},[]);const g=()=>{const _=["Finance","Technology","Markets","Business","Environment","Health","Education","Community"];return _[Math.floor(Math.random()*_.length)]};x.useEffect(()=>{h?m.stop():m.start({x:[window.innerWidth,-b()],transition:{duration:Math.max(i.length*5,30),ease:"linear",repeat:1/0}})},[m,h,i]);const b=()=>y.current?y.current.scrollWidth:5e3,S=()=>{f(!0)},C=()=>{f(!1)},k=_=>{v(_)},E=()=>{v(-1)};x.useEffect(()=>{if(i.length===0)return;j(new Set([Math.floor(Math.random()*i.length)]));const _=setInterval(()=>{const P=new Set,T=Math.floor(Math.random()*2)+1;for(let M=0;M<T;M++)P.add(Math.floor(Math.random()*i.length));j(P)},8e3);return()=>clearInterval(_)},[i]);const N=()=>{window.open("https://www.reuters.com/world/top-news/","_blank")};return t?l?a.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-gray-900/90 backdrop-blur-sm border-t border-gray-800 py-2 z-50 ${e}`,children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex items-center",children:[a.jsx(qy,{className:"h-4 w-4 text-blue-400 mr-2 animate-spin"}),a.jsx("span",{className:"text-gray-400 text-sm",children:"Loading news ticker..."})]}),a.jsx(Mp,{onClose:n,isMuted:r,onToggleMute:s})]}):i.length?a.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-gray-900/90 backdrop-blur-sm border-t border-blue-900/30 py-2 z-50 ${e}`,onMouseEnter:S,onMouseLeave:C,children:[a.jsx("div",{className:"relative overflow-hidden mx-auto",children:a.jsx(A.div,{ref:y,className:"whitespace-nowrap inline-flex items-center",animate:m,children:i.map((_,P)=>a.jsxs(A.a,{href:_.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center mx-8 text-gray-300 hover:text-blue-400 transition-colors ${p===P?"text-blue-300":""} ${w.has(P)?"animate-pulse":""}`,onMouseEnter:()=>k(P),onMouseLeave:E,whileHover:{scale:1.03},transition:{duration:.2},children:[_.isHighImpact&&a.jsxs(A.span,{className:"mr-2 text-xs px-2 py-0.5 bg-blue-900/60 text-blue-200 rounded-full flex items-center",initial:{opacity:0,y:5},animate:{opacity:1,y:0},children:[a.jsx(Or,{className:"h-3 w-3 mr-1"})," High Impact"]}),_.category&&a.jsx("span",{className:"mr-2 text-xs px-2 py-0.5 bg-gray-800/80 text-gray-300 rounded-full",children:_.category}),a.jsx("span",{className:"font-medium",children:_.title}),a.jsx(A.span,{className:"ml-1",whileHover:{rotate:15},children:a.jsx(vn,{className:"h-3.5 w-3.5 inline"})}),a.jsxs("span",{className:"text-gray-500 ml-2 text-xs flex items-center",children:[a.jsx(Ie,{className:"h-3 w-3 mr-1"}),_.pubDate?Je(new Date(_.pubDate),"MMM dd, HH:mm"):""]}),a.jsx("span",{className:"mx-8 text-blue-500",children:"|"})]},`${P}-${_.title.substring(0,20)}`))})}),a.jsx(kr,{children:h&&a.jsx(A.div,{className:"absolute left-0 right-0 bottom-full py-2 px-3 mb-1 bg-gray-800/90 backdrop-blur-sm border border-gray-700 rounded-t-lg text-xs text-gray-300 max-w-md mx-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gy,{className:"h-3 w-3 mr-1 text-blue-400"}),"Ticker paused - hover over an article to read"]})})}),a.jsx(Mp,{onClose:n,isMuted:r,onToggleMute:s,onOpenInNewTab:N})]}):null:null},M3=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-gray-100",children:[a.jsx(n4,{}),a.jsxs("div",{className:"flex relative",children:[a.jsx(s4,{}),a.jsx(A.main,{className:"flex-1 p-6 pb-48",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsx(cj,{})})]}),a.jsx(Iv,{})]}),L3=()=>a.jsxs("nav",{className:"flex justify-between items-center py-6 relative z-20",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gl,{textSize:"text-2xl",iconSize:32}),a.jsx("span",{className:"text-sm text-gray-300 ml-1 font-normal",children:"Impact News"})]}),a.jsxs(A.div,{className:"hidden lg:flex items-center space-x-8 relative z-20",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("a",{href:"#features",className:"text-gray-300 hover:text-white transition-colors",children:"Features"}),a.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-white transition-colors",children:"How It Works"}),a.jsx(Ne,{to:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Impact Score"}),a.jsxs("div",{className:"group relative",children:[a.jsxs("button",{className:"text-gray-300 hover:text-white transition-colors flex items-center",children:["Solutions",a.jsx("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),a.jsx("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-gray-800 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300",children:a.jsxs("div",{className:"py-1",children:[a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"For Investors"}),a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"For Enterprises"}),a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"For Developers"})]})})]}),a.jsx("a",{href:"#pricing",className:"text-gray-300 hover:text-white transition-colors",children:"Pricing"})]}),a.jsxs("div",{className:"flex items-center space-x-4 relative z-20",children:[a.jsx(Ne,{to:"/login",className:"text-gray-300 hover:text-white transition-colors font-medium relative z-20",children:"Log in"}),a.jsx(Ne,{to:"/login?signup=true",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition-colors font-medium relative z-20",children:"Get Started"})]})]}),O3=()=>a.jsx("footer",{className:"py-12 bg-black",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[a.jsx(gl,{textSize:"text-xl",className:""}),a.jsx("span",{className:"text-gray-400 ml-1",children:"Impact News"})]}),a.jsxs("div",{className:"text-gray-400",children:["© ",new Date().getFullYear()," Sentro. All rights reserved."]})]})})}),I3=({opacity:e=.05,size:t="20px",className:r="",zIndex:n=0})=>a.jsx("div",{className:`absolute inset-0 bg-grid-white pointer-events-none ${r}`,style:{opacity:e,backgroundSize:t,backgroundImage:"radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px)",zIndex:n}}),F3=({children:e})=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-900 to-black text-white relative",children:[a.jsx(I3,{opacity:.05,size:"20px",zIndex:0}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-48",children:[a.jsx(L3,{}),e]}),a.jsx(O3,{}),a.jsx(Iv,{})]}),$3=({text:e,className:t="",as:r="span",delay:n=0,duration:s=.5,animate:i=!0,gradient:o=!1,gradientFrom:l="from-blue-400",gradientTo:c="to-purple-500"})=>{const u=o?`text-transparent bg-clip-text bg-gradient-to-r ${l} ${c}`:"",d=`${t} ${u}`.trim();if(!i)return a.jsx(r,{className:d,children:e});const h={hidden:{opacity:0},visible:(p=1)=>({opacity:1,transition:{staggerChildren:.03,delayChildren:n*p}})},f={visible:{opacity:1,y:0,transition:{type:"spring",damping:12,stiffness:100}},hidden:{opacity:0,y:20,transition:{type:"spring",damping:12,stiffness:100}}};return a.jsx(A.div,{style:{overflow:"hidden",display:"inline-block"},variants:h,initial:"hidden",animate:"visible",className:d,children:e.split("").map((p,v)=>a.jsx(A.span,{variants:f,style:{position:"relative",display:"inline-block",zIndex:10},children:p===" "?" ":p},`${p}-${v}`))})},V3=()=>a.jsxs(A.div,{className:"inline-flex items-center bg-gray-900/70 border border-gray-700/50 rounded-2xl p-4 text-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[a.jsx("div",{className:"p-2.5 bg-green-900/30 rounded-xl mr-4",children:a.jsx(Wd,{className:"h-5 w-5 text-green-400"})}),a.jsxs("div",{className:"text-gray-300",children:[a.jsx("span",{className:"mr-2",children:"Market Prediction:"}),a.jsx("span",{className:"text-white",children:"BTC price likely to"}),a.jsx("span",{className:"text-green-400 font-medium mx-1",children:"increase 2.3%"}),a.jsx("span",{children:"in next 24h"})]})]}),U3=()=>a.jsxs("div",{className:"pt-12 pb-24",children:[a.jsxs(A.div,{className:"mb-8 inline-flex items-center px-3 py-1.5 bg-blue-900/40 border border-blue-500/30 rounded-full text-blue-300 text-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Web3 News Intelligence"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center mb-12",children:[a.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[a.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold leading-tight",children:[a.jsx("span",{className:"text-white mb-2 block",children:"Decentralized"}),a.jsx($3,{text:"News",gradient:!0,gradientFrom:"from-blue-400",gradientTo:"to-blue-600",delay:.3,className:"text-4xl sm:text-5xl font-bold"}),a.jsx("span",{className:"text-white mt-2 block",children:"Impact Scoring"})]}),a.jsx("p",{className:"text-gray-300 text-xl",children:"Sentro delivers blockchain-powered insights through the lens of your career, investments, and interests, using AI to help you navigate market shifts and digital asset opportunities."}),a.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[a.jsx(Ne,{to:"/login?signup=true",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 rounded-lg text-white font-medium hover:bg-blue-700 transition-colors",children:"Start Free Trial"}),a.jsxs("a",{href:"#how-it-works",className:"inline-flex items-center justify-center px-6 py-3 bg-gray-800/60 border border-gray-700 rounded-lg text-white font-medium hover:bg-gray-700/60 transition-colors",children:["Explore the Technology ",a.jsx(Ti,{className:"ml-2 h-4 w-4"})]})]})]}),a.jsx(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-blue-500/10 blur-xl rounded-2xl"}),a.jsxs("div",{className:"relative bg-gray-900/80 border border-gray-800/70 rounded-xl overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"p-3 border-b border-gray-800/50 flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("div",{className:"ml-3 text-xs text-gray-400",children:"Sentro Dashboard"})]}),a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white font-medium",children:"Your Impact Feed"}),a.jsxs("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 text-xs rounded-full flex items-center",children:[a.jsx(Or,{className:"h-3 w-3 mr-1"})," High impact day"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Na,{title:"Fed Raises Interest Rates by 0.5%",time:"2 hours ago",category:"Finance",score:85}),a.jsx(Na,{title:"New Blockchain Regulations Announced",time:"2 hours ago",category:"Finance",score:72}),a.jsx(Na,{title:"Tech Giant Acquires AI Startup",time:"2 hours ago",category:"Finance",score:64}),a.jsx(Na,{title:"Market Recovery in Asian Stock Exchange",time:"2 hours ago",category:"Finance",score:45})]}),a.jsx("button",{className:"w-full mt-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",children:"View Your Full Impact Report"})]})})]})]})})]}),a.jsx(V3,{}),a.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5},className:"flex items-center justify-center mt-12 text-gray-400",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex -space-x-4",children:[a.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"User",className:"w-8 h-8 rounded-full border-2 border-gray-800"}),a.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"User",className:"w-8 h-8 rounded-full border-2 border-gray-800"}),a.jsx("img",{src:"https://randomuser.me/api/portraits/men/86.jpg",alt:"User",className:"w-8 h-8 rounded-full border-2 border-gray-800"})]}),a.jsxs("div",{className:"ml-4 text-sm",children:[a.jsx("span",{className:"text-blue-400 font-bold",children:"2,000+ professionals"})," trust our blockchain insights"]})]})})]}),Na=({title:e,time:t,category:r,score:n})=>a.jsxs("div",{className:"bg-gray-800/50 hover:bg-gray-800/80 transition-colors p-3 rounded-lg border border-gray-700/50 flex justify-between items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white text-sm font-medium mb-1",children:e}),a.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[a.jsx("span",{children:t}),a.jsx("span",{className:"mx-1.5",children:"•"}),a.jsx("span",{children:r})]})]}),a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center
        ${n>=80?"bg-blue-600":n>=70?"bg-green-600":n>=50?"bg-blue-800/60":"bg-gray-700"}
        text-sm font-bold text-white`,children:n})]}),B3=({icon:e,title:t,description:r,index:n})=>a.jsxs(A.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:n*.1},whileHover:{y:-5,transition:{duration:.2}},className:"bg-gray-900/50 hover:bg-gray-900/70 border border-gray-800/70 hover:border-blue-500/30 rounded-lg p-6 transition-all duration-300",children:[a.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg inline-block mb-4",children:e}),a.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:t}),a.jsx("p",{className:"text-gray-300 text-sm",children:r})]}),z3=()=>{const e=[{icon:a.jsx(Wd,{className:"h-6 w-6 text-blue-400"}),title:"Personal Impact Scoring",description:"Every news story is scored based on how it directly impacts your career, investments, and personal interests."},{icon:a.jsx(Ri,{className:"h-6 w-6 text-indigo-400"}),title:"AI-Powered Analysis",description:"Advanced AI algorithms analyze news content to extract meaningful insights tailored to your specific situation."},{icon:a.jsx(lN,{className:"h-6 w-6 text-yellow-400"}),title:"Market Impact Predictions",description:"Understand how news will affect your investments with blockchain-focused market predictions."},{icon:a.jsx(tN,{className:"h-6 w-6 text-red-400"}),title:"Real-time Alerts",description:"Receive instant notifications for high-impact news that requires your immediate attention."},{icon:a.jsx(Xy,{className:"h-6 w-6 text-purple-400"}),title:"Curated News Feed",description:"Your daily news feed is intelligently curated to show you what matters most to you."},{icon:a.jsx(Gy,{className:"h-6 w-6 text-green-400"}),title:"Proactive Planning",description:"Get actionable recommendations to mitigate risk and capitalize on opportunities from breaking news."}];return a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((t,r)=>a.jsx(B3,{index:r,icon:t.icon,title:t.title,description:t.description},r))})})},H3=({showCareer:e=!0,showInvestments:t=!0,showPersonal:r=!0,showIndustry:n=!0,className:s=""})=>a.jsxs(A.div,{className:`bg-gray-900/70 border border-gray-800/70 rounded-xl p-6 shadow-xl ${s}`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Your Personal Impact Score"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Sentro's proprietary Impact Score quantifies how each news story affects your specific circumstances. Say goodbye to information overload and focus on what truly matters to you."}),a.jsxs("div",{className:"space-y-6",children:[e&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-gray-300",children:"Career Impact"}),a.jsx("span",{className:"text-white font-medium",children:"78%"})]}),a.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:a.jsx(A.div,{className:"h-full bg-blue-600",initial:{width:0},whileInView:{width:"78%"},viewport:{once:!0},transition:{duration:1,delay:.2}})})]}),t&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-gray-300",children:"Investments Impact"}),a.jsx("span",{className:"text-white font-medium",children:"92%"})]}),a.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:a.jsx(A.div,{className:"h-full bg-green-600",initial:{width:0},whileInView:{width:"92%"},viewport:{once:!0},transition:{duration:1,delay:.4}})})]}),r&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-gray-300",children:"Personal Impact"}),a.jsx("span",{className:"text-white font-medium",children:"45%"})]}),a.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:a.jsx(A.div,{className:"h-full bg-yellow-500",initial:{width:0},whileInView:{width:"45%"},viewport:{once:!0},transition:{duration:1,delay:.6}})})]}),n&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-gray-300",children:"Industry Impact"}),a.jsx("span",{className:"text-white font-medium",children:"85%"})]}),a.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:a.jsx(A.div,{className:"h-full bg-purple-600",initial:{width:0},whileInView:{width:"85%"},viewport:{once:!0},transition:{duration:1,delay:.8}})})]})]}),a.jsx(A.button,{className:"mt-8 px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors w-full",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Get Your Personal Impact Score"})]}),W3=({icon:e,title:t,description:r,index:n,isActive:s=!1})=>a.jsxs(A.div,{className:"relative z-10",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:n*.1},children:[a.jsx("div",{className:"hidden lg:block absolute left-1/2 top-6 transform -translate-x-1/2 z-10",children:a.jsx("div",{className:`w-8 h-8 rounded-full border-4 ${s?"bg-blue-600 border-blue-300":"bg-gray-800 border-gray-700"} flex items-center justify-center`,children:s&&a.jsx(A.div,{className:"w-3 h-3 bg-blue-300 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})})}),a.jsx("div",{className:`bg-gray-800/50 backdrop-blur-sm hover:bg-gray-800/80 border ${s?"border-blue-500/50":"border-gray-700/50"} rounded-lg p-6 transition-all duration-300 
        ${s?"shadow-lg shadow-blue-500/10":""}
        lg:w-[calc(100%-24px)] mx-auto`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`p-3 ${s?"bg-blue-900/40":"bg-gray-900/40"} rounded-lg inline-block mr-4 flex-shrink-0`,children:e}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:t}),a.jsx("p",{className:"text-gray-300 text-sm",children:r})]})]})})]}),q3=()=>{const e=[{icon:a.jsx(ko,{className:"h-8 w-8 text-blue-400"}),title:"1. Create Your Profile",description:"Set up your profile with your career details, investment portfolio, and personal interests to tailor your experience."},{icon:a.jsx(bo,{className:"h-8 w-8 text-green-400"}),title:"2. AI News Gathering",description:"Our AI continuously monitors thousands of news sources to collect relevant information in real-time."},{icon:a.jsx(Ri,{className:"h-8 w-8 text-yellow-400"}),title:"3. Personalized Analysis",description:"Advanced algorithms analyze how each story impacts your specific circumstances and priorities."},{icon:a.jsx(Wd,{className:"h-8 w-8 text-purple-400"}),title:"4. Impact Scoring",description:"Each news item receives an impact score from 1-100 based on its relevance and potential effect on you."},{icon:a.jsx(al,{className:"h-8 w-8 text-cyan-400"}),title:"5. Actionable Insights",description:"Receive tailored recommendations to help you respond to news in ways that benefit your financial and career goals."}];return a.jsxs("section",{id:"how-it-works",className:"py-24",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx(A.h2,{className:"text-3xl font-bold text-white mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:"How Sentro Works"}),a.jsx(A.p,{className:"text-gray-300 text-xl max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:"Our innovative platform uses AI and blockchain technologies to transform how you consume news. Here's the step-by-step process behind our impact scoring system."})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 transform -translate-x-1/2 w-0.5 bg-blue-900/30 hidden lg:block"}),a.jsx("div",{className:"relative grid grid-cols-1 lg:grid-cols-5 gap-6",children:e.map((t,r)=>a.jsx(W3,{icon:t.icon,title:t.title,description:t.description,index:r,isActive:r===2},r))})]}),a.jsx("div",{className:"text-center mt-16",children:a.jsx(A.a,{href:"#get-started",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},whileHover:{scale:1.05},whileTap:{scale:.98},children:"Experience Sentro Today"})})]})},K3=({quote:e,author:t,title:r,avatar:n,index:s,isHighlighted:i=!1})=>a.jsxs(A.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*s},className:`
        rounded-xl overflow-hidden backdrop-blur-sm shadow-lg relative
        ${i?"bg-blue-900/30 border border-blue-500/50":"bg-gray-800/50 border border-gray-700/50"}
      `,children:[a.jsx("div",{className:"absolute top-6 right-6 text-5xl leading-none text-blue-500/20 font-serif",children:"“"}),a.jsxs("div",{className:"p-6 relative",children:[a.jsx("div",{className:"flex mb-4",children:Array(5).fill(0).map((o,l)=>a.jsx(qd,{className:"h-4 w-4 mr-1 text-yellow-400 fill-yellow-400"},l))}),a.jsxs("p",{className:"text-gray-300 mb-6 relative z-10",children:["“",e,"”"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:n,alt:t,className:"h-12 w-12 rounded-full mr-4 object-cover border-2 border-blue-500/30"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:t}),a.jsx("p",{className:"text-sm text-gray-400",children:r})]})]})]})]}),G3=()=>{const e=[{quote:"Sentro has completely transformed how I consume financial news. The impact scores help me immediately understand which stories deserve my attention, saving me hours each day.",author:"Sarah Johnson",title:"Investment Analyst, Goldman Sachs",avatar:"https://randomuser.me/api/portraits/women/32.jpg"},{quote:"As a blockchain entrepreneur, staying on top of market changes is critical. Sentro's predictive insights have helped me make strategic decisions ahead of market movements multiple times.",author:"Michael Chen",title:"Founder, BlockChain Ventures",avatar:"https://randomuser.me/api/portraits/men/45.jpg"},{quote:"The personalized impact scoring is unlike anything I've seen before. It's like having a financial advisor and news curator in one elegant platform. Worth every penny.",author:"Priya Patel",title:"Tech Investment Director",avatar:"https://randomuser.me/api/portraits/women/63.jpg"}];return a.jsxs("section",{className:"py-20",id:"testimonials",children:[a.jsx(A.h2,{className:"text-3xl font-bold text-center mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:"What Our Users Are Saying"}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx(A.p,{className:"text-center text-gray-300 mb-12 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:"Professionals and investors around the world trust Sentro to navigate the complex landscape of news and market insights."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((t,r)=>a.jsx(K3,{quote:t.quote,author:t.author,title:t.title,avatar:t.avatar,index:r,isHighlighted:r===1},r))})]}),a.jsx(A.div,{className:"mt-16 text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.5},children:a.jsxs("div",{className:"inline-block px-6 py-3 rounded-2xl bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-500/30",children:[a.jsx("div",{className:"text-blue-300",children:"Join over 2,000+ professionals getting personalized news insights daily"}),a.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"From Wall Street analysts to blockchain developers, our users save an average of 2 hours daily while making better informed decisions."})]})})]})},Y3=()=>a.jsxs("section",{id:"get-started",className:"py-20 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/40 to-purple-900/40 opacity-50 rounded-2xl"}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx(A.h2,{className:"text-3xl font-bold mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:"Join over 2,000+ professionals getting personalized news insights daily"}),a.jsx(A.p,{className:"text-xl text-gray-300 mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:"From Wall Street analysts to blockchain developers, our users save an average of 2 hours daily while making better informed decisions."}),a.jsx(A.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:a.jsxs(Ne,{to:"/login?signup=true",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-lg transition-colors",children:["Start Your Free Trial",a.jsx(Ti,{className:"ml-2 h-5 w-5"})]})})]})})]}),Q3=()=>a.jsxs(F3,{children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-transparent opacity-30 pointer-events-none"}),a.jsx(U3,{})]}),a.jsx("div",{className:"mb-24",children:a.jsx(z3,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-32",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Your Personal Impact Score"}),a.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Sentro's proprietary Impact Score quantifies how each news story affects your specific circumstances. Say goodbye to information overload and focus on what truly matters to you."})]}),a.jsx(H3,{})]}),a.jsx("div",{className:"mb-24",children:a.jsx(q3,{})}),a.jsx("div",{className:"mb-24",children:a.jsx(G3,{})}),a.jsx("div",{className:"mb-24",children:a.jsx(Y3,{})})]});function yl(){const{user:e}=we(),[t,r]=x.useState([]),[n,s]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(new Set),u=x.useCallback(async p=>{if(!e){r([]);return}s(!0),o(null);try{const v=await Gt.getUserHistory(e.id,p);r(v);const w=new Set;v.forEach(j=>{j.article_id&&w.add(j.article_id)}),c(w)}catch(v){console.error("Error fetching view history:",v),o("Failed to load view history")}finally{s(!1)}},[e]),d=x.useCallback(async p=>{if(!e)return null;if(l.has(p))return console.log("Article already in recently viewed, skipping duplicate record"),null;try{const v=await Gt.recordView(e.id,p);return v&&c(w=>new Set(w).add(p)),v}catch(v){return console.error("Error recording view:",v),null}},[e,l]),h=x.useCallback(async()=>{if(!e)return!1;s(!0),o(null);try{const p=await Gt.clearHistory(e.id);return p&&(r([]),c(new Set)),p}catch(p){return console.error("Error clearing history:",p),o("Failed to clear history"),!1}finally{s(!1)}},[e]),f=x.useCallback(async p=>{if(!e)return!1;if(l.has(p))return!0;try{return await Gt.hasViewedArticle(e.id,p)}catch(v){return console.error("Error checking if article was viewed:",v),!1}},[e,l]);return x.useEffect(()=>{e?u():(r([]),c(new Set))},[e,u]),{history:t,loading:n,error:i,recordView:d,fetchHistory:u,clearHistory:h,hasViewed:f}}const Fv=({isOpen:e,onClose:t,title:r,children:n,size:s="md"})=>{const i=x.useRef(null);x.useEffect(()=>{const l=u=>{i.current&&!i.current.contains(u.target)&&t()},c=u=>{u.key==="Escape"&&t()};return e&&(document.addEventListener("mousedown",l),document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",c),document.body.style.overflow="auto"}},[e,t]);const o={sm:"max-w-md",md:"max-w-xl",lg:"max-w-3xl",xl:"max-w-5xl"};return a.jsx(kr,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(A.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:t}),a.jsxs(A.div,{ref:i,className:`relative ${o[s]} w-full bg-gray-800/95 rounded-xl shadow-2xl overflow-hidden border border-gray-700/70 max-h-[90vh] flex flex-col`,initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.3},children:[r&&a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-900/50 sticky top-0 z-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:r}),a.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-700/70 transition-colors text-gray-400 hover:text-white",children:a.jsx(pn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:`flex-1 overflow-y-auto ${r?"":"pt-4"} custom-scrollbar`,children:n})]})]})})};function X3(e){const{user:t}=we(),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState(null);x.useEffect(()=>{if(!t||!e)return;(async()=>{i(!0);try{const h=await Kt.isBookmarked(t.id,e);n(h),l(null)}catch(h){console.error("Error checking bookmark status:",h),l("Failed to check bookmark status")}finally{i(!1)}})()},[t,e]);const c=x.useCallback(async(d,h)=>{if(!t)return!1;i(!0),l(null);try{if(r){const f=await Kt.removeBookmark(t.id,d.id);return n(!1),f}else{const f=await Kt.addBookmark(t.id,d.id,h);return n(!0),!!f}}catch(f){return console.error("Error toggling bookmark:",f),l("Failed to update bookmark"),!1}finally{i(!1)}},[t,r]),u=x.useCallback(async d=>{if(!t)return!1;try{return await Kt.isBookmarked(t.id,d)}catch(h){return console.error("Error checking article bookmark:",h),!1}},[t]);return{isBookmarked:r,loading:s,error:o,toggleBookmark:c,checkArticleBookmark:u}}const xl=({article:e,className:t="",iconSize:r=18,asIcon:n=!0,showText:s=!1})=>{const{user:i}=we(),{isBookmarked:o,toggleBookmark:l,loading:c}=X3(e.id),[u,d]=x.useState(!1),h=async p=>{if(p.stopPropagation(),p.preventDefault(),!i){alert("Please sign in to bookmark articles");return}await l(e)&&(d(!0),setTimeout(()=>d(!1),500))},f=a.jsxs(a.Fragment,{children:[c?a.jsx(Ky,{className:"h-5 w-5 animate-spin"}):o?a.jsx(A.div,{animate:u?{scale:[1,1.3,1]}:{},transition:{duration:.3},children:a.jsx(Ai,{size:r,className:"text-blue-400"})}):a.jsx(By,{size:r}),s&&a.jsx("span",{className:"ml-2",children:o?"Bookmarked":"Bookmark"})]});return n?a.jsx("button",{onClick:h,className:`p-2 rounded-full focus:outline-none hover:bg-gray-700/50 transition-colors ${t}`,"aria-label":o?"Remove bookmark":"Add bookmark",children:f}):a.jsx("button",{onClick:h,className:`flex items-center px-3 py-1.5 rounded-md focus:outline-none hover:bg-gray-700/50 transition-colors ${t}`,"aria-label":o?"Remove bookmark":"Add bookmark",children:f})},vl=({article:e,isOpen:t,onClose:r})=>{const n=wt(),{user:s}=we(),{recordView:i}=yl(),[o,l]=x.useState([]),[c,u]=x.useState(0),[d,h]=x.useState(!1),[f,p]=x.useState(null),[v,w]=x.useState(!1);x.useEffect(()=>{(async()=>{t&&e&&s&&!v&&(await i(e.id),w(!0))})(),t||w(!1)},[t,e,s,i,v]),x.useEffect(()=>{t&&e&&(async()=>{if(!(!e||!s)){h(!0);try{let E=f;if(E||(E=await cs(s.id),E&&p(E)),E){const N=Cv(e,E);u(N),l(m(e,E))}}catch(E){console.error("Error calculating relevance:",E)}finally{h(!1)}}})()},[e,s,t,f]);const j=()=>{e&&(r(),n(`/dashboard/article/${e.id}`))},m=(k,E)=>{const N=[];if(E.keywords&&E.keywords.length>0){const Y=E.keywords.filter(Q=>k.title.toLowerCase().includes(Q.toLowerCase())||k.content.toLowerCase().includes(Q.toLowerCase()));Y.length>0&&N.push({label:"Keyword Matches",score:Y.length*10,description:`Matches ${Y.length} of your keywords`})}if(E.categories&&E.categories.includes(k.category)&&N.push({label:"Category Match",score:20,description:`Matches your preferred category: ${k.category}`}),E.sources&&E.sources.includes(k.source)&&N.push({label:"Source Match",score:15,description:`From your preferred source: ${k.source}`}),k.tags&&k.tags.length>0&&E.keywords&&E.keywords.length>0){const Y=k.tags.filter(Q=>{var X;return(X=E.keywords)==null?void 0:X.some(D=>Q.toLowerCase().includes(D.toLowerCase())||D.toLowerCase().includes(Q.toLowerCase()))});Y.length>0&&N.push({label:"Tag Matches",score:Y.length*5,description:"Article tags match your interests"})}const _=new Date(k.published_at),T=(new Date().getTime()-_.getTime())/(1e3*60*60);let M=0,V="";return T<6?(M=20,V="Published within the last 6 hours"):T<24?(M=10,V="Published within the last 24 hours"):T<48&&(M=5,V="Published within the last 48 hours"),M>0&&N.push({label:"Freshness",score:M,description:V}),N.push({label:"Base Score",score:10,description:"Default relevance value"}),N};if(!e)return null;const y=Je(new Date(e.published_at),"MMMM dd, yyyy"),g=C(e.content),b=Math.min(Math.max(c/100*100,10),100),S=k=>k>=80?"text-green-400":k>=60?"text-green-300":k>=40?"text-blue-400":k>=20?"text-blue-300":"text-gray-400";function C(k){const E=k.split(/[.!?]+/).filter(_=>_.trim().length>0),N=Math.min(E.length,2);return E.slice(0,N).join(". ")+"."}return a.jsx(Fv,{isOpen:t,onClose:r,size:"lg",children:a.jsxs("div",{className:"p-6",children:[e.image_url&&a.jsx("div",{className:"h-48 mb-4 overflow-hidden rounded-lg",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-400 mb-4",children:[a.jsx("span",{className:"px-3 py-1 bg-blue-900/60 text-blue-200 rounded-full",children:e.category}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),y]}),a.jsxs("span",{children:["Source: ",e.source]})]}),a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Summary"}),a.jsx("p",{className:"text-gray-300",children:g})]}),s&&a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6",children:[a.jsxs("h3",{className:"flex items-center text-lg font-semibold text-white mb-3",children:[a.jsx(Bd,{className:"h-5 w-5 mr-2 text-blue-400"}),"Relevance for You"]}),d?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-lg mb-2",children:[a.jsx("span",{className:"text-gray-400",children:"Match Score"}),a.jsxs("span",{className:`${S(c)} font-bold text-xl`,children:[c,"%"]})]}),a.jsx("div",{className:"h-2.5 bg-gray-700 rounded-full overflow-hidden mb-2",children:a.jsx(A.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",initial:{width:0},animate:{width:`${b}%`},transition:{duration:.5}})}),c>=70&&a.jsxs("div",{className:"flex items-center gap-2 text-yellow-300 text-sm mt-1",children:[a.jsx(Or,{className:"h-4 w-4"}),a.jsx("span",{children:"This article is a top match for your preferences"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-md font-medium text-gray-300 mb-2",children:"Match Breakdown"}),o.map((k,E)=>a.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-700/50 last:border-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(qd,{className:`h-4 w-4 mr-2 ${k.score>10?"text-yellow-400":"text-gray-500"}`}),a.jsx("span",{className:"text-gray-300",children:k.label})]}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"text-sm font-semibold text-white",children:["+",k.score]}),a.jsx("span",{className:"text-xs text-gray-500",children:k.description})]})]},E))]})]})]}),e.tags&&e.tags.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-400 mb-2",children:[a.jsx(Xy,{className:"h-4 w-4 mr-1"}),"Tags"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(k=>a.jsx("span",{className:"px-3 py-1 bg-gray-700/60 text-gray-300 rounded-full text-sm",children:k},k))})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-6 pt-4 border-t border-gray-700 gap-2",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:j,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Read Full Article",a.jsx(Lr,{className:"h-4 w-4 ml-2"})]}),a.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:["View Source",a.jsx(vn,{className:"h-4 w-4 ml-2"})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(xl,{article:e,asIcon:!1,showText:!0,className:"text-gray-300"})})]})]})})},$v=({article:e,index:t,showRelevanceScore:r=!0})=>{const{user:n}=we(),s=wt(),{recordView:i}=yl(),[o,l]=x.useState(!1),c=Je(new Date(e.published_at),"MMM dd, yyyy"),u=p=>{p.preventDefault(),n&&i(e.id),l(!0)},d=p=>{p.preventDefault(),s(`/dashboard/article/${e.id}`)},h=p=>p?p>=80?"text-green-400":p>=60?"text-green-300":p>=40?"text-blue-400":p>=20?"text-blue-300":"text-gray-400":"text-gray-400",f=p=>p?p>=80?"bg-green-900/60":p>=60?"bg-green-800/60":p>=40?"bg-blue-900/60":p>=20?"bg-blue-800/60":"bg-gray-800/60":"bg-gray-800/60";return a.jsxs(a.Fragment,{children:[a.jsxs(A.div,{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl overflow-hidden shadow-lg border border-gray-700/50 hover:border-blue-500/50 transition-all h-full flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.05},whileHover:{y:-5,transition:{duration:.2}},children:[a.jsxs("div",{className:"relative h-48 overflow-hidden cursor-pointer",onClick:u,children:[e.image_url?a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-transform hover:scale-105"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900/40 to-purple-900/40 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"SophIQ"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent",children:a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-900/60 backdrop-blur-sm rounded-full text-blue-200",children:e.category}),r&&e.relevance_score&&a.jsxs("span",{className:`px-2 py-1 ${f(e.relevance_score)} backdrop-blur-sm rounded-full flex items-center ${h(e.relevance_score)}`,children:[a.jsx(Bd,{className:"h-3 w-3 mr-1"}),e.relevance_score,"%"]})]})})}),r&&e.relevance_score&&e.relevance_score>=70&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-600/80 to-amber-600/80 rounded-lg text-xs text-white font-medium shadow-lg backdrop-blur-sm",children:[a.jsx(Or,{className:"h-3 w-3"}),a.jsx("span",{children:"Top Match"})]})})]}),a.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[a.jsxs("div",{className:"mb-4 cursor-pointer flex-grow",onClick:u,children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-white line-clamp-2 hover:text-blue-400 transition-colors",children:e.title}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-3",children:e.content})]}),a.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[a.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[a.jsx(Ie,{className:"h-3 w-3 mr-1"}),c]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(xl,{article:e}),a.jsx("button",{onClick:d,className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",children:a.jsx(vn,{className:"h-4 w-4 text-gray-400"})})]})]})]}),a.jsx("div",{className:"px-4 py-2 bg-gray-900/50 border-t border-gray-700/50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",e.source]}),r&&e.relevance_score&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(qd,{className:`h-3 w-3 mr-1 ${h(e.relevance_score)}`}),a.jsxs("span",{className:`text-xs ${h(e.relevance_score)}`,children:[e.relevance_score,"% relevance"]})]})]})})]}),a.jsx(vl,{article:e,isOpen:o,onClose:()=>l(!1)})]})},vt=({size:e="w-12 h-12",color:t="border-blue-500"})=>a.jsx("div",{className:"flex justify-center items-center",children:a.jsx(A.div,{className:`${e} border-4 border-t-transparent rounded-full ${t}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})});var Fu=new Map,_a=new WeakMap,Op=0,J3=void 0;function Z3(e){return e?(_a.has(e)||(Op+=1,_a.set(e,Op.toString())),_a.get(e)):"0"}function eP(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Z3(e.root):e[t]}`).toString()}function tP(e){const t=eP(e);let r=Fu.get(t);if(!r){const n=new Map;let s;const i=new IntersectionObserver(o=>{o.forEach(l=>{var c;const u=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=n.get(l.target))==null||c.forEach(d=>{d(u,l)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},Fu.set(t,r)}return r}function rP(e,t,r={},n=J3){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:o}=tP(r),l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),Fu.delete(s))}}function nP({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:s,triggerOnce:i,skip:o,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[h,f]=x.useState(null),p=x.useRef(u),[v,w]=x.useState({inView:!!l,entry:void 0});p.current=u,x.useEffect(()=>{if(o||!h)return;let g;return g=rP(h,(b,S)=>{w({inView:b,entry:S}),p.current&&p.current(b,S),S.isIntersecting&&i&&g&&(g(),g=void 0)},{root:s,rootMargin:n,threshold:e,trackVisibility:r,delay:t},c),()=>{g&&g()}},[Array.isArray(e)?e.toString():e,h,s,n,i,o,r,c,t]);const j=(d=v.entry)==null?void 0:d.target,m=x.useRef(void 0);!h&&j&&!i&&!o&&m.current!==j&&(m.current=j,w({inView:!!l,entry:void 0}));const y=[f,v.inView,v.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const wl=({articles:e,loading:t,title:r,loadMore:n,hasMore:s=!1,categories:i=[],onFilterChange:o,totalCount:l,onArticleRemoved:c})=>{var y;const{ref:u,inView:d}=nP({threshold:0,triggerOnce:!1}),[h,f]=x.useState(!1),[p,v]=x.useState({category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"});Zp.useEffect(()=>{d&&s&&n&&!t&&n()},[d,s,n,t]);const w=x.useCallback(g=>{const b={...p,...g};v(b),o&&o(b)},[p,o]),j=x.useCallback(()=>{f(!h)},[h]);if(t&&e.length===0)return a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(vt,{}),a.jsx("p",{className:"mt-4 text-gray-400",children:"Loading articles..."})]});const m=i.reduce((g,b)=>(b.id.includes("ai")||b.id.includes("machine_learning")||b.id.includes("llm")||b.id.includes("generative_ai")||b.id.includes("artificial_intelligence")?(g.ai||(g.ai={id:"ai",name:"AI & Machine Learning",subcategories:[]}),g.ai.subcategories.push(b)):(g.main||(g.main=[]),g.main.push(b)),g),{});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r&&a.jsxs(A.h2,{className:"text-2xl font-bold text-white flex items-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[r,l!==void 0&&a.jsxs("span",{className:"ml-3 text-base font-normal text-gray-400",children:["(",l," ",l===1?"article":"articles",")"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:j,className:`px-3 py-2 rounded-lg flex items-center text-sm ${h?"bg-blue-700/40 text-blue-300":"bg-gray-800 text-gray-300"} hover:bg-gray-700 transition-colors`,children:[a.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Filters"]}),o&&a.jsx("button",{onClick:()=>{const g={category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"};v(g),o(g)},className:"p-2 rounded-lg bg-gray-800 text-gray-300 hover:bg-gray-700",title:"Reset filters",children:a.jsx(Z,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex border border-gray-700 rounded-lg overflow-hidden",children:[a.jsx("button",{onClick:()=>w({layout:"grid"}),className:`p-2 ${p.layout==="grid"?"bg-gray-700 text-white":"bg-gray-800 text-gray-400"}`,title:"Grid view",children:a.jsx(aN,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>w({layout:"compact"}),className:`p-2 ${p.layout==="compact"?"bg-gray-700 text-white":"bg-gray-800 text-gray-400"}`,title:"Compact view",children:a.jsx(qi,{className:"h-4 w-4"})})]})]})]}),h&&a.jsx(A.div,{className:"bg-gray-800/70 backdrop-blur-sm p-4 rounded-lg border border-gray-700/50",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>w({category:void 0}),className:`px-3 py-1 text-sm rounded-full ${p.category?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white"}`,children:"All"}),(y=m.main)==null?void 0:y.map(g=>a.jsx("button",{onClick:()=>w({category:g.id}),className:`px-3 py-1 text-sm rounded-full ${p.category===g.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:g.name},g.id)),m.ai&&a.jsxs("div",{className:"flex flex-col gap-2 w-full mt-2",children:[a.jsx("div",{className:"text-sm font-medium text-blue-400 border-b border-gray-700 pb-1",children:m.ai.name}),a.jsx("div",{className:"flex flex-wrap gap-2 pl-2",children:m.ai.subcategories.map(g=>a.jsx("button",{onClick:()=>w({category:g.id}),className:`px-3 py-1 text-sm rounded-full ${p.category===g.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:g.name},g.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Sort By"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>w({sortBy:"relevance"}),className:`px-3 py-1 text-sm rounded-full flex items-center ${p.sortBy==="relevance"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(eN,{className:"h-3 w-3 mr-1"}),"Relevance"]}),a.jsxs("button",{onClick:()=>w({sortBy:"date"}),className:`px-3 py-1 text-sm rounded-full flex items-center ${p.sortBy==="date"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(ZS,{className:"h-3 w-3 mr-1"}),"Newest"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Time Frame"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>w({timeFrame:"day"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="day"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Today"}),a.jsx("button",{onClick:()=>w({timeFrame:"week"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="week"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Week"}),a.jsx("button",{onClick:()=>w({timeFrame:"month"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="month"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Month"}),a.jsx("button",{onClick:()=>w({timeFrame:"all"}),className:`px-3 py-1 text-sm rounded-full ${p.timeFrame==="all"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All Time"})]})]})]})}),a.jsx("div",{className:`grid gap-6 ${p.layout==="compact"?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:e.map((g,b)=>a.jsx($v,{article:g,index:b,showRelevanceScore:p.sortBy==="relevance"},g.id))}),e.length===0&&!t&&a.jsx("div",{className:"text-center py-12 bg-gray-800/30 rounded-lg",children:a.jsx("p",{className:"text-gray-400",children:"No articles found matching your criteria"})}),t&&e.length>0&&a.jsx("div",{className:"flex justify-center my-8",children:a.jsx(vt,{size:"w-8 h-8"})}),s&&a.jsx("div",{ref:u,className:"h-10"})]})},sP=({article:e})=>{const t=wt(),r=()=>{t(`/dashboard/article/${e.id}`)},n=e.relevance_score||0,s=e4(n);return a.jsx(A.div,{className:"rounded-xl overflow-hidden bg-gradient-to-r from-blue-900/40 to-purple-900/40 mb-8 border border-blue-500/30",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.01},children:a.jsxs("div",{className:"flex flex-col md:flex-row cursor-pointer",onClick:r,children:[e.image_url?a.jsx("div",{className:"w-full md:w-1/3 h-48 md:h-auto",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}):a.jsx("div",{className:"w-full md:w-1/3 bg-blue-900/20 flex items-center justify-center py-12",children:a.jsx(Yy,{className:"h-16 w-16 text-blue-500/40"})}),a.jsxs("div",{className:"w-full md:w-2/3 p-6 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-900/60 rounded-lg text-sm text-blue-200",children:[a.jsx(Bd,{className:"h-4 w-4"}),a.jsx("span",{children:"Top Recommendation"})]}),a.jsxs("div",{className:`px-2.5 py-1.5 rounded-lg text-sm font-medium ${s}`,children:[n,"% Match"]})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors",children:e.title}),a.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2",children:e.content})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:[e.category," • ",e.source]}),a.jsxs("button",{className:"flex items-center text-blue-400 hover:text-blue-300 transition-colors",onClick:i=>{i.stopPropagation(),r()},children:["Read More",a.jsx(Ti,{className:"h-4 w-4 ml-1"})]})]})]})]})})};async function cn(e){try{const{limit:t=9,category:r,tags:n,search:s,sortBy:i="published_at",fromDate:o,toDate:l,page:c=1,excludeUserPreferences:u,useCache:d=!0}=e,h=Vd({type:"articles",limit:t,category:r,tags:n,search:s,sortBy:i,fromDate:o,toDate:l,page:c,excludeUserPreferences:u});if(d){const g=Ke.get(h);if(g)return console.log("Using cached article data"),g}const f=(c-1)*t,p=L.from("articles").select("*",{count:"exact",head:!0});if(r&&p.eq("category",r),n&&n.length>0&&p.contains("tags",n),s&&p.or(`title.ilike.%${s}%,content.ilike.%${s}%`),o&&p.gte("published_at",o),l&&p.lte("published_at",l),u){const g=await cs(u);g!=null&&g.categories&&g.categories.length>0&&p.not("category","in",`(${g.categories.join(",")})`)}const{count:v}=await p;let w=L.from("articles").select("*").range(f,f+t-1);if(r&&(w=w.eq("category",r)),n&&n.length>0&&(w=w.contains("tags",n)),s&&(w=w.or(`title.ilike.%${s}%,content.ilike.%${s}%`)),o&&(w=w.gte("published_at",o)),l&&(w=w.lte("published_at",l)),u){const g=await cs(u);g!=null&&g.categories&&g.categories.length>0&&w.not("category","in",`(${g.categories.join(",")})`)}if(i==="random")w=w.order("id",{ascending:!1});else{const g="desc",b=i==="relevance_score"?"relevance_score":"published_at";w=w.order(b,{ascending:g==="asc"})}const{data:j,error:m}=await w;if(m)throw m;const y={articles:j||[],totalCount:v||0};return d&&Ke.set(h,y),y}catch(t){return console.error("Error fetching articles:",t),{articles:[],totalCount:0}}}async function iP(e,t={}){try{const{limit:r=9,category:n,fromDate:s,page:i=1,useCache:o=!0}=t,l=Vd({type:"rankedArticles",userId:e,limit:r,category:n,fromDate:s,page:i});if(o){const w=Ke.get(l);if(w)return console.log("Using cached ranked article data"),w}const c=await cs(e);if(!c)return cn({limit:r,category:n,fromDate:s,page:i,sortBy:"published_at",useCache:o});const u=await cn({limit:100,category:n,fromDate:s,page:1,sortBy:"published_at",useCache:o});if(!u||!u.articles||u.articles.length===0)return{articles:[],totalCount:0};const d=u.articles,h=Ev(d,c),f=(i-1)*r,v={articles:h.slice(f,Math.min(f+r,h.length)),totalCount:h.length};return o&&Ke.set(l,v),v}catch(r){return console.error("Error in rankArticlesForUser:",r),{articles:[],totalCount:0}}}async function aP(e,t=!0){try{const r=`article-${e}`;if(t){const i=Ke.get(r);if(i)return i}const{data:n,error:s}=await L.from("articles").select("*").eq("id",e).single();if(s)throw s;return t&&n&&Ke.set(r,n),n}catch(r){return console.error("Error fetching article by ID:",r),null}}async function oP(e,t=3,r=!0){try{const n=`related-${e.id}-${t}`;if(r){const l=Ke.get(n);if(l)return l}let s=L.from("articles").select("*").eq("category",e.category).neq("id",e.id);if(e.tags&&e.tags.length>0){const{data:l}=await s.contains("tags",e.tags).limit(t);if(l&&l.length>=t)return r&&Ke.set(n,l),l;const c=t-((l==null?void 0:l.length)||0);if(c>0){const{data:u}=await L.from("articles").select("*").eq("category",e.category).neq("id",e.id).not("id","in",`(${(l||[]).map(h=>h.id).join(",")})`).limit(c),d=[...l||[],...u||[]];return r&&Ke.set(n,d),d}return r&&l&&Ke.set(n,l),l||[]}const{data:i,error:o}=await s.limit(t);if(o)throw o;return r&&i&&Ke.set(n,i),i||[]}catch(n){return console.error("Error fetching related articles:",n),[]}}function bl(){return[{id:"business",name:"Business"},{id:"technology",name:"Technology"},{id:"science",name:"Science"},{id:"health",name:"Health"},{id:"stocks",name:"Stock Market"},{id:"web3",name:"Web3"},{id:"artificial_intelligence",name:"Artificial Intelligence"},{id:"machine_learning",name:"Machine Learning"},{id:"llm",name:"LLMs"},{id:"generative_ai",name:"Generative AI"},{id:"ai_ethics",name:"AI Ethics"},{id:"ai_research",name:"AI Research"},{id:"general",name:"General"}]}const lP=({className:e,newsItems:t})=>{const[r,n]=x.useState(0),[s,i]=x.useState(!0);if(x.useEffect(()=>{if(t.length<=1)return;const l=setInterval(()=>{i(!1),setTimeout(()=>{n(c=>(c+1)%t.length),i(!0)},500)},1e4);return()=>clearInterval(l)},[t]),!t||t.length===0)return null;const o=t[r];return a.jsx("div",{className:`relative ${e}`,children:a.jsx(kr,{mode:"wait",children:s&&a.jsx(A.div,{className:"bg-blue-900/20 backdrop-blur-sm border border-blue-900/40 rounded-lg p-4 shadow-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("div",{className:"p-2 bg-blue-900/40 rounded-full",children:a.jsx(Or,{className:"w-5 h-5 text-blue-300"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsxs("div",{className:"text-xs text-blue-300 flex items-center",children:[a.jsx("span",{className:"font-medium uppercase",children:"Breaking Impact News"}),o.category&&a.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-900/50 rounded-full text-xs",children:o.category})]}),o.pubDate&&a.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[a.jsx(Ie,{className:"h-3 w-3 mr-1"}),Je(new Date(o.pubDate),"MMM dd, HH:mm")]})]}),a.jsx("h3",{className:"text-white font-medium mb-2",children:o.title}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-xs text-gray-400",children:t.length>1&&a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:t.length}).map((l,c)=>a.jsx("div",{className:`h-1.5 rounded-full ${c===r?"w-4 bg-blue-400":"w-1.5 bg-gray-600"}`},c))})}),a.jsxs("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["Read More",a.jsx(vn,{className:"h-3.5 w-3.5 ml-1"})]})]})]})]})},r)})})},ur=9,cP=[{title:"Major climate initiative launches with backing from global investors",link:"https://www.reuters.com/sustainability/",pubDate:new Date().toISOString(),category:"Sustainability"},{title:"New social impact fund raises $100M to address housing inequality",link:"https://www.reuters.com/business/sustainable-business/",pubDate:new Date().toISOString(),category:"Social Impact"},{title:"Tech companies form coalition to advance climate change solutions",link:"https://www.reuters.com/technology/",pubDate:new Date().toISOString(),category:"Technology"}],uP=()=>{const{user:e,profile:t,isAdmin:r}=we(),[n,s]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[h,f]=x.useState(null),[p,v]=x.useState({category:void 0,sortBy:"relevance",layout:"grid",timeFrame:"all"}),[w,j]=x.useState({personalized:!0,trending:!0,recent:!0,discover:!0}),[m,y]=x.useState(1),[g,b]=x.useState(!0),[S,C]=x.useState(0),[k,E]=x.useState(e?"for-you":"trending"),[N,_]=x.useState(null),P=x.useRef(!1),T=bl(),M=x.useCallback(Ci(K=>{v(K),y(1),b(!0)},300),[]),V=x.useCallback(async()=>{if(!P.current){P.current=!0,_(null);try{const ce=(()=>{if(p.timeFrame==="all")return;const W=new Date;if(p.timeFrame==="day"){const z=new Date(W);return z.setDate(W.getDate()-1),z.toISOString()}else if(p.timeFrame==="week"){const z=new Date(W);return z.setDate(W.getDate()-7),z.toISOString()}else if(p.timeFrame==="month"){const z=new Date(W);return z.setMonth(W.getMonth()-1),z.toISOString()}})();if(k==="trending"){j(z=>({...z,trending:!0}));const W=await cn({limit:ur,sortBy:"relevance_score",category:p.category,fromDate:ce,page:m});W.articles.length<ur?b(!1):b(!0),o(m===1?W.articles:z=>[...z,...W.articles]),C(W.totalCount),j(z=>({...z,trending:!1}))}else if(k==="recent"){j(z=>({...z,recent:!0}));const W=await cn({limit:ur,sortBy:"published_at",category:p.category,fromDate:ce,page:m});W.articles.length<ur?b(!1):b(!0),c(m===1?W.articles:z=>[...z,...W.articles]),C(W.totalCount),j(z=>({...z,recent:!1}))}else if(k==="discover"){j(z=>({...z,discover:!0}));const W=await cn({limit:ur,sortBy:"random",category:p.category,fromDate:ce,excludeUserPreferences:e==null?void 0:e.id,page:m});W.articles.length<ur?b(!1):b(!0),d(m===1?W.articles:z=>[...z,...W.articles]),C(W.totalCount),j(z=>({...z,discover:!1}))}else if(e&&k==="for-you"){j(W=>({...W,personalized:!0}));try{const W=new Date;W.setMonth(W.getMonth()-1);const{articles:z,totalCount:js}=await iP(e.id,{limit:ur,category:p.category,fromDate:p.timeFrame==="all"?W.toISOString():ce,page:m});if(z.length<ur?b(!1):b(!0),m===1){if(s(z),z.length>0){const Ze=[...z].sort((or,Ah)=>(Ah.relevance_score||0)-(or.relevance_score||0))[0];Ze&&(Ze.relevance_score||0)>=70?f(Ze):f(null)}}else s(Ze=>{const or=[...Ze,...z];return Array.from(new Map(or.map(Rh=>[Rh.id,Rh])).values())});C(js)}catch(W){console.error("Error fetching personalized articles:",W),_("Could not load personalized articles. Please try again.")}finally{j(W=>({...W,personalized:!1}))}}}catch(K){console.error("Error fetching articles:",K),_("Failed to load articles. Please try refreshing the page."),j({personalized:!1,trending:!1,recent:!1,discover:!1})}finally{P.current=!1}}},[k,p,m,e]);x.useEffect(()=>{V()},[V]),x.useEffect(()=>{y(1),k!=="for-you"&&f(null)},[k]);const Y=()=>{!w[k]&&!P.current&&y(K=>K+1)},Q=K=>{M(K)},X=()=>{switch(k){case"for-you":return w.personalized;case"trending":return w.trending;case"recent":return w.recent;case"discover":return w.discover;default:return!1}},D=()=>{switch(k){case"for-you":return n.filter(K=>!h||K.id!==h.id);case"trending":return i;case"recent":return l;case"discover":return u;default:return[]}},F=K=>`px-4 py-2 rounded-lg flex items-center text-sm transition-colors ${k===K?"bg-blue-600 text-white font-medium":"text-gray-400 hover:text-gray-200 hover:bg-gray-800/70"}`,U=()=>{_(null),V()};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs(A.div,{className:"relative overflow-hidden rounded-2xl h-64 bg-gradient-to-r from-blue-900 to-purple-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"absolute inset-0 bg-grid-white/5 bg-[size:20px_20px]"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/90 to-transparent"}),a.jsxs("div",{className:"relative h-full flex flex-col justify-end p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:e?`Welcome back, ${(t==null?void 0:t.username)||"User"}`:"Discover impact news with Sentro"}),a.jsx("p",{className:"text-gray-300 max-w-2xl",children:"Stay informed with the most relevant impact news tailored to your interests, curated by our advanced AI ranking system."})]})]}),a.jsx(lP,{newsItems:cP,className:"mb-6"}),N&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300 flex items-center justify-between",children:[a.jsx("div",{children:N}),a.jsx("button",{onClick:U,className:"px-3 py-1 bg-red-800/40 hover:bg-red-800/60 rounded-md text-red-200 transition-colors",children:"Try Again"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e&&a.jsxs("button",{onClick:()=>E("for-you"),className:F("for-you"),children:[a.jsx(xN,{className:"h-4 w-4 mr-2"}),"For You"]}),a.jsxs("button",{onClick:()=>E("trending"),className:F("trending"),children:[a.jsx(Or,{className:"h-4 w-4 mr-2"}),"Trending"]}),a.jsxs("button",{onClick:()=>E("recent"),className:F("recent"),children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Recent"]}),a.jsxs("button",{onClick:()=>E("discover"),className:F("discover"),children:[a.jsx(Z,{className:"h-4 w-4 mr-2"}),"Discover"]})]}),k==="for-you"&&h&&h.relevance_score>=70&&a.jsx(sP,{article:h}),a.jsx(wl,{articles:D(),loading:X(),title:k==="for-you"?"Personalized For You":k==="trending"?"Trending Impact News":k==="recent"?"Recently Published":"Discover New Topics",loadMore:Y,hasMore:g,categories:T,onFilterChange:Q,totalCount:S})]})},dP=()=>{const e=ar(),[t,r]=x.useState(!e.search.includes("signup=true")),[n,s]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(""),{signIn:p,signUp:v,user:w}=we(),j=wt();x.useEffect(()=>{w&&j("/")},[w,j]),x.useEffect(()=>{r(!e.search.includes("signup=true"))},[e.search]);const m=async g=>{g.preventDefault(),f(""),d(!0);try{if(t){const{error:b}=await p(n,i);if(b)throw b;j("/")}else{if(!l.trim())throw new Error("Username is required");const{error:b}=await v(n,i,l);if(b)throw b;j("/onboarding")}}catch(b){f(b.message||"An error occurred")}finally{d(!1)}},y=()=>{r(!t),j(t?"/login?signup=true":"/login",{replace:!0})};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-black px-4",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-white/5 bg-[size:20px_20px]"}),a.jsxs(Ne,{to:"/",className:"absolute top-8 left-8 flex items-center text-gray-400 hover:text-white transition-colors",children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(A.div,{className:"max-w-md w-full bg-gray-800/70 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-gray-700/50 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:a.jsx(Wy,{className:"h-8 w-8 text-white"})})}),a.jsx("h1",{className:"text-2xl font-bold text-center text-white mb-2",children:t?"Sign in to SophIQ":"Create a SophIQ account"}),a.jsx("p",{className:"text-center text-gray-400 mb-6",children:t?"Your personalized AI-powered news aggregator":"Join SophIQ and get news tailored to your interests"}),a.jsxs("div",{className:"flex mb-8 bg-gray-900/70 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>r(!0),className:`flex-1 py-2 rounded-md transition-colors ${t?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-200"}`,children:"Sign In"}),a.jsx("button",{onClick:()=>r(!1),className:`flex-1 py-2 rounded-md transition-colors ${t?"text-gray-400 hover:text-gray-200":"bg-blue-600 text-white"}`,children:"Sign Up"})]}),h&&a.jsx("div",{className:"bg-red-900/40 border border-red-800 text-red-200 px-4 py-3 rounded-lg mb-6",children:h}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[!t&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-400 mb-1",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ko,{className:"h-5 w-5 text-gray-500"})}),a.jsx("input",{id:"username",type:"text",value:l,onChange:g=>c(g.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"johndoe",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(dN,{className:"h-5 w-5 text-gray-500"})}),a.jsx("input",{id:"email",type:"email",value:n,onChange:g=>s(g.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(cN,{className:"h-5 w-5 text-gray-500"})}),a.jsx("input",{id:"password",type:"password",value:i,onChange:g=>o(g.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 pl-10 w-full py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0,minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 flex items-center justify-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Ky,{className:"h-5 w-5 mr-2 animate-spin"}),t?"Signing in...":"Creating account..."]}):a.jsx(a.Fragment,{children:t?"Sign in":"Create account"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:y,className:"text-blue-400 hover:text-blue-300 focus:outline-none",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})},hP=()=>{const{user:e}=we(),t=wt(),[r,n]=x.useState(0),[s,i]=x.useState({keywords:[],categories:[],sources:[],excluded_keywords:[]}),[o,l]=x.useState(""),[c,u]=x.useState(""),d=[{id:"business",name:"Business"},{id:"crypto",name:"Cryptocurrency"},{id:"stocks",name:"Stock Market"},{id:"technology",name:"Technology"},{id:"web3",name:"Web3"},{id:"science",name:"Science"},{id:"health",name:"Health"}],h=[{id:"bloomberg",name:"Bloomberg"},{id:"cnn",name:"CNN"},{id:"bbc-news",name:"BBC News"},{id:"reuters",name:"Reuters"},{id:"techcrunch",name:"TechCrunch"},{id:"the-verge",name:"The Verge"},{id:"wired",name:"Wired"}],f=()=>{o&&!s.keywords.includes(o)&&(i({...s,keywords:[...s.keywords,o]}),l(""))},p=k=>{i({...s,keywords:s.keywords.filter(E=>E!==k)})},v=()=>{c&&!s.excluded_keywords.includes(c)&&(i({...s,excluded_keywords:[...s.excluded_keywords,c]}),u(""))},w=k=>{i({...s,excluded_keywords:s.excluded_keywords.filter(E=>E!==k)})},j=k=>{s.categories.includes(k)?i({...s,categories:s.categories.filter(E=>E!==k)}):i({...s,categories:[...s.categories,k]})},m=k=>{s.sources.includes(k)?i({...s,sources:s.sources.filter(E=>E!==k)}):i({...s,sources:[...s.sources,k]})},y=async()=>{if(e)try{const{error:k}=await L.from("user_preferences").upsert({user_id:e.id,keywords:s.keywords,categories:s.categories,sources:s.sources,excluded_keywords:s.excluded_keywords,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(k){console.error("Error saving preferences:",k);return}t("/dashboard")}catch(k){console.error("Error in handleComplete:",k)}},g=[{title:"Interests",description:"What topics are you most interested in?",component:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Add keywords to track"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),placeholder:"e.g., Bitcoin, AI, Investment",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:k=>k.key==="Enter"&&f()}),a.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),s.keywords.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Your keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map(k=>a.jsxs("div",{className:"bg-blue-900/40 px-3 py-1 rounded-full text-blue-200 text-sm flex items-center",children:[k,a.jsx("button",{onClick:()=>p(k),className:"ml-2 text-blue-300 hover:text-blue-100",children:"×"})]},k))})]})]})},{title:"Categories",description:"Choose categories you want to follow",component:a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:d.map(k=>a.jsxs("button",{onClick:()=>j(k.id),className:`p-3 rounded-lg border ${s.categories.includes(k.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:k.name}),s.categories.includes(k.id)&&a.jsx(Oe,{className:"h-4 w-4"})]},k.id))})})},{title:"Sources",description:"Select your preferred news sources",component:a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(k=>a.jsxs("button",{onClick:()=>m(k.id),className:`p-3 rounded-lg border ${s.sources.includes(k.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:k.name}),s.sources.includes(k.id)&&a.jsx(Oe,{className:"h-4 w-4"})]},k.id))})})},{title:"Exclusions",description:"What topics would you like to exclude?",component:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Add keywords to exclude"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"e.g., Politics, Sports",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:k=>k.key==="Enter"&&v()}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),s.excluded_keywords.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Your excluded keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.excluded_keywords.map(k=>a.jsxs("div",{className:"bg-red-900/40 px-3 py-1 rounded-full text-red-200 text-sm flex items-center",children:[k,a.jsx("button",{onClick:()=>w(k),className:"ml-2 text-red-300 hover:text-red-100",children:"×"})]},k))})]})]})}],b=()=>{r<g.length-1&&n(r+1)},S=()=>{r>0&&n(r-1)},C=(r+1)/g.length*100;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white",children:[a.jsx("div",{className:"w-full h-2 bg-gray-800",children:a.jsx(A.div,{className:"h-full bg-blue-600",initial:{width:"0%"},animate:{width:`${C}%`},transition:{duration:.5}})}),a.jsx("div",{className:"max-w-2xl mx-auto p-6 md:py-12",children:a.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:g[r].title}),a.jsx("p",{className:"text-gray-400",children:g[r].description})]}),a.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6 shadow-xl",children:g[r].component}),a.jsxs("div",{className:"flex justify-between pt-4",children:[a.jsxs("button",{onClick:S,disabled:r===0,className:`px-4 py-2 rounded-lg flex items-center ${r===0?"opacity-50 cursor-not-allowed bg-gray-800 text-gray-500":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(zy,{className:"h-5 w-5 mr-1"}),"Back"]}),r<g.length-1?a.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:["Next",a.jsx(Hy,{className:"h-5 w-5 ml-1"})]}):a.jsx("button",{onClick:y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Complete"})]})]},r)})]})},fP=()=>{const{id:e}=G1(),{user:t}=we(),{recordView:r}=yl(),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState([]),[u,d]=x.useState(null),[h,f]=x.useState(!1),[p,v]=x.useState(0),[w,j]=x.useState(null),[m,y]=x.useState(null),[g,b]=x.useState(!1);x.useEffect(()=>(n&&t&&!g&&((async()=>{const N=await r(n.id);N&&(y(N.id),b(!0)),j(new Date)})(),(async()=>{const N=await Gt.getArticleViewCount(n.id);v(N)})()),()=>{if(n&&w&&m&&t){const E=Math.round((new Date().getTime()-w.getTime())/1e3);E>=5&&Gt.updateViewDuration(m,E)}}),[n,t,r,g]),x.useEffect(()=>{async function k(){if(e)try{o(!0);const E=await aP(e);if(E){s(E);const N=await oP(E,3);c(N)}}catch(E){console.error("Error fetching article:",E)}finally{o(!1)}}k(),b(!1)},[e]);const S=k=>{d(k),f(!0)};if(i)return a.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)]",children:a.jsx(vt,{})});if(!n)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Article Not Found"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"The article you're looking for doesn't exist or has been removed."}),a.jsx(Ne,{to:"/dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Home"})]});const C=Je(new Date(n.published_at),"MMMM dd, yyyy");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[a.jsxs(Ne,{to:"/dashboard",className:"flex items-center text-gray-400 hover:text-blue-400 transition-colors mb-6",children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs(A.article,{className:"bg-gray-800/60 rounded-xl overflow-hidden shadow-xl border border-gray-700/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[n.image_url&&a.jsx("div",{className:"h-72 overflow-hidden",children:a.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-400 mb-4",children:[a.jsx("span",{className:"px-3 py-1 bg-blue-900/60 text-blue-200 rounded-full",children:n.category}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),C]}),a.jsxs("span",{children:["Source: ",n.source]}),p>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lr,{className:"h-4 w-4 mr-1 text-gray-500"}),a.jsxs("span",{className:"text-gray-500",children:[p," ",p===1?"view":"views"]})]})]}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:n.title}),a.jsx("div",{className:"prose prose-invert max-w-none mb-8",children:n.content.split(`
`).map((k,E)=>a.jsx("p",{className:"mb-4 text-gray-300 leading-relaxed",children:k},E))}),n.tags&&n.tags.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(k=>a.jsx("span",{className:"px-3 py-1 bg-gray-700/60 text-gray-300 rounded-full text-sm",children:k},k))})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between border-t border-gray-700 pt-6 gap-3",children:[a.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center",children:["Read Original Article",a.jsx(vn,{className:"h-4 w-4 ml-1"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700/50 transition-colors text-gray-400 hover:text-white",children:a.jsx(wN,{className:"h-5 w-5"})}),a.jsx(xl,{article:n}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700/50 transition-colors text-gray-400 hover:text-white",children:a.jsx(yN,{className:"h-5 w-5"})})]})]})]})]}),l.length>0&&a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Related Articles"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(k=>a.jsxs(A.div,{className:"bg-gray-800/60 rounded-lg overflow-hidden shadow-lg border border-gray-700/50 hover:border-blue-500/50 transition-all cursor-pointer",whileHover:{y:-5,transition:{duration:.2}},onClick:()=>S(k),children:[a.jsx("div",{className:"h-40 overflow-hidden",children:k.image_url?a.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900/40 to-purple-900/40"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white line-clamp-2 mb-2",children:k.title}),a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx(Ie,{className:"h-3 w-3 mr-1"}),Je(new Date(k.published_at),"MMM dd, yyyy")]})]})]},k.id))})]})]}),a.jsx(vl,{article:u,isOpen:h,onClose:()=>f(!1)})]})},it={async triggerAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("aggregate-news",{body:e});if(r)throw console.error("Error from Supabase function:",r),new Error(r.message||"Error calling the aggregation function");return t}catch(t){if(console.error("Error triggering aggregation:",t),typeof t=="object"&&t!==null&&"response"in t)try{const r=t.response;if(typeof r=="string"){const n=JSON.parse(r);if(n.error)throw new Error(n.error)}}catch{}throw t}},async triggerCryptoAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-crypto-news",{body:e});if(r)throw console.error("Error from fetch-crypto-news function:",r),new Error(r.message||"Error calling the crypto news function");return t}catch(t){throw console.error("Error triggering crypto aggregation:",t),t}},async triggerCoindeskAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-coindesk-news",{body:e});if(r)throw console.error("Error from fetch-coindesk-news function:",r),new Error(r.message||"Error calling the CoinDesk news function");return t}catch(t){throw console.error("Error triggering CoinDesk aggregation:",t),t}},async triggerCryptoPanicAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-cryptopanic-news",{body:e});if(r)throw console.error("Error from fetch-cryptopanic-news function:",r),new Error(r.message||"Error calling the CryptoPanic news function");return t}catch(t){throw console.error("Error triggering CryptoPanic aggregation:",t),t}},async triggerFireCrawlAggregation(e={}){try{const{data:t,error:r}=await L.functions.invoke("fetch-firecrawl-news",{body:e});if(r)throw console.error("Error from fetch-firecrawl-news function:",r),new Error(r.message||"Error calling the FireCrawl news function");return t}catch(t){throw console.error("Error triggering FireCrawl aggregation:",t),t}},async triggerScheduledAggregation(){try{const{data:e,error:t}=await L.functions.invoke("scheduled-aggregation",{body:{manual:!0}});if(t)throw console.error("Error from scheduled-aggregation function:",t),new Error(t.message||"Error calling the scheduled aggregation function");return e}catch(e){throw console.error("Error triggering scheduled aggregation:",e),e}},async createCrawlJob(e){try{const{data:t,error:r}=await L.functions.invoke("create-crawl-job",{body:e});if(r)throw console.error("Error from create-crawl-job function:",r),new Error(r.message||"Error calling the create crawl job function");return t}catch(t){throw console.error("Error creating crawl job:",t),t}},async createCrawlJobsFromTable(e={}){try{const{data:t,error:r}=await L.functions.invoke("create-crawl-jobs-from-table",{body:e});if(r)throw console.error("Error from create-crawl-jobs-from-table function:",r),new Error(r.message||"Error calling the create crawl jobs function");return t}catch(t){throw console.error("Error creating crawl jobs:",t),t}},async runCryptoCrawler(){try{const{data:e,error:t}=await L.functions.invoke("supadata-crypto-crawler",{body:{}});if(t)throw console.error("Error from supadata-crypto-crawler function:",t),new Error(t.message||"Error calling the crypto crawler function");return e}catch(e){throw console.error("Error running crypto crawler:",e),e}},async getAggregationStatus(){try{const{data:e,error:t}=await L.from("system_settings").select("*").eq("id","aggregation_status").maybeSingle();return t?(console.error("Error getting aggregation status:",t),{id:"aggregation_status",last_run:null,status:"never_run",articles_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):e||{id:"aggregation_status",last_run:null,status:"never_run",articles_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(e){return console.error("Error getting aggregation status:",e),null}},async getAggregationLogs(e={}){try{const{limit:t=100,status:r,type:n,offset:s=0}=e;let i=L.from("aggregation_logs").select("*").order("created_at",{ascending:!1}).range(s,s+t-1);r&&(i=i.eq("status",r)),n&&(i=i.eq("event_type",n));const{data:o,error:l}=await i;if(l)throw console.error("Error fetching aggregation logs:",l),l;return o||[]}catch(t){return console.error("Error in getAggregationLogs:",t),[]}},async createAggregationLog(e){try{const{data:t,error:r}=await L.from("aggregation_logs").insert({event_type:e.event_type,status:e.status,details:e.details}).select().single();if(r)throw console.error("Error creating aggregation log:",r),r;return t}catch(t){return console.error("Error in createAggregationLog:",t),null}},async getSchedule(){try{const{data:e,error:t}=await L.from("system_settings").select("*").eq("id","aggregation_status").single();if(t){if(t.code==="PGRST116")return{id:"aggregation_status",enabled:!0,frequency:"15min",next_scheduled:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};throw t}return e}catch(e){return console.error("Error getting aggregation schedule:",e),null}},async updateSchedule(e){try{const{data:t,error:r}=await L.from("system_settings").upsert({id:"aggregation_status",...e,updated_at:new Date().toISOString()}).select();if(r)throw r;return await this.createAggregationLog({event_type:"schedule_update",status:"success",details:{frequency:e.frequency,enabled:e.enabled,next_scheduled:e.next_scheduled}}),t}catch(t){throw console.error("Error updating aggregation schedule:",t),t}},async updateCoindeskSettings(e){try{const{data:t,error:r}=await L.from("system_settings").update({coindesk_enabled:e.enabled,coindesk_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"coindesk_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating CoinDesk settings:",t),t}},async updateCryptoPanicSettings(e){try{const{data:t,error:r}=await L.from("system_settings").update({cryptopanic_enabled:e.enabled,cryptopanic_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"cryptopanic_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating CryptoPanic settings:",t),t}},async updateFireCrawlSettings(e){try{const{data:t,error:r}=await L.from("system_settings").update({firecrawl_enabled:e.enabled,firecrawl_api_key:e.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status").select();if(r)throw r;return await this.createAggregationLog({event_type:"firecrawl_settings_update",status:"success",details:{enabled:e.enabled}}),t}catch(t){throw console.error("Error updating FireCrawl settings:",t),t}}},Vv=({status:e,onRefresh:t})=>{const[r,n]=x.useState(!1),[s,i]=x.useState("idle"),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(null),[v,w]=x.useState(!1),[j,m]=x.useState(null),[y,g]=x.useState(!0),[b,S]=x.useState(!1),[C,k]=x.useState(null),E=async()=>{try{if(j&&new Date<j){const P=Math.ceil((j.getTime()-new Date().getTime())/1e3/60);l(`Please wait approximately ${P} minutes before trying again to avoid rate limiting`);return}n(!0),i("running"),l(null),h(!0),p(null),w(!1);const _=await it.triggerAggregation({forceUpdate:c,singleCategory:y});p(_),i("completed"),setTimeout(()=>{t(),i("idle")},1e3)}catch(_){console.error("Error triggering aggregation:",_),i("error");let P="An unknown error occurred";try{if(typeof _=="object"&&_!==null)if(_.subType==="supabase-function"&&_.response)try{const M=JSON.parse(_.response);P=M.error||"Error calling Edge Function",console.log("Supabase function error details:",M)}catch{P=_.response}else if(_.response&&typeof _.response.json=="function"){const M=await _.response.json();P=M.error||M.message||P}else _.error?P=_.error:_.message&&(P=_.message)}catch{P=String(_)}l(P);const T=P.toLowerCase();if(T.includes("rate limit")||T.includes("too many fetch errors")||T.includes("too many requests")||T.includes("api issues")||T.includes("try again later")||T.includes("check api key")){w(!0);const M=Ba(new Date,15);m(M)}}finally{n(!1)}},N=async()=>{try{S(!0),l(null),k(null);const _=await it.triggerScheduledAggregation();k(_),t()}catch(_){console.error("Error testing scheduled function:",_),l(_ instanceof Error?_.message:"Unknown error testing scheduled function")}finally{S(!1)}};return a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"News Aggregation Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 mb-1",children:"Last Aggregation"}),a.jsx("p",{className:"text-lg font-semibold text-white",children:e!=null&&e.last_run?Je(sn(e.last_run),"MMM dd, yyyy HH:mm:ss"):"Never Run"}),(e==null?void 0:e.last_run)&&a.jsx("p",{className:"text-sm text-gray-400",children:Do(sn(e.last_run),{addSuffix:!0})})]}),a.jsx(mP,{status:e==null?void 0:e.status,count:e==null?void 0:e.articles_count})]}),(e==null?void 0:e.next_scheduled)&&a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 flex items-center",children:[a.jsx(It,{className:"h-4 w-4 text-blue-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-300",children:"Next scheduled run:"}),a.jsx("p",{className:"text-white",children:Je(sn(e.next_scheduled),"MMM dd, yyyy HH:mm:ss")}),a.jsx("p",{className:"text-xs text-gray-400",children:Do(sn(e.next_scheduled),{addSuffix:!0})})]})]}),(e==null?void 0:e.error_message)&&a.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300 flex items-start mt-3",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"Error Details:"}),a.jsx("p",{children:e.error_message})]})]}),o&&a.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300 flex items-start mt-3",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"Error Details:"}),a.jsx("p",{children:o}),v&&a.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 rounded",children:[a.jsx("p",{className:"font-medium text-yellow-300",children:"NewsAPI Rate Limit Exceeded"}),a.jsx("p",{className:"mt-1",children:"The NewsAPI has rate limits on how many requests can be made. Please wait before trying again."}),j&&a.jsxs("p",{className:"mt-1 flex items-center text-yellow-200",children:[a.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Try again after: ",Je(j,"HH:mm:ss")]}),a.jsx("p",{className:"mt-2 text-xs text-gray-300",children:"For more frequent updates, consider upgrading to a premium NewsAPI account with higher rate limits."})]})]})]}),d&&f&&a.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/70 border border-gray-700/30 rounded-md p-3 text-sm text-gray-300 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"font-medium flex items-center",children:[a.jsx(vN,{className:"h-4 w-4 mr-2"}),"Aggregation Results"]}),a.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-200",children:"Hide"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:f.message}),f.count>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Added ",f.count," new articles"]}),f.categories&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mt-2 mb-1",children:"Categories:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(f.categories).map(([_,P])=>a.jsxs("span",{className:"px-2 py-1 bg-gray-700/60 rounded-full text-xs",children:[_,": ",P]},_))})]}),f.languages&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mt-2 mb-1",children:"Languages:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(f.languages).map(([_,P])=>a.jsxs("span",{className:"px-2 py-1 bg-gray-700/60 rounded-full text-xs",children:[_,": ",P]},_))})]})]}):a.jsx("p",{children:"No new articles were found to add"}),f.errors&&f.errors.length>0&&a.jsx("div",{className:"mt-2",children:a.jsxs("p",{className:"text-yellow-400 font-medium",children:["Encountered ",f.errors.length," errors during insertion"]})})]})]}),d&&C&&a.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/70 border border-gray-700/30 rounded-md p-3 text-sm text-gray-300 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"font-medium flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Scheduled Function Test Results"]}),a.jsx("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-gray-200",children:"Hide"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:C.message}),C.status==="skipped"&&a.jsxs("p",{className:"text-yellow-400",children:["Aggregation was skipped: ",C.reason]}),C.result&&a.jsx("p",{children:C.result.count>0?`Added ${C.result.count} new articles`:"No new articles were added"}),C.nextScheduled&&a.jsxs("div",{className:"flex items-center text-blue-300 mt-2",children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Next scheduled: ",new Date(C.nextScheduled).toLocaleString()]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[a.jsx("p",{className:"text-gray-300 mb-3",children:"Manual Actions"}),a.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"force-update",checked:c,onChange:_=>u(_.target.checked),className:"h-4 w-4 rounded border-gray-600 text-blue-600 focus:ring-blue-600 bg-gray-700"}),a.jsx("label",{htmlFor:"force-update",className:"ml-2 text-sm text-gray-300",children:"Force Update (bypass duplicate check)"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"single-category",checked:y,onChange:_=>g(_.target.checked),className:"h-4 w-4 rounded border-gray-600 text-blue-600 focus:ring-blue-600 bg-gray-700"}),a.jsx("label",{htmlFor:"single-category",className:"ml-2 text-sm text-gray-300",children:"Single Category (avoid rate limiting)"})]}),a.jsx("button",{onClick:E,disabled:r||j&&new Date<j,className:`px-4 py-2 rounded-lg flex items-center ${r||j&&new Date<j?"bg-gray-700 cursor-not-allowed text-gray-400":s==="running"?"bg-blue-900/40 cursor-wait":s==="completed"?"bg-green-600 hover:bg-green-700":s==="error"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Running manual aggregation..."]}):j&&new Date<j?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Rate limited (try again later)"]}):s==="completed"?a.jsxs(a.Fragment,{children:[a.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Aggregation completed"]}):s==="error"?a.jsxs(a.Fragment,{children:[a.jsx(ll,{className:"h-4 w-4 mr-2"}),"Error, try again"]}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2"}),"Run Manual Aggregation Now"]})})]}),a.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg border border-gray-700/30 space-y-3",children:[a.jsxs("h4",{className:"text-sm font-medium text-white flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2 text-blue-400"}),"Test Scheduled Function"]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Run the scheduled aggregation function manually to test that it's working correctly."}),a.jsx("button",{onClick:N,disabled:b,className:`px-4 py-2 rounded-lg flex items-center text-sm ${b?"bg-blue-900/40 cursor-wait text-gray-300":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:b?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Test Scheduled Function"]})})]})]}),j&&new Date<j&&a.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["NewsAPI rate limit reached. Can run again in approximately ",Math.ceil((j.getTime()-new Date().getTime())/1e3/60)," minutes."]}),a.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[a.jsx("p",{children:"Note: The free NewsAPI plan has strict rate limits. To avoid hitting these limits, aggregations are now limited to fewer categories and articles per run."}),a.jsx("p",{className:"mt-1",children:"Each aggregation request uses only 1 randomly selected category and collects a small number of articles to stay within rate limits."})]})]})]})]})},mP=({status:e,count:t})=>{if(!e)return null;switch(e){case"success":return a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"px-3 py-1 bg-green-900/40 text-green-300 rounded-full text-sm flex items-center",children:[a.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Success"]}),t!==void 0&&a.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[t," articles added"]})]});case"partial_success":return a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"px-3 py-1 bg-yellow-900/40 text-yellow-300 rounded-full text-sm flex items-center",children:[a.jsx(Tt,{className:"h-3 w-3 mr-1"}),"Partial Success"]}),t!==void 0&&a.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[t," articles added"]})]});case"error":return a.jsxs("span",{className:"px-3 py-1 bg-red-900/40 text-red-300 rounded-full text-sm flex items-center",children:[a.jsx(ll,{className:"h-3 w-3 mr-1"}),"Failed"]});case"never_run":return a.jsxs("span",{className:"px-3 py-1 bg-yellow-900/40 text-yellow-300 rounded-full text-sm flex items-center",children:[a.jsx(Tt,{className:"h-3 w-3 mr-1"}),"Never Run"]});default:return a.jsx("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm",children:"Unknown"})}},pP=({usersCount:e,articlesCount:t,systemStatus:r,onRefresh:n})=>a.jsxs(A.div,{className:"space-y-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:e})]}),a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Total Articles"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:t})]}),a.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Last Aggregation"}),a.jsx("p",{className:"text-xl font-bold text-white",children:r!=null&&r.last_run?Je(new Date(r.last_run),"MMM dd, yyyy HH:mm"):"Never"}),(r==null?void 0:r.last_run)&&a.jsx("p",{className:"text-sm text-gray-400",children:Do(new Date(r.last_run),{addSuffix:!0})})]})]}),a.jsx("div",{children:a.jsx(Vv,{status:r,onRefresh:n})})]}),gP=({initialUsers:e,loading:t})=>{const[r,n]=x.useState(e||[]),[s,i]=x.useState(t||!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState({}),[f,p]=x.useState(null),[v,w]=x.useState(!1);x.useEffect(()=>{e?n(e):j()},[e]),x.useEffect(()=>{r.length>0&&m()},[r]);const j=async()=>{try{i(!0),l(null);const{data:C,error:k}=await L.from("profiles").select("*").order("created_at",{ascending:!1});if(k)throw console.error("Error fetching users:",k),l(`Error fetching users: ${k.message}`),k;n(C||[]),console.log(`Fetched ${(C==null?void 0:C.length)||0} users`)}catch(C){const k=C instanceof Error?C.message:"An unknown error occurred";l(k),console.error("Error in fetchUsers:",C)}finally{i(!1)}},m=async()=>{const C={};try{const k=r.slice(0,10);for(const E of k){const N=await Kt.getUserBookmarks(E.id,!1),_=await Gt.getUserHistory(E.id,100,!1);C[E.id]={bookmarks:N.length,history:_.length}}h(C)}catch(k){console.error("Error fetching user stats:",k)}},y=async()=>{u(!0),await j(),await m(),u(!1)},g=C=>{p(C),w(!0)},b=async C=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{i(!0);const{error:k}=await L.rpc("delete_user",{user_id:C});if(k)throw k;n(r.filter(E=>E.id!==C))}catch(k){console.error("Error deleting user:",k),alert("Failed to delete user. Please try again.")}finally{i(!1)}},S=async C=>{console.log("Edit user:",C)};return s?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"User Management"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("p",{className:"text-gray-400",children:["Total: ",r.length," users"]}),a.jsx("button",{onClick:y,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",disabled:c,title:"Refresh user list",children:a.jsx(Z,{className:`h-4 w-4 text-gray-300 ${c?"animate-spin":""}`})})]})]}),o&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-red-300",children:[a.jsx("h3",{className:"font-medium mb-1",children:"Error"}),a.jsx("p",{children:o})]}),r.length===0&&!s?a.jsx("div",{className:"text-center py-10 bg-gray-800/50 rounded-lg",children:a.jsx("p",{className:"text-gray-400",children:"No users found."})}):a.jsx(A.div,{className:"overflow-x-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-900/30",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Login"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map(C=>{var k;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center mr-3",children:C.avatar_url?a.jsx("img",{src:C.avatar_url,alt:"",className:"h-10 w-10 rounded-full"}):a.jsx("span",{className:"text-white font-medium",children:((k=C.username)==null?void 0:k[0])||"U"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:C.username}),a.jsx("div",{className:"text-xs text-gray-400",children:C.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C.role==="admin"?"bg-purple-900/40 text-purple-300":"bg-blue-900/40 text-blue-300"}`,children:C.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:C.created_at?new Date(C.created_at).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:C.last_login?new Date(C.last_login).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex space-x-3 text-xs",children:d[C.id]?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"flex items-center text-blue-300",children:[a.jsx(Ai,{className:"h-3.5 w-3.5 mr-1"}),d[C.id].bookmarks]}),a.jsxs("span",{className:"flex items-center text-gray-400",children:[a.jsx(Ie,{className:"h-3.5 w-3.5 mr-1"}),d[C.id].history]})]}):a.jsx("span",{className:"text-gray-500",children:"Loading..."})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"View User Data",onClick:()=>g(C),children:a.jsx(al,{className:"h-4 w-4 text-gray-400"})}),a.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"Edit User",onClick:()=>S(C.id),children:a.jsx(Qy,{className:"h-4 w-4 text-gray-400"})}),a.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-700/70 transition-colors",title:"Delete User",onClick:()=>b(C.id),children:a.jsx(Kd,{className:"h-4 w-4 text-gray-400"})})]})})]},C.id)})})]})}),v&&f&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-3xl w-full max-h-[80vh] overflow-auto",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["User Details: ",f.username]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{children:"This feature is not fully implemented in the demo."}),a.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded-lg",onClick:()=>w(!1),children:"Close"})]})]})})]})},yP=({articlesCount:e})=>a.jsxs(A.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Articles Management"}),a.jsxs("p",{className:"text-gray-400",children:["Total: ",e]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:"Article management is available through Supabase directly."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Supabase provides a powerful interface for managing database records, including filtering, sorting, and bulk operations that are perfect for content management."})]})]}),xP=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState("all"),[o,l]=x.useState(!1),[c,u]=x.useState(null);x.useEffect(()=>{d()},[s]);const d=async()=>{try{n(!0),u(null);const v={};s==="success"?v.status="success":s==="error"?v.status="error":s==="scheduled"&&(v.type="scheduled_aggregation");const w=await it.getAggregationLogs(v);t(w)}catch(v){console.error("Error fetching aggregation logs:",v),u(v instanceof Error?v.message:"Failed to fetch logs")}finally{n(!1)}},h=async()=>{l(!0),await d(),l(!1)},f=v=>{switch(v){case"success":return a.jsx(Oe,{className:"h-4 w-4 text-green-400"});case"error":return a.jsx(ll,{className:"h-4 w-4 text-red-400"});case"running":return a.jsx(Z,{className:"h-4 w-4 text-blue-400 animate-spin"});case"skipped":return a.jsx(Ie,{className:"h-4 w-4 text-yellow-400"});default:return a.jsx(Ie,{className:"h-4 w-4 text-gray-400"})}},p=v=>{if(!v.details)return"No details available";const w=v.details;switch(v.event_type){case"aggregation":return v.status==="success"?`${w.count||w.articles_count||0} articles added`:w.error||"Error during aggregation";case"crypto_aggregation":return v.status==="success"?`${w.count||0} crypto articles added`:w.error||"Error during crypto aggregation";case"scheduled_aggregation":if(v.status==="success"){const j=w.generalNewsCount||0,m=w.cryptoNewsCount||0;return`Scheduled: ${j+m} articles added (${j} general, ${m} crypto)`}else return v.status==="skipped"?`Scheduled run skipped: ${w.reason}`:w.error||"Error during scheduled aggregation";case"schedule_update":return`Schedule updated: ${w.frequency||"unknown frequency"}, ${w.enabled?"enabled":"disabled"}`;case"migration":return`Migration: ${w.migration||"unknown migration"}`;case"system_migration":return w.message||"System migration";default:return typeof w=="object"?Object.entries(w).map(([j,m])=>`${j}: ${m}`).join(", "):String(w)}};return a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Aggregation Logs"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>i("all"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="all"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"All"}),a.jsx("button",{onClick:()=>i("success"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="success"?"bg-green-900/40 text-green-300":"text-gray-400 hover:text-white"}`,children:"Success"}),a.jsx("button",{onClick:()=>i("error"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="error"?"bg-red-900/40 text-red-300":"text-gray-400 hover:text-white"}`,children:"Errors"}),a.jsx("button",{onClick:()=>i("scheduled"),className:`px-3 py-1 text-sm rounded-md transition-colors ${s==="scheduled"?"bg-blue-900/40 text-blue-300":"text-gray-400 hover:text-white"}`,children:"Scheduled"})]}),a.jsx("button",{onClick:h,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",disabled:o||r,title:"Refresh logs",children:a.jsx(Z,{className:`h-4 w-4 text-gray-300 ${o?"animate-spin":""}`})})]})]}),c&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-4 text-red-300",children:[a.jsx("h3",{className:"font-medium mb-1",children:"Error"}),a.jsx("p",{children:c})]}),r&&!o?a.jsx("div",{className:"flex justify-center py-6",children:a.jsx(Z,{className:"h-6 w-6 text-blue-500 animate-spin"})}):e.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No logs found"}):a.jsx(A.div,{className:"overflow-x-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-900/30",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Event"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Time"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Details"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:e.map(v=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:f(v.status)})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-white capitalize",children:v.event_type==="scheduled_aggregation"?a.jsxs("span",{className:"flex items-center",children:[a.jsx(It,{className:"h-4 w-4 mr-1 text-blue-400"}),"scheduled"]}):v.event_type.replace(/_/g," ")})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-400",children:Je(sn(v.created_at),"MMM dd, HH:mm:ss")}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:v.status==="success"?a.jsx("span",{children:p(v)}):a.jsx("span",{className:"text-red-400",children:p(v)})})]},v.id))})]})})]})},vP=({systemStatus:e,onRefresh:t})=>a.jsxs(A.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsx("div",{children:a.jsx(Vv,{status:e,onRefresh:t})}),a.jsx(xP,{}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"API Configuration"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"NewsAPI.org API Key"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:"efc7d919e7af413ba5a7f4a3ebdb3862",readOnly:!0,className:"flex-1 bg-gray-800 border border-gray-700 rounded-l-lg px-3 py-2 text-gray-300"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r-lg",children:"Update"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Edge Function URL: https://yvprahxaturmpzcdzddb.supabase.co/functions/v1/aggregate-news"})]})})]})]}),wP=({onUpdate:e})=>{const[t,r]=x.useState(!0),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState("15min"),[u,d]=x.useState(!1),[h,f]=x.useState(!1),[p,v]=x.useState(null),[w,j]=x.useState(null),m=[{value:"15min",label:"Every 15 minutes"},{value:"30min",label:"Every 30 minutes"},{value:"1hour",label:"Every hour"},{value:"3hours",label:"Every 3 hours"},{value:"6hours",label:"Every 6 hours"},{value:"12hours",label:"Every 12 hours"},{value:"24hours",label:"Once a day"}];x.useEffect(()=>{y()},[]);const y=async()=>{try{r(!0),v(null);const S=await it.getSchedule();S&&(s(S),o(S.enabled),c(S.frequency||"15min"));const C=await it.getAggregationLogs({limit:10,type:"scheduled_aggregation"});if(C.length>0){const k=C.find(E=>E.status==="success");k&&j(k.created_at)}}catch(S){console.error("Error fetching schedule:",S),v(S instanceof Error?S.message:"Failed to fetch schedule")}finally{r(!1)}},g=S=>{const C=new Date;switch(S){case"15min":return Ba(C,15).toISOString();case"30min":return Ba(C,30).toISOString();case"1hour":return Ds(C,1).toISOString();case"3hours":return Ds(C,3).toISOString();case"6hours":return Ds(C,6).toISOString();case"12hours":return Ds(C,12).toISOString();case"24hours":return Ds(C,24).toISOString();default:return Ba(C,15).toISOString()}},b=async()=>{try{d(!0),v(null);const S={enabled:i,frequency:l,next_scheduled:i?g(l):null};await it.updateSchedule(S),await y(),e(),f(!0),setTimeout(()=>f(!1),3e3)}catch(S){console.error("Error updating schedule:",S),v(S instanceof Error?S.message:"Failed to update schedule")}finally{d(!1)}};return t?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Z,{className:"h-6 w-6 text-blue-500 animate-spin"})}):a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg space-y-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Aggregation Schedule"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable Scheduled Aggregation"}),a.jsx("button",{onClick:()=>o(!i),className:`relative inline-flex h-6 w-11 items-center rounded-full ${i?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${i?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Aggregation Frequency"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:m.map(S=>a.jsxs("button",{onClick:()=>c(S.value),disabled:!i,className:`flex justify-between items-center w-full p-3 rounded-lg transition-colors ${i?l===S.value?"bg-blue-900/40 border-blue-500/70 text-blue-200 border":"bg-gray-800/40 border border-gray-700 text-gray-300 hover:bg-gray-700/70":"bg-gray-800/40 text-gray-500 cursor-not-allowed border border-gray-700/50"}`,children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2"}),S.label]}),l===S.value&&i&&a.jsx(Oe,{className:"h-4 w-4"})]},S.value))})]}),w&&a.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center text-gray-300 mb-2",children:[a.jsx(Ie,{className:"h-4 w-4 mr-2 text-green-400"}),a.jsx("span",{className:"text-sm font-medium",children:"Last Automated Run"})]}),a.jsx("p",{className:"text-white",children:Je(sn(w),"MMM dd, yyyy HH:mm:ss")})]}),i&&(n==null?void 0:n.next_scheduled)&&a.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center text-gray-300 mb-2",children:[a.jsx(It,{className:"h-4 w-4 mr-2 text-blue-400"}),a.jsx("span",{className:"text-sm font-medium",children:"Next Scheduled Run"})]}),a.jsx("p",{className:"text-lg text-white",children:Je(sn(n.next_scheduled),"MMM dd, yyyy HH:mm:ss")})]}),p&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-3 text-sm text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{children:p})]}),a.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-md p-3 text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-2",children:"About Automated Aggregation:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"Articles will be automatically fetched according to the schedule you set"}),a.jsx("li",{children:"The system will automatically adjust for rate limits to avoid API issues"}),a.jsx("li",{children:"Each automated run fetches a small batch of articles to stay within API limits"}),a.jsx("li",{children:"The schedule works with Supabase's built-in cron scheduler"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[a.jsx("button",{onClick:b,disabled:u,className:`px-4 py-2 rounded-lg flex items-center ${u?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:u?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsx(a.Fragment,{children:"Save Schedule"})}),h&&a.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 text-sm text-green-400 flex items-center",children:[a.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Schedule saved successfully"]})]})]})]})},bP=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),i(null);const{data:b,error:S}=await L.from("system_settings").select("coindesk_enabled, coindesk_api_key, coindesk_last_run, coindesk_rate_limited").eq("id","aggregation_status").single();if(S)throw S;l({enabled:b.coindesk_enabled||!1,api_key:b.coindesk_api_key||"",last_run:b.coindesk_last_run,rate_limited:b.coindesk_rate_limited||!1})}catch(b){console.error("Error fetching CoinDesk settings:",b),i(b instanceof Error?b.message:"Failed to load CoinDesk settings")}finally{t(!1)}},m=async()=>{try{n(!0),i(null),await it.updateCoindeskSettings({enabled:o.enabled,api_key:o.api_key}),h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(b){console.error("Error saving CoinDesk settings:",b),i(b instanceof Error?b.message:"Failed to save settings")}finally{n(!1)}},y=()=>{l(b=>({...b,enabled:!b.enabled}))},g=async()=>{try{p(!0),i(null),w(null);const b=await it.triggerCoindeskAggregation();w(b),await j()}catch(b){console.error("Error running CoinDesk aggregation:",b),i(b instanceof Error?b.message:"Failed to run CoinDesk aggregation")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"CoinDesk API Configuration"}),a.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:a.jsx(Z,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"CoinDesk settings saved successfully"]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700/50",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable CoinDesk API"}),a.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"CoinDesk API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:b=>l(S=>({...S,api_key:b.target.value})),placeholder:"Enter your CoinDesk API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),a.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?a.jsx(zd,{className:"h-5 w-5"}):a.jsx(Lr,{className:"h-5 w-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Required to use the CoinDesk API. You can get a key by signing up at"," ",a.jsx("a",{href:"https://api.coindesk.com/sign-up",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"api.coindesk.com"})]})]}),o.last_run&&a.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",a.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&a.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 24 hours."]})]}),a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"About the CoinDesk API"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[a.jsx("li",{children:"The CoinDesk API has strict rate limits for free accounts"}),a.jsx("li",{children:"Rate limits are typically 10 requests per day"}),a.jsx("li",{children:"If rate limited, the system will automatically disable requests for 24 hours"}),a.jsx("li",{children:"Enable this option only if you have a valid API key"})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx("button",{onClick:m,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),a.jsx("button",{onClick:g,disabled:f||!o.enabled||!o.api_key||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||!o.api_key||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2"}),"Run CoinDesk Aggregation"]})})]})]})}),v&&a.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),a.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?a.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from CoinDesk"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added from CoinDesk"}),v.status==="skipped"&&a.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[a.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),a.jsx("p",{className:"text-sm mt-1",children:v.reason||"CoinDesk API is disabled in system settings"})]}),v.error&&a.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},jP=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),i(null);const{data:b,error:S}=await L.from("system_settings").select("cryptopanic_enabled, cryptopanic_api_key, cryptopanic_last_run, cryptopanic_rate_limited").eq("id","aggregation_status").single();if(S)throw S;l({enabled:b.cryptopanic_enabled||!1,api_key:b.cryptopanic_api_key||"",last_run:b.cryptopanic_last_run,rate_limited:b.cryptopanic_rate_limited||!1})}catch(b){console.error("Error fetching CryptoPanic settings:",b),i(b instanceof Error?b.message:"Failed to load CryptoPanic settings")}finally{t(!1)}},m=async()=>{try{n(!0),i(null);const{error:b}=await L.from("system_settings").update({cryptopanic_enabled:o.enabled,cryptopanic_api_key:o.api_key,updated_at:new Date().toISOString()}).eq("id","aggregation_status");if(b)throw b;h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(b){console.error("Error saving CryptoPanic settings:",b),i(b instanceof Error?b.message:"Failed to save settings")}finally{n(!1)}},y=()=>{l(b=>({...b,enabled:!b.enabled}))},g=async()=>{try{p(!0),i(null),w(null);const b=await it.triggerCryptoPanicAggregation();w(b),await j()}catch(b){console.error("Error running CryptoPanic aggregation:",b),i(b instanceof Error?b.message:"Failed to run CryptoPanic aggregation")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"CryptoPanic API Configuration"}),a.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:a.jsx(Z,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"CryptoPanic settings saved successfully"]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700/50",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable CryptoPanic API"}),a.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"CryptoPanic API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:b=>l(S=>({...S,api_key:b.target.value})),placeholder:"Enter your CryptoPanic API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),a.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?a.jsx(zd,{className:"h-5 w-5"}):a.jsx(Lr,{className:"h-5 w-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Required to use the CryptoPanic API. You can get a key by signing up at"," ",a.jsx("a",{href:"https://cryptopanic.com/developers/api/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"cryptopanic.com/developers/api"})]})]}),o.last_run&&a.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",a.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&a.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 1 hour."]})]}),a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"About the CryptoPanic API"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[a.jsx("li",{children:"Free API tier has rate limits of 5 requests per second"}),a.jsx("li",{children:"PRO API tier has higher rate limits of 10 requests per second"}),a.jsx("li",{children:"If rate limited, the system will automatically disable requests for 1 hour"}),a.jsx("li",{children:"The API provides trending cryptocurrency news from multiple sources"})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx("button",{onClick:m,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),a.jsx("button",{onClick:g,disabled:f||!o.enabled||!o.api_key||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||!o.api_key||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2"}),"Run CryptoPanic Aggregation"]})})]})]})}),v&&a.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),a.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?a.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from CryptoPanic"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added from CryptoPanic"}),v.status==="skipped"&&a.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[a.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),a.jsx("p",{className:"text-sm mt-1",children:v.reason||"CryptoPanic API is disabled in system settings"})]}),v.error&&a.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},kP=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({enabled:!1,api_key:"",last_run:null,rate_limited:!1}),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{try{t(!0),i(null);const{data:b,error:S}=await L.from("system_settings").select("firecrawl_enabled, firecrawl_api_key, firecrawl_last_run, firecrawl_rate_limited").eq("id","aggregation_status").single();if(S)throw S;l({enabled:b.firecrawl_enabled||!1,api_key:b.firecrawl_api_key||"",last_run:b.firecrawl_last_run,rate_limited:b.firecrawl_rate_limited||!1})}catch(b){console.error("Error fetching FireCrawl settings:",b),i(b instanceof Error?b.message:"Failed to load FireCrawl settings")}finally{t(!1)}},m=async()=>{try{n(!0),i(null),await it.updateFireCrawlSettings({enabled:o.enabled,api_key:o.api_key}),h(!0),setTimeout(()=>h(!1),3e3),await j()}catch(b){console.error("Error saving FireCrawl settings:",b),i(b instanceof Error?b.message:"Failed to save settings")}finally{n(!1)}},y=()=>{l(b=>({...b,enabled:!b.enabled}))},g=async()=>{try{p(!0),i(null),w(null);const b=await it.triggerFireCrawlAggregation();w(b),await j()}catch(b){console.error("Error running FireCrawl aggregation:",b),i(b instanceof Error?b.message:"Failed to run FireCrawl aggregation")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"FireCrawl API Configuration"}),a.jsx("button",{onClick:j,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh settings",children:a.jsx(Z,{className:`h-4 w-4 text-gray-300 ${e?"animate-spin":""}`})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),d&&a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"FireCrawl settings saved successfully"]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700/50",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Enable FireCrawl API"}),a.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full ${o.enabled?"bg-blue-600":"bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${o.enabled?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"FireCrawl API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:o.api_key,onChange:b=>l(S=>({...S,api_key:b.target.value})),placeholder:"Enter your FireCrawl API key",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white pr-10"}),a.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",type:"button",children:c?a.jsx(zd,{className:"h-5 w-5"}):a.jsx(Lr,{className:"h-5 w-5"})})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Default key is provided, but for production use, get your own key from"," ",a.jsx("a",{href:"https://firecrawl.dev",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"firecrawl.dev"})]})]}),o.last_run&&a.jsxs("div",{className:"p-3 bg-gray-800/80 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:["Last Run: ",a.jsx("span",{className:"ml-2 text-gray-300",children:new Date(o.last_run).toLocaleString()})]}),o.rate_limited&&a.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"API currently rate limited. Try again in 1 hour."]})]}),a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg text-sm text-blue-300",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium mb-1",children:"About FireCrawl"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-300",children:[a.jsx("li",{children:"Crawls multiple crypto news sources including Tree of Alpha and TradingView"}),a.jsx("li",{children:"Extracts structured news data from web pages"}),a.jsx("li",{children:"Automatically runs every 15 minutes to keep your feed updated"}),a.jsx("li",{children:"Focuses on Bitcoin, Ethereum, Solana, TON, and XRP news"})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx("button",{onClick:m,disabled:r,className:`px-4 py-2 rounded-lg flex items-center ${r?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),a.jsx("button",{onClick:g,disabled:f||!o.enabled||o.rate_limited,className:`px-4 py-2 rounded-lg flex items-center ${f||!o.enabled||o.rate_limited?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Running..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2"}),"Run FireCrawl Aggregation"]})})]})]})}),v&&a.jsxs("div",{className:"p-6 bg-gray-900/30 border-t border-gray-700/50",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Aggregation Results"}),a.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-300 mb-2",children:v.message}),v.count>0?a.jsxs("p",{className:"text-green-400",children:["Successfully added ",v.count," new articles from FireCrawl"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added from FireCrawl"}),v.status==="skipped"&&a.jsxs("div",{className:"mt-2 bg-yellow-900/30 p-3 rounded-lg text-yellow-300",children:[a.jsx("p",{className:"font-medium",children:"Aggregation Skipped"}),a.jsx("p",{className:"text-sm mt-1",children:v.reason||"FireCrawl API is disabled in system settings"})]}),v.error&&a.jsxs("div",{className:"mt-2 bg-red-900/30 p-3 rounded-lg text-red-300",children:[a.jsx("p",{className:"font-medium",children:"Error:"}),a.jsx("p",{className:"text-sm",children:v.error})]})]})]})]})]})},SP={async enableCryptoIntegrations(){try{const{data:e,error:t}=await L.functions.invoke("update-crypto-settings");return t?(console.error("Error enabling crypto integrations:",t),{success:!1,message:"Failed to enable crypto integrations",error:t.message}):{success:!0,message:(e==null?void 0:e.message)||"Successfully enabled all crypto integrations"}}catch(e){return console.error("Error in enableCryptoIntegrations:",e),{success:!1,message:"An error occurred while enabling crypto integrations",error:e instanceof Error?e.message:String(e)}}},async runFireCrawlAggregation(){try{const{data:e,error:t}=await L.functions.invoke("fetch-firecrawl-news",{body:{forceUpdate:!0}});if(t)throw t;return e}catch(e){throw console.error("Error running FireCrawl aggregation:",e),e}},async runCryptoPanicAggregation(){try{const{data:e,error:t}=await L.functions.invoke("fetch-cryptopanic-news",{body:{forceUpdate:!0}});if(t)throw t;return e}catch(e){throw console.error("Error running CryptoPanic aggregation:",e),e}},async runCoinDeskAggregation(){try{const{data:e,error:t}=await L.functions.invoke("fetch-coindesk-news",{body:{forceUpdate:!0}});if(t)throw t;return e}catch(e){throw console.error("Error running CoinDesk aggregation:",e),e}}},NP=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(null),s=async()=>{t(!0);try{const i=await SP.enableCryptoIntegrations();n(i)}catch(i){n({success:!1,message:"An error occurred",error:i instanceof Error?i.message:String(i)})}finally{t(!1)}};return a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg border border-gray-700/50",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(mN,{className:"h-5 w-5 mr-2 text-yellow-400"}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Crypto Integrations Manager"})]}),a.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-blue-300 text-sm",children:"This will enable all crypto news integrations with your API keys:"}),a.jsxs("ul",{className:"mt-2 space-y-1 text-gray-300 text-sm pl-6 list-disc",children:[a.jsx("li",{children:"CryptoPanic"}),a.jsx("li",{children:"FireCrawl"}),a.jsx("li",{children:"CoinDesk"})]})]}),r&&a.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-4 mb-6 rounded-lg border ${r.success?"bg-green-900/30 border-green-800/30 text-green-300":"bg-red-900/30 border-red-800/30 text-red-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[r.success?a.jsx(rN,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}):a.jsx(JS,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:r.message}),r.error&&a.jsx("p",{className:"mt-2 text-sm",children:r.error})]})]})}),a.jsx("button",{onClick:s,disabled:e,className:`w-full flex items-center justify-center px-4 py-2 rounded-lg ${e?"bg-blue-700/50 cursor-wait text-gray-300":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:e?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Enabling Integrations..."]}):"Enable All Crypto Integrations"})]})},_P=()=>{const[e,t]=x.useState("SophIQ"),[r,n]=x.useState("all"),[s,i]=x.useState(!1),[o,l]=x.useState(!1),c=()=>{i(!0),setTimeout(()=>{i(!1),alert("Settings saved successfully")},1e3)},u=()=>{l(!0)},d=()=>{alert("This feature is not implemented in the demo"),l(!1)};return a.jsxs(A.div,{className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsx(NP,{}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(bP,{}),a.jsx(jP,{}),a.jsx(kP,{})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"System Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Site Name"}),a.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Default User Preferences"}),a.jsxs("select",{value:r,onChange:h=>n(h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"business",children:"Business"}),a.jsx("option",{value:"technology",children:"Technology"}),a.jsx("option",{value:"web3",children:"Web3"})]})]}),a.jsx("button",{onClick:c,disabled:s,className:`px-4 py-2 ${s?"bg-blue-700/60 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white rounded-lg transition-colors`,children:s?"Saving...":"Save Settings"})]})]}),a.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Danger Zone"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 border border-red-800/30 rounded-lg bg-red-900/20",children:[a.jsx("h4",{className:"text-red-300 font-medium mb-2",children:"Clear All Articles"}),a.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"This will permanently delete all articles from the database. This action cannot be undone."}),o?a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Delete"}),a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]}):a.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear Articles"})]})})]})]})},CP=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState({name:"",url:"",type:"rss",article_limit:50}),[d,h]=x.useState(!1),[f,p]=x.useState(!1),[v,w]=x.useState(!1),[j,m]=x.useState(null);x.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0),i(null);const{data:N,error:_}=await L.from("crypto_crawl_sites").select("*").order("name");if(_)throw _;t(N||[])}catch(N){console.error("Error fetching crypto sources:",N),i(N instanceof Error?N.message:"Failed to fetch sources")}finally{n(!1)}},g=N=>{l({...N})},b=()=>{l(null)},S=async()=>{if(o)try{n(!0),i(null);const{error:N}=await L.from("crypto_crawl_sites").update({name:o.name,url:o.url,type:o.type,article_limit:o.article_limit,updated_at:new Date().toISOString()}).eq("id",o.id);if(N)throw N;await y(),l(null),p(!0),setTimeout(()=>p(!1),3e3)}catch(N){console.error("Error updating source:",N),i(N instanceof Error?N.message:"Failed to update source")}finally{n(!1)}},C=async N=>{if(window.confirm("Are you sure you want to delete this source?"))try{n(!0),i(null);const{error:_}=await L.from("crypto_crawl_sites").delete().eq("id",N);if(_)throw _;await y()}catch(_){console.error("Error deleting source:",_),i(_ instanceof Error?_.message:"Failed to delete source")}finally{n(!1)}},k=async()=>{var N,_,P;try{if(n(!0),i(null),!((N=c.name)!=null&&N.trim())||!((_=c.url)!=null&&_.trim())||!((P=c.type)!=null&&P.trim())){i("Name, URL, and type are required"),n(!1);return}const{error:T}=await L.from("crypto_crawl_sites").insert({name:c.name.trim(),url:c.url.trim(),type:c.type,article_limit:c.article_limit||50});if(T)throw T;u({name:"",url:"",type:"rss",article_limit:50}),h(!1),await y(),p(!0),setTimeout(()=>p(!1),3e3)}catch(T){console.error("Error adding source:",T),i(T instanceof Error?T.message:"Failed to add source")}finally{n(!1)}},E=async()=>{try{w(!0),i(null),m(null);const N=await it.triggerCryptoAggregation();m(N)}catch(N){console.error("Error running crypto aggregation:",N),i(N instanceof Error?N.message:"Failed to run crypto aggregation")}finally{w(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Crypto News Sources"}),a.jsx("div",{className:"flex space-x-3",children:a.jsx("button",{onClick:y,disabled:r,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",title:"Refresh sources",children:a.jsx(Z,{className:`h-4 w-4 text-gray-300 ${r?"animate-spin":""}`})})})]}),s&&a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:s}),f&&a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4 text-green-300 flex items-center",children:[a.jsx(Oe,{className:"h-5 w-5 mr-2"}),"Changes saved successfully"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-gray-900/30 border-b border-gray-700/50 flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium text-white",children:"Configured Sources"}),a.jsx("button",{onClick:()=>h(!d),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:d?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"h-4 w-4 mr-1"}),"Cancel"]}):a.jsxs(a.Fragment,{children:[a.jsx(wo,{className:"h-4 w-4 mr-1"}),"Add Source"]})})]}),d&&a.jsxs("div",{className:"p-4 border-b border-gray-700/50 bg-gray-800/30",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Add New Source"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:c.name||"",onChange:N=>u({...c,name:N.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",placeholder:"CoinDesk"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Type"}),a.jsxs("select",{value:c.type||"rss",onChange:N=>u({...c,type:N.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",children:[a.jsx("option",{value:"rss",children:"RSS Feed"}),a.jsx("option",{value:"api",children:"API"}),a.jsx("option",{value:"html",children:"HTML Scraper"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"URL"}),a.jsx("input",{type:"text",value:c.url||"",onChange:N=>u({...c,url:N.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",placeholder:"https://example.com/rss"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Limit"}),a.jsx("input",{type:"number",value:c.article_limit||50,onChange:N=>u({...c,article_limit:parseInt(N.target.value)}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",min:"1",max:"100"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:k,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[r?a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(wo,{className:"h-4 w-4 mr-2"}),"Add Source"]})})]}),r&&e.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Loading sources..."})]}):e.length===0?a.jsx("div",{className:"p-6 text-center text-gray-400",children:"No sources configured yet. Add your first source to get started."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-900/40",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"URL"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Limit"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-800",children:e.map(N=>a.jsx("tr",{children:(o==null?void 0:o.id)===N.id?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("input",{type:"text",value:o.name,onChange:_=>l({...o,name:_.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsxs("select",{value:o.type,onChange:_=>l({...o,type:_.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white",children:[a.jsx("option",{value:"rss",children:"RSS Feed"}),a.jsx("option",{value:"api",children:"API"}),a.jsx("option",{value:"html",children:"HTML Scraper"})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"text",value:o.url,onChange:_=>l({...o,url:_.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("input",{type:"number",value:o.article_limit,onChange:_=>l({...o,article_limit:parseInt(_.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded p-1 text-white",min:"1",max:"100"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:S,className:"p-1 rounded text-green-400 hover:bg-gray-700",title:"Save",children:a.jsx(Oe,{className:"h-5 w-5"})}),a.jsx("button",{onClick:b,className:"p-1 rounded text-red-400 hover:bg-gray-700",title:"Cancel",children:a.jsx(pn,{className:"h-5 w-5"})})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-white",children:N.name})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-700",children:N.type})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:a.jsx("div",{className:"max-w-xs truncate",children:N.url})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300",children:N.article_limit}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>g(N),className:"p-1 rounded text-blue-400 hover:bg-gray-700",title:"Edit",children:a.jsx(Qy,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(N.id),className:"p-1 rounded text-red-400 hover:bg-gray-700",title:"Delete",children:a.jsx(bN,{className:"h-5 w-5"})})]})})]})},N.id))})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 p-6",children:[a.jsxs("h3",{className:"font-medium text-white mb-4 flex items-center",children:[a.jsx(al,{className:"h-5 w-5 mr-2 text-blue-400"}),"Crypto News Aggregation"]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Manually trigger the crypto news aggregation process to fetch the latest articles from all configured sources."}),a.jsx("button",{onClick:E,disabled:v,className:`px-4 py-2 rounded-lg flex items-center ${v?"bg-blue-700/50 cursor-wait":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Fetching crypto news..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"h-4 w-4 mr-2"}),"Run Crypto Aggregation Now"]})}),j&&a.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-800/70 border border-gray-700/30 rounded-lg text-sm",children:[a.jsx("h4",{className:"font-medium text-white mb-2",children:"Aggregation Results"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-gray-300",children:j.message}),j.count>0?a.jsxs("p",{className:"text-green-400",children:["Added ",j.count," new articles"]}):a.jsx("p",{className:"text-yellow-400",children:"No new articles were added"}),j.sources&&Object.keys(j.sources).length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 mt-2 mb-1",children:"Articles by source:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(j.sources).map(([N,_])=>a.jsxs("div",{className:"bg-gray-900/40 px-3 py-1 rounded-md text-xs flex justify-between",children:[a.jsx("span",{children:N}),a.jsx("span",{className:"text-blue-400",children:_})]},N))})]}),j.errors&&j.errors.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-red-400",children:"Errors:"}),a.jsx("div",{className:"bg-red-900/20 p-2 rounded-md text-red-300 mt-1 text-xs",children:j.errors.map((N,_)=>a.jsxs("div",{className:"mb-1 last:mb-0",children:[N.source,": ",N.error]},_))})]})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700/50 p-6",children:[a.jsx("h3",{className:"font-medium text-white mb-4",children:"About Crypto News Aggregation"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[a.jsx("p",{children:"The crypto news aggregator fetches articles from RSS feeds of popular cryptocurrency news sites."}),a.jsx("p",{children:"Features of the aggregation system:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-gray-400",children:[a.jsx("li",{children:"Automatically runs with the scheduled aggregation every 15 minutes"}),a.jsx("li",{children:"Fetches from multiple sources in a single run"}),a.jsx("li",{children:"Deduplicates articles to avoid storing the same article twice"}),a.jsx("li",{children:"Extracts metadata like images, tags, and publication dates"}),a.jsx("li",{children:"Categorizes articles based on content"})]}),a.jsxs("div",{className:"bg-blue-900/30 border border-blue-700/30 rounded-md p-3 flex items-start mt-2",children:[a.jsx(Tt,{className:"h-5 w-5 mr-2 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-300",children:"Supported RSS Types"}),a.jsx("p",{className:"mt-1 text-gray-300",children:"The system supports standard RSS feeds and Atom feeds. API integrations can be added for sources that provide structured data APIs."})]})]})]})]})]})]})]})},re={DASHBOARD:"dashboard",USERS:"users",ARTICLES:"articles",AGGREGATION:"aggregation",SCHEDULE:"schedule",CRYPTO:"crypto",SETTINGS:"settings"},EP=()=>{const{isAdmin:e,loading:t}=we(),[r,n]=x.useState(re.DASHBOARD),[s,i]=x.useState([]),[o,l]=x.useState(0),[c,u]=x.useState(!0),[d,h]=x.useState(null),[f,p]=x.useState(null);x.useEffect(()=>{e&&v()},[e,r]);async function v(){u(!0),p(null);try{const w=await it.getAggregationStatus();if(h(w),r===re.USERS||r===re.DASHBOARD){console.log("Fetching users for admin dashboard");const{data:j,error:m}=await L.from("profiles").select("*").order("created_at",{ascending:!1});if(m)throw console.error("Error fetching users:",m),p(`Error fetching users: ${m.message}`),m;i(j||[]),console.log(`Fetched ${(j==null?void 0:j.length)||0} users`)}if(r===re.ARTICLES||r===re.DASHBOARD){const{count:j,error:m}=await L.from("articles").select("*",{count:"exact",head:!0});if(m)throw console.error("Error counting articles:",m),p(`Error counting articles: ${m.message}`),m;l(j||0)}}catch(w){console.error("Error fetching admin data:",w instanceof Error?w.message:w),f||p("Error fetching admin data. Please try again.")}finally{u(!1)}}return t?a.jsx(vt,{}):e?a.jsxs("div",{className:"space-y-6",children:[a.jsx(A.h1,{className:"text-3xl font-bold text-white",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"Admin Dashboard"}),f&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-red-300",children:[a.jsx("h3",{className:"font-medium mb-1",children:"Error"}),a.jsx("p",{children:f})]}),a.jsxs("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap text-sm font-medium text-center border-b border-gray-700",children:[a.jsx(qr,{isActive:r===re.DASHBOARD,onClick:()=>n(re.DASHBOARD),icon:a.jsx(wu,{className:"h-4 w-4 mr-2"}),label:"Dashboard"}),a.jsx(qr,{isActive:r===re.USERS,onClick:()=>n(re.USERS),icon:a.jsx(jN,{className:"h-4 w-4 mr-2"}),label:"Users"}),a.jsx(qr,{isActive:r===re.ARTICLES,onClick:()=>n(re.ARTICLES),icon:a.jsx(sN,{className:"h-4 w-4 mr-2"}),label:"Articles"}),a.jsx(qr,{isActive:r===re.AGGREGATION,onClick:()=>n(re.AGGREGATION),icon:a.jsx(Ie,{className:"h-4 w-4 mr-2"}),label:"Manual"}),a.jsx(qr,{isActive:r===re.SCHEDULE,onClick:()=>n(re.SCHEDULE),icon:a.jsx(It,{className:"h-4 w-4 mr-2"}),label:"Scheduler"}),a.jsx(qr,{isActive:r===re.CRYPTO,onClick:()=>n(re.CRYPTO),icon:a.jsx(al,{className:"h-4 w-4 mr-2"}),label:"Crypto News"}),a.jsx(qr,{isActive:r===re.SETTINGS,onClick:()=>n(re.SETTINGS),icon:a.jsx(jo,{className:"h-4 w-4 mr-2"}),label:"Settings"})]}),a.jsx("div",{className:"p-6",children:c?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):a.jsxs(a.Fragment,{children:[r===re.DASHBOARD&&a.jsx(pP,{usersCount:s.length,articlesCount:o,systemStatus:d,onRefresh:v}),r===re.USERS&&a.jsx(gP,{initialUsers:s}),r===re.ARTICLES&&a.jsx(yP,{articlesCount:o}),r===re.AGGREGATION&&a.jsx(vP,{systemStatus:d,onRefresh:v}),r===re.SCHEDULE&&a.jsx(wP,{onUpdate:v}),r===re.CRYPTO&&a.jsx(CP,{}),r===re.SETTINGS&&a.jsx(_P,{})]})})]})]}):a.jsx(as,{to:"/dashboard",replace:!0})},qr=({isActive:e,onClick:t,icon:r,label:n})=>a.jsxs("button",{onClick:t,className:`px-5 py-3 flex items-center ${e?"bg-blue-900/30 text-blue-400 border-b-2 border-blue-500":"text-gray-400 hover:bg-gray-800 hover:text-gray-300"}`,children:[r,n]}),PP=({userId:e,onSaved:t})=>{const[r,n]=x.useState(null),[s,i]=x.useState(!0),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,h]=x.useState(!1),[f,p]=x.useState(""),[v,w]=x.useState(""),j=WS(),m=qS(),y=HS();x.useEffect(()=>{(async()=>{try{i(!0),u(null);const T=await cs(e);n(T||Pi(e))}catch(T){console.error("Error fetching user preferences:",T),u("Failed to load your preferences. Please try again.")}finally{i(!1)}})()},[e]);const g=()=>{var T;if(!f.trim()||!r)return;const P=f.trim().toLowerCase();if((T=r.keywords)!=null&&T.includes(P)){p("");return}n({...r,keywords:[...r.keywords||[],P]}),p("")},b=P=>{var T;r&&n({...r,keywords:((T=r.keywords)==null?void 0:T.filter(M=>M!==P))||[]})},S=()=>{var T;if(!v.trim()||!r)return;const P=v.trim().toLowerCase();if((T=r.excluded_keywords)!=null&&T.includes(P)){w("");return}n({...r,excluded_keywords:[...r.excluded_keywords||[],P]}),w("")},C=P=>{var T;r&&n({...r,excluded_keywords:((T=r.excluded_keywords)==null?void 0:T.filter(M=>M!==P))||[]})},k=P=>{if(!r)return;const T=r.categories||[];T.includes(P)?n({...r,categories:T.filter(M=>M!==P)}):n({...r,categories:[...T,P]})},E=P=>{if(!r)return;const T=r.sources||[];T.includes(P)?n({...r,sources:T.filter(M=>M!==P)}):n({...r,sources:[...T,P]})},N=P=>{if(!r)return;const T=r.languages||[];if(T.includes(P)){if(T.length<=1)return;n({...r,languages:T.filter(M=>M!==P)})}else n({...r,languages:[...T,P]})},_=async()=>{if(r)try{l(!0),u(null),h(!1);const P={...r,user_id:e};await Ei(P)?(zS(e),h(!0),setTimeout(()=>h(!1),3e3),t&&t()):u("Failed to save preferences. Please try again.")}catch(P){console.error("Error saving preferences:",P),u("An error occurred while saving your preferences.")}finally{l(!1)}};return s?a.jsx("div",{className:"flex justify-center py-6",children:a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):r?a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Keywords to Track"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:f,onChange:P=>p(P.target.value),placeholder:"e.g., Bitcoin, AI, Investment",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",onKeyDown:P=>P.key==="Enter"&&g()}),a.jsxs("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[a.jsx(wo,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.keywords&&r.keywords.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:r.keywords.map(P=>a.jsxs("div",{className:"bg-blue-900/40 px-3 py-1 rounded-full text-blue-200 text-sm flex items-center",children:[P,a.jsx("button",{onClick:()=>b(P),className:"ml-2 text-blue-300 hover:text-blue-100",children:a.jsx(pn,{className:"h-3 w-3"})})]},P))}):a.jsx("p",{className:"text-sm text-gray-400",children:"No keywords added yet. Add keywords to track specific topics."})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Categories"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:j.map(P=>{var T,M;return a.jsxs("button",{onClick:()=>k(P.id),className:`p-3 rounded-lg border ${(T=r.categories)!=null&&T.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:P.name}),((M=r.categories)==null?void 0:M.includes(P.id))&&a.jsx(Oe,{className:"h-4 w-4"})]},P.id)})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Language Preferences"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select the languages you want to see articles in."}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:y.map(P=>{var T,M,V,Y,Q,X;return a.jsxs("button",{onClick:()=>N(P.id),disabled:((T=r.languages)==null?void 0:T.length)===1&&((M=r.languages)==null?void 0:M.includes(P.id)),className:`p-3 rounded-lg border ${(V=r.languages)!=null&&V.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} ${((Y=r.languages)==null?void 0:Y.length)===1&&((Q=r.languages)!=null&&Q.includes(P.id))?"opacity-70 cursor-not-allowed":""} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:P.name}),((X=r.languages)==null?void 0:X.includes(P.id))&&a.jsx(Oe,{className:"h-4 w-4"})]},P.id)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"You must select at least one language."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"News Sources"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:m.map(P=>{var T,M;return a.jsxs("button",{onClick:()=>E(P.id),className:`p-3 rounded-lg border ${(T=r.sources)!=null&&T.includes(P.id)?"bg-blue-900/40 border-blue-500/70 text-blue-200":"bg-gray-800/40 border-gray-700 text-gray-300 hover:bg-gray-700/70"} transition-colors flex items-center justify-between`,children:[a.jsx("span",{children:P.name}),((M=r.sources)==null?void 0:M.includes(P.id))&&a.jsx(Oe,{className:"h-4 w-4"})]},P.id)})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Excluded Keywords"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:v,onChange:P=>w(P.target.value),placeholder:"e.g., Politics, Sports",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",onKeyDown:P=>P.key==="Enter"&&S()}),a.jsxs("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[a.jsx(wo,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.excluded_keywords&&r.excluded_keywords.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:r.excluded_keywords.map(P=>a.jsxs("div",{className:"bg-red-900/40 px-3 py-1 rounded-full text-red-200 text-sm flex items-center",children:[P,a.jsx("button",{onClick:()=>C(P),className:"ml-2 text-red-300 hover:text-red-100",children:a.jsx(pn,{className:"h-3 w-3"})})]},P))}):a.jsx("p",{className:"text-sm text-gray-400",children:"No excluded keywords added yet. Add keywords you want to avoid seeing."})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-700 flex justify-between items-center",children:[a.jsx("button",{onClick:_,disabled:o,className:`px-6 py-2 rounded-lg flex items-center ${o?"bg-blue-700/50 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors`,children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})}),c&&a.jsx("p",{className:"text-sm text-red-400",children:c}),d&&a.jsxs(A.p,{className:"text-sm text-green-400 flex items-center",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0},children:[a.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Preferences saved successfully"]})]})]}):a.jsx("div",{className:"text-center py-6 text-red-400",children:a.jsx("p",{children:"Failed to load preferences. Please refresh the page and try again."})})},TP=()=>{const{user:e,loading:t}=we();return t?a.jsx("div",{className:"flex items-center justify-center min-h-[70vh]",children:a.jsx(vt,{})}):e?a.jsx("div",{className:"max-w-4xl mx-auto py-8",children:a.jsxs(A.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[a.jsx("div",{className:"p-3 bg-blue-900/30 rounded-lg",children:a.jsx(jo,{className:"h-6 w-6 text-blue-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"News Preferences"})]}),a.jsxs("div",{className:"bg-gray-800/70 rounded-xl border border-gray-700/50 overflow-hidden shadow-lg",children:[a.jsxs("div",{className:"p-6 border-b border-gray-700/50",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Customize Your News Experience"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Adjust your preferences to get news that's relevant to you. These settings will be used to rank and prioritize articles in your feed."})]}),a.jsx("div",{className:"p-6",children:a.jsx(PP,{userId:e.id})})]})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please Sign In"}),a.jsx("p",{className:"text-gray-400",children:"You need to be logged in to view and edit your preferences."})]})},Ip=12,Fp=()=>{var E;const e=ar(),t=wt(),r=new URLSearchParams(e.search),[n,s]=x.useState([]),[i,o]=x.useState(!0),[l,c]=x.useState({category:r.get("category")||void 0,sortBy:r.get("sortBy")||"relevance",layout:r.get("layout")||"grid",timeFrame:r.get("timeFrame")||"all"}),[u,d]=x.useState(1),[h,f]=x.useState(!0),[p,v]=x.useState(0),[w,j]=x.useState(null),m=x.useRef(!1),y=x.useRef(l),g=bl();x.useEffect(()=>{y.current=l},[l]);const b=x.useCallback(Ci(N=>{const _=new URLSearchParams;N.category&&_.set("category",N.category),N.sortBy&&_.set("sortBy",N.sortBy),N.layout&&_.set("layout",N.layout),N.timeFrame&&_.set("timeFrame",N.timeFrame),t(`${e.pathname}?${_.toString()}`,{replace:!0})},300),[t,e.pathname]);x.useEffect(()=>{b(l)},[l,b]);const S=x.useCallback(async()=>{if(!m.current){m.current=!0;try{o(!0),j(null);const _=(()=>{if(y.current.timeFrame==="all")return;const M=new Date;if(y.current.timeFrame==="day"){const V=new Date(M);return V.setDate(M.getDate()-1),V.toISOString()}else if(y.current.timeFrame==="week"){const V=new Date(M);return V.setDate(M.getDate()-7),V.toISOString()}else if(y.current.timeFrame==="month"){const V=new Date(M);return V.setMonth(M.getMonth()-1),V.toISOString()}})(),P=y.current.sortBy==="relevance"?"relevance_score":y.current.sortBy==="date"?"published_at":"source",T=await cn({limit:Ip,category:y.current.category,sortBy:P,fromDate:_,page:u});s(u===1?T.articles:M=>[...M,...T.articles]),v(T.totalCount),f(T.articles.length===Ip)}catch(N){console.error("Error fetching articles:",N),j("Failed to load articles. Please try again.")}finally{o(!1),m.current=!1}}},[u]);x.useEffect(()=>{S()},[S]),x.useEffect(()=>{d(1)},[l]);const C=x.useCallback(Ci(N=>{c(N)},300),[]),k=()=>{!i&&!m.current&&d(N=>N+1)};return a.jsxs("div",{className:"space-y-6",children:[w&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[w,a.jsx("button",{onClick:()=>S(),className:"ml-4 underline hover:text-red-200",children:"Retry"})]}),a.jsx(wl,{articles:n,loading:i,title:l.category?`${((E=g.find(N=>N.id===l.category))==null?void 0:E.name)||"Filtered"} Articles`:"All Articles",hasMore:h,loadMore:k,categories:g,onFilterChange:C,totalCount:p})]})},AP=()=>{var w;const{user:e}=we(),[t,r]=x.useState([]),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState({}),h=bl(),f=x.useCallback(async()=>{if(e){s(!0),o(null);try{const m=(await Kt.getUserBookmarks(e.id)).filter(g=>g.article).map(g=>g.article);r(m);const y={};m.forEach(g=>{y[g.category]=(y[g.category]||0)+1}),d(y)}catch(j){console.error("Error fetching bookmarks:",j),o("Failed to load your bookmarks")}finally{s(!1)}}},[e]);x.useEffect(()=>{f()},[f]);const p=async()=>{if(!(!e||!window.confirm("Are you sure you want to remove all your bookmarks?"))){s(!0);try{for(const j of t)await Kt.removeBookmark(e.id,j.id);r([]),d({})}catch(j){console.error("Error clearing bookmarks:",j),o("Failed to clear bookmarks")}finally{s(!1)}}},v=()=>l?t.filter(j=>j.category===l):t;return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[a.jsx(Ai,{className:"h-7 w-7 mr-3 text-blue-400"}),"Your Bookmarks"]}),t.length>0&&a.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-300 rounded-lg transition-colors",children:[a.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),i&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[i,a.jsx("button",{onClick:f,className:"ml-4 underline hover:text-red-200",children:"Try Again"})]}),Object.keys(u).length>0&&a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>c(null),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${l===null?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(Hd,{className:"h-3.5 w-3.5 mr-2"}),"All Categories",a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-gray-700/70 rounded-md",children:t.length})]}),Object.entries(u).sort(([j,m],[y,g])=>g-m).map(([j,m])=>{var y;return a.jsxs("button",{onClick:()=>c(j),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l===j?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[((y=h.find(g=>g.id===j))==null?void 0:y.name)||j,a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-gray-700/70 rounded-md",children:m})]},j)})]}),n?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):t.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"No bookmarks yet"}),a.jsx("p",{className:"text-gray-400",children:"When you bookmark articles, they'll appear here for easy access."})]}):a.jsx(wl,{articles:v(),loading:!1,title:l?`${((w=h.find(j=>j.id===l))==null?void 0:w.name)||l} Bookmarks`:"",onArticleRemoved:f})]}):a.jsxs("div",{className:"py-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign in to see your bookmarks"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to view and manage your bookmarks."})]})},RP=()=>{const{user:e}=we(),{history:t,loading:r,error:n,fetchHistory:s,clearHistory:i}=yl(),[o,l]=x.useState({}),[c,u]=x.useState("all"),[d,h]=x.useState(null),[f,p]=x.useState(!1);x.useEffect(()=>{const m={};t.forEach(g=>{const b=new Date(g.viewed_at).toISOString().split("T")[0];m[b]||(m[b]=[]),m[b].push(g)});const y={};Object.keys(m).sort((g,b)=>b.localeCompare(g)).forEach(g=>{y[g]=m[g]}),l(y)},[t]),x.useEffect(()=>{e&&(async()=>await s(100))()},[e,c,s]);const v=x.useCallback(async()=>{!e||!window.confirm("Are you sure you want to clear your browsing history?")||await i()},[e,i]),w=m=>{h(m),p(!0)};if(!e)return a.jsxs("div",{className:"py-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign in to see your history"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to view your article history."})]});const j=m=>{const y=new Date(m.split("T")[0]),g=new Date,b=new Date;return b.setDate(b.getDate()-1),y.toDateString()===g.toDateString()?"Today":y.toDateString()===b.toDateString()?"Yesterday":Je(y,"MMMM d, yyyy")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[a.jsx(Ie,{className:"h-7 w-7 mr-3 text-blue-400"}),"Browsing History"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(o).length>0&&a.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-300 rounded-lg transition-colors",children:[a.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Clear History"]})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.jsxs("button",{onClick:()=>u("all"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="all"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(qi,{className:"h-3.5 w-3.5 mr-2"}),"All Time"]}),a.jsxs("button",{onClick:()=>u("today"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="today"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(It,{className:"h-3.5 w-3.5 mr-2"}),"Today"]}),a.jsxs("button",{onClick:()=>u("week"),className:`px-3 py-1.5 rounded-lg flex items-center text-sm transition-colors ${c==="week"?"bg-blue-600 text-white font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[a.jsx(It,{className:"h-3.5 w-3.5 mr-2"}),"This Week"]})]}),n&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[n,a.jsx("button",{onClick:()=>s(),className:"ml-4 underline hover:text-red-200",children:"Try Again"})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):Object.keys(o).length===0?a.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"py-16 text-center",children:[a.jsx("div",{className:"mb-4 inline-flex p-4 bg-gray-800/50 rounded-full",children:a.jsx(iN,{className:"h-8 w-8 text-gray-500"})}),a.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"No browsing history"}),a.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Articles you view will appear here. Start exploring content to build your history."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(o).map(([m,y])=>a.jsxs("div",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:j(m)}),a.jsx("div",{className:"space-y-2",children:y.map(g=>a.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-800/70 border border-gray-700/50 rounded-lg p-4 hover:border-blue-500/30 transition-colors",children:g.article&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.article.image_url&&a.jsx("div",{className:"w-full sm:w-40 h-28 flex-shrink-0 overflow-hidden rounded-lg cursor-pointer",onClick:()=>w(g.article),children:a.jsx("img",{src:g.article.image_url,alt:g.article.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),a.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-1 hover:text-blue-400 transition-colors cursor-pointer",onClick:()=>w(g.article),children:g.article.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-gray-400 mb-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-700/60",children:g.article.category}),a.jsx("span",{children:g.article.source}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Viewed ",Do(new Date(g.viewed_at),{addSuffix:!0})]}),g.view_duration&&a.jsxs("div",{className:"text-gray-500",children:[Math.floor(g.view_duration/60)>0?`${Math.floor(g.view_duration/60)}m ${g.view_duration%60}s`:`${g.view_duration}s`," view time"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(Ne,{to:`/dashboard/article/${g.article.id}`,className:"p-1.5 rounded-md hover:bg-gray-700/70 transition-colors text-gray-400 hover:text-white",children:a.jsx(vn,{className:"h-4 w-4"})}),a.jsx(xl,{article:g.article})]})]})]})},g.id))})]},m))}),d&&a.jsx(vl,{article:d,isOpen:f,onClose:()=>p(!1)})]})},DP=({isOpen:e,onClose:t,categoryId:r,categoryName:n})=>{const[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(null),[d,h]=x.useState("date"),[f,p]=x.useState(null),[v,w]=x.useState(!1);x.useEffect(()=>{e&&r&&j()},[e,r,d]);const j=async()=>{try{l(!0),u(null);const g=await cn({category:r,limit:12,sortBy:d==="relevance"?"relevance_score":"published_at"});i(g.articles)}catch(g){console.error("Error fetching category articles:",g),u("Failed to load articles for this category.")}finally{l(!1)}},m=g=>{p(g),w(!0)},y=()=>{w(!1),p(null)};return a.jsxs(a.Fragment,{children:[a.jsx(Fv,{isOpen:e,onClose:t,size:"xl",title:`${n} Articles`,children:a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>h("date"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${d==="date"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Newest First"}),a.jsx("button",{onClick:()=>h("relevance"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${d==="relevance"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Relevance"})]}),o&&a.jsx(Z,{className:"h-4 w-4 animate-spin text-blue-400"})]})}),c&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 text-sm text-red-300",children:[c,a.jsx("button",{onClick:j,className:"ml-2 underline hover:text-red-200",children:"Retry"})]}),o&&s.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):s.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-400",children:"No articles found in this category."})}):a.jsx(A.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.map((g,b)=>a.jsx("div",{onClick:()=>m(g),className:"cursor-pointer",children:a.jsx($v,{article:g,index:b,showRelevanceScore:d==="relevance"})},g.id))})]})}),f&&a.jsx(vl,{article:f,isOpen:v,onClose:y})]})},$p={business:a.jsx(Uy,{className:"h-8 w-8 text-blue-400"}),technology:a.jsxs("svg",{className:"h-8 w-8 text-purple-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),a.jsx("polyline",{points:"15 3 21 3 21 9"}),a.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),science:a.jsx("svg",{className:"h-8 w-8 text-green-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),health:a.jsx("svg",{className:"h-8 w-8 text-red-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),stocks:a.jsxs("svg",{className:"h-8 w-8 text-green-500",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),a.jsx("polyline",{points:"16 7 22 7 22 13"})]}),web3:a.jsxs("svg",{className:"h-8 w-8 text-yellow-400",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),a.jsx("polyline",{points:"17 2 12 7 7 2"})]}),artificial_intelligence:a.jsx(Ri,{className:"h-8 w-8 text-indigo-400"}),machine_learning:a.jsx(fN,{className:"h-8 w-8 text-blue-500"}),llm:a.jsx(Wy,{className:"h-8 w-8 text-purple-500"}),generative_ai:a.jsx(Yy,{className:"h-8 w-8 text-amber-400"}),ai_ethics:a.jsx(Hd,{className:"h-8 w-8 text-red-400"}),ai_research:a.jsx(nN,{className:"h-8 w-8 text-cyan-400"}),general:a.jsx(qi,{className:"h-8 w-8 text-gray-400"})},Vp={business:"from-blue-900/30 to-blue-700/20",technology:"from-purple-900/30 to-indigo-700/20",science:"from-green-900/30 to-emerald-700/20",health:"from-red-900/30 to-rose-700/20",stocks:"from-green-900/30 to-teal-700/20",web3:"from-yellow-900/30 to-amber-700/20",artificial_intelligence:"from-indigo-900/30 to-violet-700/20",machine_learning:"from-blue-900/30 to-cyan-700/20",llm:"from-purple-900/30 to-fuchsia-700/20",generative_ai:"from-amber-900/30 to-orange-700/20",ai_ethics:"from-red-900/30 to-pink-700/20",ai_research:"from-cyan-900/30 to-sky-700/20",general:"from-gray-800/50 to-gray-700/30"},MP=()=>{const e=wt(),{user:t,isAdmin:r}=we(),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState({}),[u,d]=x.useState([]),[h,f]=x.useState(!1),[p,v]=x.useState(null),w=bl(),j={aiCategories:w.filter(N=>["artificial_intelligence","machine_learning","llm","generative_ai","ai_ethics","ai_research"].includes(N.id)),mainCategories:w.filter(N=>!["artificial_intelligence","machine_learning","llm","generative_ai","ai_ethics","ai_research","general"].includes(N.id))};x.useEffect(()=>{g()},[]),x.useEffect(()=>{t&&(b(),r&&S())},[t,r]);const m=(N,_)=>{_.stopPropagation();const P=w.find(T=>T.id===N);P&&(v(P),f(!0))},y=N=>{e(`/dashboard/category/${N}`)},g=async()=>{try{s(!0),o(null);const N={};w.forEach(_=>{N[_.id]={count:0}});for(const _ of w){const{count:P,error:T}=await L.from("articles").select("*",{count:"exact",head:!0}).eq("category",_.id);if(T){console.error(`Error fetching count for category ${_.id}:`,T);continue}N[_.id]={count:P||0}}c(N)}catch(N){console.error("Error fetching category data:",N),o("Failed to load categories. Please try again.")}finally{s(!1)}},b=async()=>{if(t)try{const{data:N,error:_}=await L.from("user_preferences").select("categories").eq("user_id",t.id).single();if(_&&_.code!=="PGRST116"){console.error("Error fetching user preferences:",_);return}N!=null&&N.categories&&d(N.categories);const P=await Kt.getBookmarkStatsByCategory(t.id),T=await Gt.getMostViewedCategories(t.id);c(M=>{const V={...M};return Object.entries(P).forEach(([Y,Q])=>{V[Y]&&(V[Y]={...V[Y],bookmarkCount:Q})}),Object.entries(T).forEach(([Y,Q])=>{V[Y]&&(V[Y]={...V[Y],viewCount:Q})}),V})}catch(N){console.error("Error fetching user category data:",N)}},S=async()=>{if(r)try{console.log("Admin would fetch additional analytics here")}catch(N){console.error("Error fetching admin category analytics:",N)}},C=N=>u.includes(N),k=N=>$p[N]||$p.general,E=N=>Vp[N]||Vp.general;return n?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(vt,{})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx(A.h1,{className:"text-3xl font-bold text-white mb-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:"News Categories"}),a.jsx("p",{className:"text-gray-400",children:"Browse news articles by category to find content relevant to your interests."})]}),i&&a.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:[i,a.jsx("button",{onClick:g,className:"ml-4 underline hover:text-red-200",children:"Retry"})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center border-b border-gray-700 pb-2",children:[a.jsx(Ri,{className:"h-6 w-6 mr-2 text-indigo-400"}),"AI & Machine Learning"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.aiCategories.map((N,_)=>{var P,T,M,V,Y;return a.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:_*.1},className:`bg-gradient-to-br ${E(N.id)} rounded-xl border border-gray-700/50 overflow-hidden hover:border-blue-500/30 transition-all shadow-lg`,onClick:()=>y(N.id),whileHover:{scale:1.02,transition:{duration:.2}},children:a.jsxs("div",{className:"p-6 h-full flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:k(N.id)}),t&&C(N.id)&&a.jsx("span",{className:"bg-blue-900/60 text-blue-300 px-3 py-1 rounded-full text-xs font-medium",children:"Preferred"})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:N.name}),a.jsxs("div",{className:"mt-auto pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:((P=l[N.id])==null?void 0:P.count)||0}),a.jsx("div",{className:"text-sm text-gray-400",children:"articles"})]}),t&&a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-4",children:[((T=l[N.id])==null?void 0:T.viewCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Lr,{className:"h-3 w-3 mr-1 text-gray-500"}),(M=l[N.id])==null?void 0:M.viewCount," views"]}),((V=l[N.id])==null?void 0:V.bookmarkCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ai,{className:"h-3 w-3 mr-1 text-blue-500"}),(Y=l[N.id])==null?void 0:Y.bookmarkCount," bookmarks"]})]}),a.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 text-white rounded-lg transition-colors text-sm",onClick:Q=>m(N.id,Q),children:["Browse ",N.name,a.jsx(Ti,{className:"ml-2 h-4 w-4"})]})]})]})},N.id)})})]}),a.jsxs("section",{className:"space-y-4 mt-8",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center border-b border-gray-700 pb-2",children:[a.jsx(qi,{className:"h-6 w-6 mr-2 text-blue-400"}),"Other Categories"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.mainCategories.map((N,_)=>{var P,T,M,V,Y;return a.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:_*.1},className:`bg-gradient-to-br ${E(N.id)} rounded-xl border border-gray-700/50 overflow-hidden hover:border-blue-500/30 transition-all shadow-lg`,onClick:()=>y(N.id),whileHover:{scale:1.02,transition:{duration:.2}},children:a.jsxs("div",{className:"p-6 h-full flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:k(N.id)}),t&&C(N.id)&&a.jsx("span",{className:"bg-blue-900/60 text-blue-300 px-3 py-1 rounded-full text-xs font-medium",children:"Preferred"})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:N.name}),a.jsxs("div",{className:"mt-auto pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-white",children:((P=l[N.id])==null?void 0:P.count)||0}),a.jsx("div",{className:"text-sm text-gray-400",children:"articles"})]}),t&&a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-4",children:[((T=l[N.id])==null?void 0:T.viewCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Lr,{className:"h-3 w-3 mr-1 text-gray-500"}),(M=l[N.id])==null?void 0:M.viewCount," views"]}),((V=l[N.id])==null?void 0:V.bookmarkCount)!==void 0&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ai,{className:"h-3 w-3 mr-1 text-blue-500"}),(Y=l[N.id])==null?void 0:Y.bookmarkCount," bookmarks"]})]}),a.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 text-white rounded-lg transition-colors text-sm",onClick:Q=>m(N.id,Q),children:["Browse ",N.name,a.jsx(Ti,{className:"ml-2 h-4 w-4"})]})]})]})},N.id)})})]}),a.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx(Ri,{className:"h-6 w-6 mr-2 text-indigo-400"}),"Popular AI Topics"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:["gpt-4","chatgpt","llama","diffusion models","deep learning","computer vision","nlp","agi","ai ethics","transformers","neural networks","ai research","generative ai","multimodal ai","reinforcement learning","ai alignment","prompt engineering"].map((N,_)=>a.jsx(A.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:_*.05},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm text-gray-300 transition-colors",onClick:()=>e(`/dashboard/search?q=${N}`),children:N},N))})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx(Uy,{className:"h-6 w-6 mr-2 text-blue-400"}),"Other Popular Topics"]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:["blockchain","investment","startups","crypto","fintech","web development","climate","data science","remote work","funding"].map((N,_)=>a.jsx(A.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:_*.05},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm text-gray-300 transition-colors",onClick:()=>e(`/dashboard/search?q=${N}`),children:N},N))})]}),p&&a.jsx(DP,{isOpen:h,onClose:()=>f(!1),categoryId:p.id,categoryName:p.name})]})},Up=12,LP=()=>{const e=ar(),t=wt(),{user:r}=we(),[n,s]=x.useState(""),[i,o]=x.useState([]),[l,c]=x.useState(!1),[u,d]=x.useState(null),[h,f]=x.useState(0),[p,v]=x.useState(1),[w,j]=x.useState(!1),[m,y]=x.useState({category:void 0,sortBy:"relevance",layout:"grid"}),[g]=x.useState(r4());x.useEffect(()=>{const P=new URLSearchParams(e.search).get("q");P&&s(P)},[e.search]);const b=x.useCallback(Ci(_=>{y(_),v(1)},300),[]);x.useEffect(()=>{if(!n.trim())return;(async()=>{try{c(!0),d(null);const P=await Pv(n,Up*p,r==null?void 0:r.id);if(o(P),f(P.length),m.category){const T=P.filter(M=>M.category===m.category);o(T)}j(P.length>=Up*p)}catch(P){console.error("Search error:",P),d("Failed to perform search. Please try again.")}finally{c(!1)}})()},[n,p,r==null?void 0:r.id,m.category]);const S=_=>{_.preventDefault(),n.trim()&&(t(`/dashboard/search?q=${encodeURIComponent(n.trim())}`),v(1))},C=()=>{l||v(_=>_+1)},k=()=>{if(!i.length)return[];let _=[...i];return m.sortBy==="relevance"?_.sort((P,T)=>(T.relevance_score||0)-(P.relevance_score||0)):_.sort((P,T)=>new Date(T.published_at).getTime()-new Date(P.published_at).getTime()),_},E=_=>{s(_),t(`/dashboard/search?q=${encodeURIComponent(_)}`),v(1)},N=()=>{s(""),o([]),t("/dashboard/search")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gray-800/70 rounded-xl p-6 border border-gray-700/50",children:[a.jsxs(Link,{to:"/dashboard",className:"inline-flex items-center text-gray-400 hover:text-white mb-4",children:[a.jsx(Ud,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]}),a.jsx("form",{onSubmit:S,className:"relative mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:n,onChange:_=>s(_.target.value),placeholder:"Search for articles, topics, or keywords...",className:"w-full bg-gray-900 border border-gray-700 rounded-l-lg px-10 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}),a.jsx(bo,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-500"}),n&&a.jsx("button",{type:"button",onClick:N,className:"absolute right-3 top-3.5 text-gray-500 hover:text-gray-300",children:a.jsx(ll,{className:"h-5 w-5"})})]}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-r-lg hover:bg-blue-700 transition-colors",children:"Search"})]})}),!n&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Popular searches"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(_=>a.jsx("button",{onClick:()=>E(_),className:"px-3 py-1.5 bg-gray-700/70 hover:bg-gray-700 text-gray-300 rounded-full text-sm transition-colors",children:_},_))})]})]}),n?a.jsx("div",{children:l&&i.length===0?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(vt,{})}):u?a.jsx("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4 text-red-300",children:u}):i.length===0?a.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[a.jsxs("h2",{className:"text-xl font-medium text-white mb-3",children:['No results found for "',n,'"']}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Try different keywords or check your spelling"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Try searching for"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:g.map(_=>a.jsx("button",{onClick:()=>E(_),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-full text-sm transition-colors",children:_},_))})]})]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("h2",{className:"text-xl font-semibold text-white",children:[h," ",h===1?"result":"results",' for "',n,'"']})}),a.jsx(wl,{articles:k(),loading:l,hasMore:w,loadMore:C,onFilterChange:b})]})}):a.jsx("div",{className:"text-center py-12 text-gray-400",children:"Enter search terms to find articles"})]})},pc=({element:e,redirectPath:t="/login",requireAuth:r=!0,requireAdmin:n=!1})=>{const{user:s,loading:i,isAdmin:o}=we();return i?a.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):r&&!s?a.jsx(as,{to:t,replace:!0}):n&&!o?a.jsx(as,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e})},Bp=({element:e,redirectPath:t="/dashboard"})=>{const{user:r,loading:n}=we();return n?a.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):r?a.jsx(as,{to:t,replace:!0}):a.jsx(a.Fragment,{children:e})};function OP(){const{user:e}=we();return a.jsxs(dj,{children:[a.jsx(Ce,{path:"/",element:a.jsx(Bp,{element:a.jsx(Q3,{})})}),a.jsx(Ce,{path:"/login",element:a.jsx(Bp,{element:a.jsx(dP,{})})}),a.jsx(Ce,{path:"/onboarding",element:a.jsx(pc,{element:a.jsx(hP,{})})}),a.jsxs(Ce,{path:"/dashboard",element:a.jsx(pc,{element:a.jsx(M3,{})}),children:[a.jsx(Ce,{index:!0,element:a.jsx(uP,{})}),a.jsx(Ce,{path:"article/:id",element:a.jsx(fP,{})}),a.jsx(Ce,{path:"admin",element:a.jsx(pc,{element:a.jsx(EP,{}),requireAdmin:!0})}),a.jsx(Ce,{path:"preferences",element:a.jsx(TP,{})}),a.jsx(Ce,{path:"trending",element:a.jsx(Fp,{})}),a.jsx(Ce,{path:"categories",element:a.jsx(MP,{})}),a.jsx(Ce,{path:"category/:id",element:a.jsx(Fp,{})}),a.jsx(Ce,{path:"bookmarks",element:a.jsx(AP,{})}),a.jsx(Ce,{path:"history",element:a.jsx(RP,{})}),a.jsx(Ce,{path:"search",element:a.jsx(LP,{})}),a.jsx(Ce,{path:"profile",element:a.jsx("div",{className:"p-8 text-center text-gray-400",children:"Profile section coming soon"})})]}),a.jsx(Ce,{path:"*",element:e?a.jsx(as,{to:"/dashboard",replace:!0}):a.jsx(as,{to:"/",replace:!0})})]})}function IP(){return a.jsx(KS,{children:a.jsx(YS,{children:a.jsx(vj,{children:a.jsx(OP,{})})})})}ry(document.getElementById("root")).render(a.jsx(x.StrictMode,{children:a.jsx(IP,{})}));export{Hv as g};
